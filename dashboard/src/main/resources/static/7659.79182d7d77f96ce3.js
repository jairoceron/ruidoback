"use strict";var C=Object.defineProperty,v=Object.defineProperties,j=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,h=(a,s,e)=>s in a?C(a,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[s]=e,y=(a,s)=>{for(var e in s||(s={}))m.call(s,e)&&h(a,e,s[e]);if(d)for(var e of d(s))I.call(s,e)&&h(a,e,s[e]);return a},E=(a,s)=>v(a,j(s));(self.webpackChunkdashboard=self.webpackChunkdashboard||[]).push([[7659],{67659:(a,s,e)=>{e.r(s),e.d(s,{default:()=>f});var c=e(60046),p=e(60305),D=e(97467),O=(e(9077),e(67474),e(57025),e(33870),e(42442)),b=e(88216),M=e(24669);let n=class extends b.default{initialize(){this.handles.add([(0,D.S1)(this.view,"viewpoint",()=>this._update())])}_injectOverrides(r){const l=super._injectOverrides(r),_=this.view.scale,i=this.layer.sublayers.filter(o=>function(r,l){return!r.visible||0!==r.minScale&&l>r.minScale||0!==r.maxScale&&l<r.maxScale}(o,_)).map(o=>o.subtypeCode);if(!i.length)return l;const t=`NOT ${this.layer.subtypeField} IN (${i.join(",")})`;if((0,p.Wi)(l))return new M.Z({where:t});const u=l.clone();return u.where+=` AND ${t}`,u}_setLayersForFeature(r){const l=this.layer.fieldsIndex.get(this.layer.subtypeField),_=r.attributes[l.name],i=this.layer.sublayers.find(t=>t.subtypeCode===_);r.layer=i,r.sourceLayer=this.layer}_createSchemaConfig(){const r={subtypeField:this.layer.subtypeField,sublayers:Array.from(this.layer.sublayers).map(t=>({featureReduction:null,geometryType:this.layer.geometryType,labelingInfo:t.labelingInfo,labelsVisible:t.labelsVisible,renderer:t.renderer,subtypeCode:t.subtypeCode,orderBy:null}))},l=this.layer.sublayers.map(t=>t.subtypeCode).join(",");let i=this.layer.definitionExpression?this.layer.definitionExpression+" AND ":"";return i+=this.layer.sublayers.length?`${this.layer.subtypeField} IN (${l})`:"1=2",E(y(y({},super._createSchemaConfig()),r),{definitionExpression:i})}};n=(0,c._)([(0,O.j)("esri.views.2d.layers.SubtypeGroupLayerView2D")],n);var f=n}}]);