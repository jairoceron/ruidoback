"use strict";var hs=Object.defineProperty,rs=Object.getOwnPropertySymbols,ds=Object.prototype.hasOwnProperty,ms=Object.prototype.propertyIsEnumerable,Tn=Math.pow,is=(Ke,Re,te)=>Re in Ke?hs(Ke,Re,{enumerable:!0,configurable:!0,writable:!0,value:te}):Ke[Re]=te,ss=(Ke,Re)=>{for(var te in Re||(Re={}))ds.call(Re,te)&&is(Ke,te,Re[te]);if(rs)for(var te of rs(Re))ms.call(Re,te)&&is(Ke,te,Re[te]);return Ke};(self.webpackChunkdashboard=self.webpackChunkdashboard||[]).push([[7292],{17347:(Ke,Re)=>{function z(m,D){for(var p=0;p<D.length;p++){var h=D[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(m,h.key,h)}}function we(m,D,p){return D&&z(m.prototype,D),p&&z(m,p),m}function _(){return _=Object.assign||function(m){for(var D=1;D<arguments.length;D++){var p=arguments[D];for(var h in p)Object.prototype.hasOwnProperty.call(p,h)&&(m[h]=p[h])}return m},_.apply(this,arguments)}function ee(m,D){m.prototype=Object.create(D.prototype),m.prototype.constructor=m,se(m,D)}function V(m){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(m)}function se(m,D){return(se=Object.setPrototypeOf||function(h,y){return h.__proto__=y,h})(m,D)}function w(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(m){return!1}}function Z(m,D,p){return(Z=w()?Reflect.construct:function(y,S,H){var X=[null];X.push.apply(X,S);var Ae=new(Function.bind.apply(y,X));return H&&se(Ae,H.prototype),Ae}).apply(null,arguments)}function K(m){var D="function"==typeof Map?new Map:void 0;return K=function(h){if(null===h||!function(m){return-1!==Function.toString.call(m).indexOf("[native code]")}(h))return h;if("function"!=typeof h)throw new TypeError("Super expression must either be null or a function");if(void 0!==D){if(D.has(h))return D.get(h);D.set(h,y)}function y(){return Z(h,arguments,V(this).constructor)}return y.prototype=Object.create(h.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),se(y,h)},K(m)}function k(m,D){(null==D||D>m.length)&&(D=m.length);for(var p=0,h=new Array(D);p<D;p++)h[p]=m[p];return h}function he(m,D){var p="undefined"!=typeof Symbol&&m[Symbol.iterator]||m["@@iterator"];if(p)return(p=p.call(m)).next.bind(p);if(Array.isArray(m)||(p=function(m,D){if(m){if("string"==typeof m)return k(m,D);var p=Object.prototype.toString.call(m).slice(8,-1);if("Object"===p&&m.constructor&&(p=m.constructor.name),"Map"===p||"Set"===p)return Array.from(m);if("Arguments"===p||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return k(m,D)}}(m))||D&&m&&"number"==typeof m.length){p&&(m=p);var h=0;return function(){return h>=m.length?{done:!0}:{done:!1,value:m[h++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var de=function(m){function D(){return m.apply(this,arguments)||this}return ee(D,m),D}(K(Error)),pe=function(m){function D(p){return m.call(this,"Invalid DateTime: "+p.toMessage())||this}return ee(D,m),D}(de),Fe=function(m){function D(p){return m.call(this,"Invalid Interval: "+p.toMessage())||this}return ee(D,m),D}(de),ce=function(m){function D(p){return m.call(this,"Invalid Duration: "+p.toMessage())||this}return ee(D,m),D}(de),ne=function(m){function D(){return m.apply(this,arguments)||this}return ee(D,m),D}(de),De=function(m){function D(p){return m.call(this,"Invalid unit "+p)||this}return ee(D,m),D}(de),re=function(m){function D(){return m.apply(this,arguments)||this}return ee(D,m),D}(de),B=function(m){function D(){return m.call(this,"Zone is an abstract class")||this}return ee(D,m),D}(de),O="numeric",le="short",E="long",J={year:O,month:O,day:O},Ee={year:O,month:le,day:O},ge={year:O,month:le,day:O,weekday:le},me={year:O,month:E,day:O},g={year:O,month:E,day:O,weekday:E},j={hour:O,minute:O},I={hour:O,minute:O,second:O},Q={hour:O,minute:O,second:O,timeZoneName:le},ve={hour:O,minute:O,second:O,timeZoneName:E},Te={hour:O,minute:O,hourCycle:"h23"},Se={hour:O,minute:O,second:O,hourCycle:"h23"},Qe={hour:O,minute:O,second:O,hourCycle:"h23",timeZoneName:le},tt={hour:O,minute:O,second:O,hourCycle:"h23",timeZoneName:E},ot={year:O,month:O,day:O,hour:O,minute:O},Ye={year:O,month:O,day:O,hour:O,minute:O,second:O},Ut={year:O,month:le,day:O,hour:O,minute:O},nt={year:O,month:le,day:O,hour:O,minute:O,second:O},yt={year:O,month:le,day:O,weekday:le,hour:O,minute:O},ut={year:O,month:E,day:O,hour:O,minute:O,timeZoneName:le},wt={year:O,month:E,day:O,hour:O,minute:O,second:O,timeZoneName:le},Pt={year:O,month:E,day:O,weekday:E,hour:O,minute:O,timeZoneName:E},Ve={year:O,month:E,day:O,weekday:E,hour:O,minute:O,second:O,timeZoneName:E};function ze(m){return void 0===m}function Ft(m){return"number"==typeof m}function dt(m){return"number"==typeof m&&m%1==0}function $e(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(m){return!1}}function Kt(m,D,p){if(0!==m.length)return m.reduce(function(h,y){var S=[D(y),y];return h&&p(h[0],S[0])===h[0]?h:S},null)[1]}function mt(m,D){return Object.prototype.hasOwnProperty.call(m,D)}function gt(m,D,p){return dt(m)&&m>=D&&m<=p}function At(m,D){void 0===D&&(D=2);var p=m<0?"-":"",h=p?-1*m:m;return""+p+(h.toString().length<D?("0".repeat(D)+h).slice(-D):h.toString())}function rt(m){if(!ze(m)&&null!==m&&""!==m)return parseInt(m,10)}function ct(m){if(!ze(m)&&null!==m&&""!==m){var D=1e3*parseFloat("0."+m);return Math.floor(D)}}function pt(m,D,p){void 0===p&&(p=!1);var h=Math.pow(10,D);return(p?Math.trunc:Math.round)(m*h)/h}function Dt(m){return m%4==0&&(m%100!=0||m%400==0)}function Ct(m){return Dt(m)?366:365}function Zt(m,D){var p=function(m,D){return m-12*Math.floor(m/12)}(D-1)+1;return 2===p?Dt(m+(D-p)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][p-1]}function St(m){var D=Date.UTC(m.year,m.month-1,m.day,m.hour,m.minute,m.second,m.millisecond);return m.year<100&&m.year>=0&&(D=new Date(D)).setUTCFullYear(D.getUTCFullYear()-1900),+D}function Xt(m){var D=(m+Math.floor(m/4)-Math.floor(m/100)+Math.floor(m/400))%7,p=m-1,h=(p+Math.floor(p/4)-Math.floor(p/100)+Math.floor(p/400))%7;return 4===D||3===h?53:52}function bt(m){return m>99?m:m>60?1900+m:2e3+m}function mn(m,D,p,h){void 0===h&&(h=null);var y=new Date(m),S={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};h&&(S.timeZone=h);var H=_({timeZoneName:D},S),X=new Intl.DateTimeFormat(p,H).formatToParts(y).find(function(ae){return"timezonename"===ae.type.toLowerCase()});return X?X.value:null}function Qt(m,D){var p=parseInt(m,10);Number.isNaN(p)&&(p=0);var h=parseInt(D,10)||0;return 60*p+(p<0||Object.is(p,-0)?-h:h)}function an(m){var D=Number(m);if("boolean"==typeof m||""===m||Number.isNaN(D))throw new re("Invalid unit value "+m);return D}function qt(m,D){var p={};for(var h in m)if(mt(m,h)){var y=m[h];if(null==y)continue;p[D(h)]=an(y)}return p}function en(m,D){var p=Math.trunc(Math.abs(m/60)),h=Math.trunc(Math.abs(m%60)),y=m>=0?"+":"-";switch(D){case"short":return""+y+At(p,2)+":"+At(h,2);case"narrow":return""+y+p+(h>0?":"+h:"");case"techie":return""+y+At(p,2)+At(h,2);default:throw new RangeError("Value format "+D+" is out of range for property format")}}function tn(m){return function(m,D){return["hour","minute","second","millisecond"].reduce(function(p,h){return p[h]=m[h],p},{})}(m)}var b=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?/,$=["January","February","March","April","May","June","July","August","September","October","November","December"],N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],T=["J","F","M","A","M","J","J","A","S","O","N","D"];function G(m){switch(m){case"narrow":return[].concat(T);case"short":return[].concat(N);case"long":return[].concat($);case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var q=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],fe=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Ce=["M","T","W","T","F","S","S"];function ie(m){switch(m){case"narrow":return[].concat(Ce);case"short":return[].concat(fe);case"long":return[].concat(q);case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var ue=["AM","PM"],Oe=["Before Christ","Anno Domini"],Le=["BC","AD"],lt=["B","A"];function it(m){switch(m){case"narrow":return[].concat(lt);case"short":return[].concat(Le);case"long":return[].concat(Oe);default:return null}}function bn(m,D){for(var y,p="",h=he(m);!(y=h()).done;){var S=y.value;p+=S.literal?S.val:D(S.val)}return p}var qr={D:J,DD:Ee,DDD:me,DDDD:g,t:j,tt:I,ttt:Q,tttt:ve,T:Te,TT:Se,TTT:Qe,TTTT:tt,f:ot,ff:Ut,fff:ut,ffff:Pt,F:Ye,FF:nt,FFF:wt,FFFF:Ve},Vt=function(){function m(p,h){this.opts=h,this.loc=p,this.systemLoc=null}m.create=function(h,y){return void 0===y&&(y={}),new m(h,y)},m.parseFormat=function(h){for(var y=null,S="",H=!1,X=[],ae=0;ae<h.length;ae++){var Ae=h.charAt(ae);"'"===Ae?(S.length>0&&X.push({literal:H,val:S}),y=null,S="",H=!H):H||Ae===y?S+=Ae:(S.length>0&&X.push({literal:!1,val:S}),S=Ae,y=Ae)}return S.length>0&&X.push({literal:H,val:S}),X},m.macroTokenToFormatOpts=function(h){return qr[h]};var D=m.prototype;return D.formatWithSystemDefault=function(h,y){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(h,_({},this.opts,y)).format()},D.formatDateTime=function(h,y){return void 0===y&&(y={}),this.loc.dtFormatter(h,_({},this.opts,y)).format()},D.formatDateTimeParts=function(h,y){return void 0===y&&(y={}),this.loc.dtFormatter(h,_({},this.opts,y)).formatToParts()},D.resolvedOptions=function(h,y){return void 0===y&&(y={}),this.loc.dtFormatter(h,_({},this.opts,y)).resolvedOptions()},D.num=function(h,y){if(void 0===y&&(y=0),this.opts.forceSimple)return At(h,y);var S=_({},this.opts);return y>0&&(S.padTo=y),this.loc.numberFormatter(S).format(h)},D.formatDateTimeFromString=function(h,y){var S=this,H="en"===this.loc.listingMode(),X=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,ae=function(je,xt){return S.loc.extract(h,je,xt)},Ae=function(je){return h.isOffsetFixed&&0===h.offset&&je.allowZ?"Z":h.isValid?h.zone.formatOffset(h.ts,je.format):""},be=function(je,xt){return H?function(m,D){return G(D)[m.month-1]}(h,je):ae(xt?{month:je}:{month:je,day:"numeric"},"month")},Ie=function(je,xt){return H?function(m,D){return ie(D)[m.weekday-1]}(h,je):ae(xt?{weekday:je}:{weekday:je,month:"long",day:"numeric"},"weekday")},Pe=function(je){return H?function(m,D){return it(D)[m.year<0?0:1]}(h,je):ae({era:je},"era")};return bn(m.parseFormat(y),function(je){switch(je){case"S":return S.num(h.millisecond);case"u":case"SSS":return S.num(h.millisecond,3);case"s":return S.num(h.second);case"ss":return S.num(h.second,2);case"m":return S.num(h.minute);case"mm":return S.num(h.minute,2);case"h":return S.num(h.hour%12==0?12:h.hour%12);case"hh":return S.num(h.hour%12==0?12:h.hour%12,2);case"H":return S.num(h.hour);case"HH":return S.num(h.hour,2);case"Z":return Ae({format:"narrow",allowZ:S.opts.allowZ});case"ZZ":return Ae({format:"short",allowZ:S.opts.allowZ});case"ZZZ":return Ae({format:"techie",allowZ:S.opts.allowZ});case"ZZZZ":return h.zone.offsetName(h.ts,{format:"short",locale:S.loc.locale});case"ZZZZZ":return h.zone.offsetName(h.ts,{format:"long",locale:S.loc.locale});case"z":return h.zoneName;case"a":return H?function(m){return ue[m.hour<12?0:1]}(h):ae({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return X?ae({day:"numeric"},"day"):S.num(h.day);case"dd":return X?ae({day:"2-digit"},"day"):S.num(h.day,2);case"c":case"E":return S.num(h.weekday);case"ccc":return Ie("short",!0);case"cccc":return Ie("long",!0);case"ccccc":return Ie("narrow",!0);case"EEE":return Ie("short",!1);case"EEEE":return Ie("long",!1);case"EEEEE":return Ie("narrow",!1);case"L":return X?ae({month:"numeric",day:"numeric"},"month"):S.num(h.month);case"LL":return X?ae({month:"2-digit",day:"numeric"},"month"):S.num(h.month,2);case"LLL":return be("short",!0);case"LLLL":return be("long",!0);case"LLLLL":return be("narrow",!0);case"M":return X?ae({month:"numeric"},"month"):S.num(h.month);case"MM":return X?ae({month:"2-digit"},"month"):S.num(h.month,2);case"MMM":return be("short",!1);case"MMMM":return be("long",!1);case"MMMMM":return be("narrow",!1);case"y":return X?ae({year:"numeric"},"year"):S.num(h.year);case"yy":return X?ae({year:"2-digit"},"year"):S.num(h.year.toString().slice(-2),2);case"yyyy":return X?ae({year:"numeric"},"year"):S.num(h.year,4);case"yyyyyy":return X?ae({year:"numeric"},"year"):S.num(h.year,6);case"G":return Pe("short");case"GG":return Pe("long");case"GGGGG":return Pe("narrow");case"kk":return S.num(h.weekYear.toString().slice(-2),2);case"kkkk":return S.num(h.weekYear,4);case"W":return S.num(h.weekNumber);case"WW":return S.num(h.weekNumber,2);case"o":return S.num(h.ordinal);case"ooo":return S.num(h.ordinal,3);case"q":return S.num(h.quarter);case"qq":return S.num(h.quarter,2);case"X":return S.num(Math.floor(h.ts/1e3));case"x":return S.num(h.ts);default:return function(je){var xt=m.macroTokenToFormatOpts(je);return xt?S.formatWithSystemDefault(h,xt):je}(je)}})},D.formatDurationFromString=function(h,y){var Ie,S=this,H=function(Ie){switch(Ie[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"M":return"month";case"y":return"year";default:return null}},ae=m.parseFormat(y),Ae=ae.reduce(function(be,Ie){return Ie.literal?be:be.concat(Ie.val)},[]),Ne=h.shiftTo.apply(h,Ae.map(H).filter(function(be){return be}));return bn(ae,(Ie=Ne,function(Ue){var Pe=H(Ue);return Pe?S.num(Ie.get(Pe),Ue.length):Ue}))},m}(),Bt=function(){function m(p,h){this.reason=p,this.explanation=h}return m.prototype.toMessage=function(){return this.explanation?this.reason+": "+this.explanation:this.reason},m}(),pn=function(){function m(){}var D=m.prototype;return D.offsetName=function(h,y){throw new B},D.formatOffset=function(h,y){throw new B},D.offset=function(h){throw new B},D.equals=function(h){throw new B},we(m,[{key:"type",get:function(){throw new B}},{key:"name",get:function(){throw new B}},{key:"isUniversal",get:function(){throw new B}},{key:"isValid",get:function(){throw new B}}]),m}(),Zn=null,jt=function(m){function D(){return m.apply(this,arguments)||this}ee(D,m);var p=D.prototype;return p.offsetName=function(y,S){return mn(y,S.format,S.locale)},p.formatOffset=function(y,S){return en(this.offset(y),S)},p.offset=function(y){return-new Date(y).getTimezoneOffset()},p.equals=function(y){return"system"===y.type},we(D,[{key:"type",get:function(){return"system"}},{key:"name",get:function(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return null===Zn&&(Zn=new D),Zn}}]),D}(pn),pr=RegExp("^"+b.source+"$"),In={},ti={year:0,month:1,day:2,hour:3,minute:4,second:5},Nn={},zt=function(m){function D(h){var y;return(y=m.call(this)||this).zoneName=h,y.valid=D.isValidZone(h),y}ee(D,m),D.create=function(y){return Nn[y]||(Nn[y]=new D(y)),Nn[y]},D.resetCache=function(){Nn={},In={}},D.isValidSpecifier=function(y){return!(!y||!y.match(pr))},D.isValidZone=function(y){try{return new Intl.DateTimeFormat("en-US",{timeZone:y}).format(),!0}catch(S){return!1}},D.parseGMTOffset=function(y){if(y){var S=y.match(/^Etc\/GMT(0|[+-]\d{1,2})$/i);if(S)return-60*parseInt(S[1])}return null};var p=D.prototype;return p.offsetName=function(y,S){return mn(y,S.format,S.locale,this.name)},p.formatOffset=function(y,S){return en(this.offset(y),S)},p.offset=function(y){var S=new Date(y);if(isNaN(S))return NaN;var H=function(m){return In[m]||(In[m]=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:m,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),In[m]}(this.name),X=H.formatToParts?function(m,D){for(var p=m.formatToParts(D),h=[],y=0;y<p.length;y++){var S=p[y],X=S.value,ae=ti[S.type];ze(ae)||(h[ae]=parseInt(X,10))}return h}(H,S):function(m,D){var p=m.format(D).replace(/\u200E/g,""),h=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(p);return[h[3],h[1],h[2],h[4],h[5],h[6]]}(H,S),Ge=+S,He=Ge%1e3;return(St({year:X[0],month:X[1],day:X[2],hour:X[3],minute:X[4],second:X[5],millisecond:0})-(Ge-=He>=0?He:1e3+He))/6e4},p.equals=function(y){return"iana"===y.type&&y.name===this.name},we(D,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]),D}(pn),On=null,Nt=function(m){function D(h){var y;return(y=m.call(this)||this).fixed=h,y}ee(D,m),D.instance=function(y){return 0===y?D.utcInstance:new D(y)},D.parseSpecifier=function(y){if(y){var S=y.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(S)return new D(Qt(S[1],S[2]))}return null};var p=D.prototype;return p.offsetName=function(){return this.name},p.formatOffset=function(y,S){return en(this.fixed,S)},p.offset=function(){return this.fixed},p.equals=function(y){return"fixed"===y.type&&y.fixed===this.fixed},we(D,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return 0===this.fixed?"UTC":"UTC"+en(this.fixed,"narrow")}},{key:"isUniversal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}],[{key:"utcInstance",get:function(){return null===On&&(On=new D(0)),On}}]),D}(pn),st=function(m){function D(h){var y;return(y=m.call(this)||this).zoneName=h,y}ee(D,m);var p=D.prototype;return p.offsetName=function(){return null},p.formatOffset=function(){return""},p.offset=function(){return NaN},p.equals=function(){return!1},we(D,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]),D}(pn);function Yt(m,D){var p;if(ze(m)||null===m)return D;if(m instanceof pn)return m;if(function(m){return"string"==typeof m}(m)){var h=m.toLowerCase();return"local"===h||"system"===h?D:"utc"===h||"gmt"===h?Nt.utcInstance:null!=(p=zt.parseGMTOffset(m))?Nt.instance(p):zt.isValidSpecifier(h)?zt.create(m):Nt.parseSpecifier(h)||new st(m)}return Ft(m)?Nt.instance(m):"object"==typeof m&&m.offset&&"number"==typeof m.offset?m:new st(m)}var Hn,Gn=function(){return Date.now()},jn="system",nn=null,gr=null,zn=null,at=function(){function m(){}return m.resetCaches=function(){ft.resetCache(),zt.resetCache()},we(m,null,[{key:"now",get:function(){return Gn},set:function(p){Gn=p}},{key:"defaultZone",get:function(){return Yt(jn,jt.instance)},set:function(p){jn=p}},{key:"defaultLocale",get:function(){return nn},set:function(p){nn=p}},{key:"defaultNumberingSystem",get:function(){return gr},set:function(p){gr=p}},{key:"defaultOutputCalendar",get:function(){return zn},set:function(p){zn=p}},{key:"throwOnInvalid",get:function(){return Hn},set:function(p){Hn=p}}]),m}(),xn=["base"],Vn={};function yr(m,D){void 0===D&&(D={});var p=JSON.stringify([m,D]),h=Vn[p];return h||(h=new Intl.DateTimeFormat(m,D),Vn[p]=h),h}var Yn={},_n={};var Mn=null;function kn(m,D,p,h,y){var S=m.listingMode(p);return"error"===S?null:"en"===S?h(D):y(D)}var oi=function(){function m(p,h,y){if(this.padTo=y.padTo||0,this.floor=y.floor||!1,!h){var S={useGrouping:!1};y.padTo>0&&(S.minimumIntegerDigits=y.padTo),this.inf=function(m,D){void 0===D&&(D={});var p=JSON.stringify([m,D]),h=Yn[p];return h||(h=new Intl.NumberFormat(m,D),Yn[p]=h),h}(p,S)}}return m.prototype.format=function(h){if(this.inf){var y=this.floor?Math.floor(h):h;return this.inf.format(y)}return At(this.floor?Math.floor(h):pt(h,3),this.padTo)},m}(),et=function(){function m(p,h,y){var S;if(this.opts=y,p.zone.isUniversal){var H=p.offset/60*-1,X=H>=0?"Etc/GMT+"+H:"Etc/GMT"+H,ae=zt.isValidZone(X);0!==p.offset&&ae?(S=X,this.dt=p):(S="UTC",this.dt=y.timeZoneName||0===p.offset?p:ht.fromMillis(p.ts+60*p.offset*1e3))}else"system"===p.zone.type?this.dt=p:(this.dt=p,S=p.zone.name);var Ae=_({},this.opts);S&&(Ae.timeZone=S),this.dtf=yr(h,Ae)}var D=m.prototype;return D.format=function(){return this.dtf.format(this.dt.toJSDate())},D.formatToParts=function(){return this.dtf.formatToParts(this.dt.toJSDate())},D.resolvedOptions=function(){return this.dtf.resolvedOptions()},m}(),qe=function(){function m(p,h,y){this.opts=_({style:"long"},y),!h&&$e()&&(this.rtf=function(m,D){void 0===D&&(D={});var h=function(m,D){if(null==m)return{};var y,S,p={},h=Object.keys(m);for(S=0;S<h.length;S++)!(D.indexOf(y=h[S])>=0)&&(p[y]=m[y]);return p}(D,xn),y=JSON.stringify([m,h]),S=_n[y];return S||(S=new Intl.RelativeTimeFormat(m,D),_n[y]=S),S}(p,y))}var D=m.prototype;return D.format=function(h,y){return this.rtf?this.rtf.format(h,y):function(m,D,p,h){void 0===p&&(p="always"),void 0===h&&(h=!1);var y={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},S=-1===["hours","minutes","seconds"].indexOf(m);if("auto"===p&&S){var H="days"===m;switch(D){case 1:return H?"tomorrow":"next "+y[m][0];case-1:return H?"yesterday":"last "+y[m][0];case 0:return H?"today":"this "+y[m][0]}}var X=Object.is(D,-0)||D<0,ae=Math.abs(D),Ae=1===ae,Ne=y[m],be=h?Ae?Ne[1]:Ne[2]||Ne[1]:Ae?y[m][0]:m;return X?ae+" "+be+" ago":"in "+ae+" "+be}(y,h,this.opts.numeric,"long"!==this.opts.style)},D.formatToParts=function(h,y){return this.rtf?this.rtf.formatToParts(h,y):[]},m}(),ft=function(){function m(p,h,y,S){var H=function(m){var D=m.indexOf("-u-");if(-1===D)return[m];var p,h=m.substring(0,D);try{p=yr(m).resolvedOptions()}catch(X){p=yr(h).resolvedOptions()}return[h,p.numberingSystem,p.calendar]}(p),ae=H[1],Ae=H[2];this.locale=H[0],this.numberingSystem=h||ae||null,this.outputCalendar=y||Ae||null,this.intl=function(m,D,p){return(p||D)&&(m+="-u",p&&(m+="-ca-"+p),D&&(m+="-nu-"+D)),m}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=S,this.fastNumbersCached=null}m.fromOpts=function(h){return m.create(h.locale,h.numberingSystem,h.outputCalendar,h.defaultToEN)},m.create=function(h,y,S,H){void 0===H&&(H=!1);var X=h||at.defaultLocale;return new m(X||(H?"en-US":Mn||(Mn=(new Intl.DateTimeFormat).resolvedOptions().locale)),y||at.defaultNumberingSystem,S||at.defaultOutputCalendar,X)},m.resetCache=function(){Mn=null,Vn={},Yn={},_n={}},m.fromObject=function(h){var y=void 0===h?{}:h;return m.create(y.locale,y.numberingSystem,y.outputCalendar)};var D=m.prototype;return D.listingMode=function(h){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"},D.clone=function(h){return h&&0!==Object.getOwnPropertyNames(h).length?m.create(h.locale||this.specifiedLocale,h.numberingSystem||this.numberingSystem,h.outputCalendar||this.outputCalendar,h.defaultToEN||!1):this},D.redefaultToEN=function(h){return void 0===h&&(h={}),this.clone(_({},h,{defaultToEN:!0}))},D.redefaultToSystem=function(h){return void 0===h&&(h={}),this.clone(_({},h,{defaultToEN:!1}))},D.months=function(h,y,S){var H=this;return void 0===y&&(y=!1),void 0===S&&(S=!0),kn(this,h,S,G,function(){var X=y?{month:h,day:"numeric"}:{month:h},ae=y?"format":"standalone";return H.monthsCache[ae][h]||(H.monthsCache[ae][h]=function(m){for(var D=[],p=1;p<=12;p++){var h=ht.utc(2016,p,1);D.push(H.extract(h,X,"month"))}return D}()),H.monthsCache[ae][h]})},D.weekdays=function(h,y,S){var H=this;return void 0===y&&(y=!1),void 0===S&&(S=!0),kn(this,h,S,ie,function(){var X=y?{weekday:h,year:"numeric",month:"long",day:"numeric"}:{weekday:h},ae=y?"format":"standalone";return H.weekdaysCache[ae][h]||(H.weekdaysCache[ae][h]=function(m){for(var D=[],p=1;p<=7;p++){var h=ht.utc(2016,11,13+p);D.push(H.extract(h,X,"weekday"))}return D}()),H.weekdaysCache[ae][h]})},D.meridiems=function(h){var y=this;return void 0===h&&(h=!0),kn(this,void 0,h,function(){return ue},function(){if(!y.meridiemCache){var S={hour:"numeric",hourCycle:"h12"};y.meridiemCache=[ht.utc(2016,11,13,9),ht.utc(2016,11,13,19)].map(function(H){return y.extract(H,S,"dayperiod")})}return y.meridiemCache})},D.eras=function(h,y){var S=this;return void 0===y&&(y=!0),kn(this,h,y,it,function(){var H={era:h};return S.eraCache[h]||(S.eraCache[h]=[ht.utc(-40,1,1),ht.utc(2017,1,1)].map(function(X){return S.extract(X,H,"era")})),S.eraCache[h]})},D.extract=function(h,y,S){var ae=this.dtFormatter(h,y).formatToParts().find(function(Ae){return Ae.type.toLowerCase()===S});return ae?ae.value:null},D.numberFormatter=function(h){return void 0===h&&(h={}),new oi(this.intl,h.forceSimple||this.fastNumbers,h)},D.dtFormatter=function(h,y){return void 0===y&&(y={}),new et(h,this.intl,y)},D.relFormatter=function(h){return void 0===h&&(h={}),new qe(this.intl,this.isEnglish(),h)},D.isEnglish=function(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")},D.equals=function(h){return this.locale===h.locale&&this.numberingSystem===h.numberingSystem&&this.outputCalendar===h.outputCalendar},we(m,[{key:"fastNumbers",get:function(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function(m){return(!m.numberingSystem||"latn"===m.numberingSystem)&&("latn"===m.numberingSystem||!m.locale||m.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(m.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}}]),m}();function yn(){for(var m=arguments.length,D=new Array(m),p=0;p<m;p++)D[p]=arguments[p];var h=D.reduce(function(y,S){return y+S.source},"");return RegExp("^"+h+"$")}function ln(){for(var m=arguments.length,D=new Array(m),p=0;p<m;p++)D[p]=arguments[p];return function(h){return D.reduce(function(y,S){var H=y[0],X=y[1],Ae=S(h,y[2]),be=Ae[1],Ie=Ae[2];return[_({},H,Ae[0]),X||be,Ie]},[{},null,1]).slice(0,2)}}function Dn(m){if(null==m)return[null,null];for(var D=arguments.length,p=new Array(D>1?D-1:0),h=1;h<D;h++)p[h-1]=arguments[h];for(var y=0,S=p;y<S.length;y++){var H=S[y],X=H[0],ae=H[1],Ae=X.exec(m);if(Ae)return ae(Ae)}return[null,null]}function Dr(){for(var m=arguments.length,D=new Array(m),p=0;p<m;p++)D[p]=arguments[p];return function(h,y){var H,S={};for(H=0;H<D.length;H++)S[D[H]]=rt(h[y+H]);return[S,null,y+H]}}var ui=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Rn=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Wn=RegExp(""+Rn.source+ui.source+"?"),Jn=RegExp("(?:T"+Wn.source+")?"),ci=Dr("weekYear","weekNumber","weekDay"),Kn=Dr("year","ordinal"),Ar=RegExp(Rn.source+" ?(?:"+ui.source+"|("+b.source+"))?"),fi=RegExp("(?: "+Ar.source+")?");function En(m,D,p){var h=m[D];return ze(h)?p:rt(h)}function cn(m,D){return[{year:En(m,D),month:En(m,D+1,1),day:En(m,D+2,1)},null,D+3]}function fn(m,D){return[{hours:En(m,D,0),minutes:En(m,D+1,0),seconds:En(m,D+2,0),milliseconds:ct(m[D+3])},null,D+4]}function Wt(m,D){var p=!m[D]&&!m[D+1],h=Qt(m[D+1],m[D+2]);return[{},p?null:Nt.instance(h),D+3]}function Cr(m,D){return[{},m[D]?zt.create(m[D]):null,D+1]}var hi=RegExp("^T?"+Rn.source+"$"),di=/^-?P(?:(?:(-?\d{1,9})Y)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})W)?(?:(-?\d{1,9})D)?(?:T(?:(-?\d{1,9})H)?(?:(-?\d{1,9})M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function mi(m){var h=m[2],y=m[3],S=m[4],H=m[5],X=m[6],ae=m[7],Ae=m[8],Ne="-"===m[0][0],be=ae&&"-"===ae[0],Ie=function(Pe,Ge){return void 0===Ge&&(Ge=!1),void 0!==Pe&&(Ge||Pe&&Ne)?-Pe:Pe};return[{years:Ie(rt(m[1])),months:Ie(rt(h)),weeks:Ie(rt(y)),days:Ie(rt(S)),hours:Ie(rt(H)),minutes:Ie(rt(X)),seconds:Ie(rt(ae),"-0"===ae),milliseconds:Ie(ct(Ae),be)}]}var wr={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function $n(m,D,p,h,y,S,H){var X={year:2===D.length?bt(rt(D)):rt(D),month:N.indexOf(p)+1,day:rt(h),hour:rt(y),minute:rt(S)};return H&&(X.second=rt(H)),m&&(X.weekday=m.length>3?q.indexOf(m)+1:fe.indexOf(m)+1),X}var Vi=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function pi(m){var Ue,ae=m[8],Ae=m[9],Ne=m[10],be=m[11],Ie=$n(m[1],m[4],m[3],m[2],m[5],m[6],m[7]);return Ue=ae?wr[ae]:Ae?0:Qt(Ne,be),[Ie,new Nt(Ue)]}var Fr=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Xn=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,gi=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Qn(m){return[$n(m[1],m[4],m[3],m[2],m[5],m[6],m[7]),Nt.utcInstance]}function Ze(m){return[$n(m[1],m[7],m[2],m[3],m[4],m[5],m[6]),Nt.utcInstance]}var Sr=yn(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Jn),qn=yn(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Jn),yi=yn(/(\d{4})-?(\d{3})/,Jn),Di=yn(Wn),Ei=ln(cn,fn,Wt),vi=ln(ci,fn,Wt),Wi=ln(Kn,fn,Wt),Tr=ln(fn,Wt),Ai=ln(fn),wi=yn(/(\d{4})-(\d\d)-(\d\d)/,fi),$i=yn(Ar),Xi=ln(cn,fn,Wt,Cr),er=ln(fn,Wt,Cr),Ir={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Nr=_({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},Ir),Tt=365.2425,Et=30.436875,tr=_({years:{quarters:4,months:12,weeks:Tt/7,days:Tt,hours:24*Tt,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:Tt/28,days:Tt/4,hours:24*Tt/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:Et/7,days:Et,hours:24*Et,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},Ir),hn=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Ti=hn.slice(0).reverse();function dn(m,D,p){void 0===p&&(p=!1);var h={values:p?D.values:_({},m.values,D.values||{}),loc:m.loc.clone(D.loc),conversionAccuracy:D.conversionAccuracy||m.conversionAccuracy};return new vt(h)}function Or(m,D,p,h,y){var S=m[y][p],H=D[p]/S,ae=Math.sign(H)!==Math.sign(h[y])&&0!==h[y]&&Math.abs(H)<=1?function(m){return m<0?Math.floor(m):Math.ceil(m)}(H):Math.trunc(H);h[y]+=ae,D[p]-=ae*S}var vt=function(){function m(p){var h="longterm"===p.conversionAccuracy||!1;this.values=p.values,this.loc=p.loc||ft.create(),this.conversionAccuracy=h?"longterm":"casual",this.invalid=p.invalid||null,this.matrix=h?tr:Nr,this.isLuxonDuration=!0}m.fromMillis=function(h,y){return m.fromObject({milliseconds:h},y)},m.fromObject=function(h,y){if(void 0===y&&(y={}),null==h||"object"!=typeof h)throw new re("Duration.fromObject: argument expected to be an object, got "+(null===h?"null":typeof h));return new m({values:qt(h,m.normalizeUnit),loc:ft.fromObject(y),conversionAccuracy:y.conversionAccuracy})},m.fromISO=function(h,y){var S=function(m){return Dn(m,[di,mi])}(h),H=S[0];return H?m.fromObject(H,y):m.invalid("unparsable",'the input "'+h+"\" can't be parsed as ISO 8601")},m.fromISOTime=function(h,y){var S=function(m){return Dn(m,[hi,Ai])}(h),H=S[0];return H?m.fromObject(H,y):m.invalid("unparsable",'the input "'+h+"\" can't be parsed as ISO 8601")},m.invalid=function(h,y){if(void 0===y&&(y=null),!h)throw new re("need to specify a reason the Duration is invalid");var S=h instanceof Bt?h:new Bt(h,y);if(at.throwOnInvalid)throw new ce(S);return new m({invalid:S})},m.normalizeUnit=function(h){var y={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[h&&h.toLowerCase()];if(!y)throw new De(h);return y},m.isDuration=function(h){return h&&h.isLuxonDuration||!1};var D=m.prototype;return D.toFormat=function(h,y){void 0===y&&(y={});var S=_({},y,{floor:!1!==y.round&&!1!==y.floor});return this.isValid?Vt.create(this.loc,S).formatDurationFromString(this,h):"Invalid Duration"},D.toObject=function(){return this.isValid?_({},this.values):{}},D.toISO=function(){if(!this.isValid)return null;var h="P";return 0!==this.years&&(h+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(h+=this.months+3*this.quarters+"M"),0!==this.weeks&&(h+=this.weeks+"W"),0!==this.days&&(h+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(h+="T"),0!==this.hours&&(h+=this.hours+"H"),0!==this.minutes&&(h+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(h+=pt(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===h&&(h+="T0S"),h},D.toISOTime=function(h){if(void 0===h&&(h={}),!this.isValid)return null;var y=this.toMillis();if(y<0||y>=864e5)return null;h=_({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},h);var S=this.shiftTo("hours","minutes","seconds","milliseconds"),H="basic"===h.format?"hhmm":"hh:mm";(!h.suppressSeconds||0!==S.seconds||0!==S.milliseconds)&&(H+="basic"===h.format?"ss":":ss",(!h.suppressMilliseconds||0!==S.milliseconds)&&(H+=".SSS"));var X=S.toFormat(H);return h.includePrefix&&(X="T"+X),X},D.toJSON=function(){return this.toISO()},D.toString=function(){return this.toISO()},D.toMillis=function(){return this.as("milliseconds")},D.valueOf=function(){return this.toMillis()},D.plus=function(h){if(!this.isValid)return this;for(var X,y=Jt(h),S={},H=he(hn);!(X=H()).done;){var ae=X.value;(mt(y.values,ae)||mt(this.values,ae))&&(S[ae]=y.get(ae)+this.get(ae))}return dn(this,{values:S},!0)},D.minus=function(h){if(!this.isValid)return this;var y=Jt(h);return this.plus(y.negate())},D.mapUnits=function(h){if(!this.isValid)return this;for(var y={},S=0,H=Object.keys(this.values);S<H.length;S++){var X=H[S];y[X]=an(h(this.values[X],X))}return dn(this,{values:y},!0)},D.get=function(h){return this[m.normalizeUnit(h)]},D.set=function(h){return this.isValid?dn(this,{values:_({},this.values,qt(h,m.normalizeUnit))}):this},D.reconfigure=function(h){var y=void 0===h?{}:h,X=y.conversionAccuracy,Ae={loc:this.loc.clone({locale:y.locale,numberingSystem:y.numberingSystem})};return X&&(Ae.conversionAccuracy=X),dn(this,Ae)},D.as=function(h){return this.isValid?this.shiftTo(h).get(h):NaN},D.normalize=function(){if(!this.isValid)return this;var h=this.toObject();return function(m,D){Ti.reduce(function(p,h){return ze(D[h])?p:(p&&Or(m,D,p,D,h),h)},null)}(this.matrix,h),dn(this,{values:h},!0)},D.shiftTo=function(){for(var h=arguments.length,y=new Array(h),S=0;S<h;S++)y[S]=arguments[S];if(!this.isValid)return this;if(0===y.length)return this;y=y.map(function(xt){return m.normalizeUnit(xt)});for(var Ae,be,H={},X={},ae=this.toObject(),Ne=he(hn);!(be=Ne()).done;){var Ie=be.value;if(y.indexOf(Ie)>=0){Ae=Ie;var Ue=0;for(var Pe in X)Ue+=this.matrix[Pe][Ie]*X[Pe],X[Pe]=0;Ft(ae[Ie])&&(Ue+=ae[Ie]);var Ge=Math.trunc(Ue);for(var He in H[Ie]=Ge,X[Ie]=Ue-Ge,ae)hn.indexOf(He)>hn.indexOf(Ie)&&Or(this.matrix,ae,He,H,Ie)}else Ft(ae[Ie])&&(X[Ie]=ae[Ie])}for(var je in X)0!==X[je]&&(H[Ae]+=je===Ae?X[je]:X[je]/this.matrix[Ae][je]);return dn(this,{values:H},!0).normalize()},D.negate=function(){if(!this.isValid)return this;for(var h={},y=0,S=Object.keys(this.values);y<S.length;y++){var H=S[y];h[H]=-this.values[H]}return dn(this,{values:h},!0)},D.equals=function(h){if(!this.isValid||!h.isValid||!this.loc.equals(h.loc))return!1;for(var H,S=he(hn);!(H=S()).done;){var X=H.value;if(Ae=h.values[X],!(void 0===(ae=this.values[X])||0===ae?void 0===Ae||0===Ae:ae===Ae))return!1}var ae,Ae;return!0},we(m,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),m}();function Jt(m){if(Ft(m))return vt.fromMillis(m);if(vt.isDuration(m))return m;if("object"==typeof m)return vt.fromObject(m);throw new re("Unknown duration argument "+m+" of type "+typeof m)}var rn="Invalid Interval",An=function(){function m(p){this.s=p.start,this.e=p.end,this.invalid=p.invalid||null,this.isLuxonInterval=!0}m.invalid=function(h,y){if(void 0===y&&(y=null),!h)throw new re("need to specify a reason the Interval is invalid");var S=h instanceof Bt?h:new Bt(h,y);if(at.throwOnInvalid)throw new Fe(S);return new m({invalid:S})},m.fromDateTimes=function(h,y){var S=dr(h),H=dr(y),X=function(m,D){return m&&m.isValid?D&&D.isValid?D<m?An.invalid("end before start","The end of an interval must be after its start, but you had start="+m.toISO()+" and end="+D.toISO()):null:An.invalid("missing or invalid end"):An.invalid("missing or invalid start")}(S,H);return null==X?new m({start:S,end:H}):X},m.after=function(h,y){var S=Jt(y),H=dr(h);return m.fromDateTimes(H,H.plus(S))},m.before=function(h,y){var S=Jt(y),H=dr(h);return m.fromDateTimes(H.minus(S),H)},m.fromISO=function(h,y){var S=(h||"").split("/",2),H=S[0],X=S[1];if(H&&X){var ae,Ae,Ne,be;try{Ae=(ae=ht.fromISO(H,y)).isValid}catch(Pe){Ae=!1}try{be=(Ne=ht.fromISO(X,y)).isValid}catch(Pe){be=!1}if(Ae&&be)return m.fromDateTimes(ae,Ne);if(Ae){var Ie=vt.fromISO(X,y);if(Ie.isValid)return m.after(ae,Ie)}else if(be){var Ue=vt.fromISO(H,y);if(Ue.isValid)return m.before(Ne,Ue)}}return m.invalid("unparsable",'the input "'+h+"\" can't be parsed as ISO 8601")},m.isInterval=function(h){return h&&h.isLuxonInterval||!1};var D=m.prototype;return D.length=function(h){return void 0===h&&(h="milliseconds"),this.isValid?this.toDuration.apply(this,[h]).get(h):NaN},D.count=function(h){if(void 0===h&&(h="milliseconds"),!this.isValid)return NaN;var y=this.start.startOf(h),S=this.end.startOf(h);return Math.floor(S.diff(y,h).get(h))+1},D.hasSame=function(h){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,h))},D.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()},D.isAfter=function(h){return!!this.isValid&&this.s>h},D.isBefore=function(h){return!!this.isValid&&this.e<=h},D.contains=function(h){return!!this.isValid&&this.s<=h&&this.e>h},D.set=function(h){var y=void 0===h?{}:h;return this.isValid?m.fromDateTimes(y.start||this.s,y.end||this.e):this},D.splitAt=function(){var h=this;if(!this.isValid)return[];for(var y=arguments.length,S=new Array(y),H=0;H<y;H++)S[H]=arguments[H];for(var X=S.map(dr).filter(function(Ue){return h.contains(Ue)}).sort(),ae=[],Ae=this.s,Ne=0;Ae<this.e;){var be=X[Ne]||this.e,Ie=+be>+this.e?this.e:be;ae.push(m.fromDateTimes(Ae,Ie)),Ae=Ie,Ne+=1}return ae},D.splitBy=function(h){var y=Jt(h);if(!this.isValid||!y.isValid||0===y.as("milliseconds"))return[];for(var X,S=this.s,H=1,ae=[];S<this.e;){var Ae=this.start.plus(y.mapUnits(function(Ne){return Ne*H}));ae.push(m.fromDateTimes(S,X=+Ae>+this.e?this.e:Ae)),S=X,H+=1}return ae},D.divideEqually=function(h){return this.isValid?this.splitBy(this.length()/h).slice(0,h):[]},D.overlaps=function(h){return this.e>h.s&&this.s<h.e},D.abutsStart=function(h){return!!this.isValid&&+this.e==+h.s},D.abutsEnd=function(h){return!!this.isValid&&+h.e==+this.s},D.engulfs=function(h){return!!this.isValid&&this.s<=h.s&&this.e>=h.e},D.equals=function(h){return!(!this.isValid||!h.isValid)&&this.s.equals(h.s)&&this.e.equals(h.e)},D.intersection=function(h){if(!this.isValid)return this;var y=this.s>h.s?this.s:h.s,S=this.e<h.e?this.e:h.e;return y>=S?null:m.fromDateTimes(y,S)},D.union=function(h){return this.isValid?m.fromDateTimes(this.s<h.s?this.s:h.s,this.e>h.e?this.e:h.e):this},m.merge=function(h){var y=h.sort(function(X,ae){return X.s-ae.s}).reduce(function(X,ae){var Ae=X[0],Ne=X[1];return Ne?Ne.overlaps(ae)||Ne.abutsStart(ae)?[Ae,Ne.union(ae)]:[Ae.concat([Ne]),ae]:[Ae,ae]},[[],null]),S=y[0],H=y[1];return H&&S.push(H),S},m.xor=function(h){for(var y,Ie,S=null,H=0,X=[],ae=h.map(function(Pe){return[{time:Pe.s,type:"s"},{time:Pe.e,type:"e"}]}),be=he((y=Array.prototype).concat.apply(y,ae).sort(function(Pe,Ge){return Pe.time-Ge.time}));!(Ie=be()).done;){var Ue=Ie.value;1===(H+="s"===Ue.type?1:-1)?S=Ue.time:(S&&+S!=+Ue.time&&X.push(m.fromDateTimes(S,Ue.time)),S=null)}return m.merge(X)},D.difference=function(){for(var h=this,y=arguments.length,S=new Array(y),H=0;H<y;H++)S[H]=arguments[H];return m.xor([this].concat(S)).map(function(X){return h.intersection(X)}).filter(function(X){return X&&!X.isEmpty()})},D.toString=function(){return this.isValid?"["+this.s.toISO()+" \u2013 "+this.e.toISO()+")":rn},D.toISO=function(h){return this.isValid?this.s.toISO(h)+"/"+this.e.toISO(h):rn},D.toISODate=function(){return this.isValid?this.s.toISODate()+"/"+this.e.toISODate():rn},D.toISOTime=function(h){return this.isValid?this.s.toISOTime(h)+"/"+this.e.toISOTime(h):rn},D.toFormat=function(h,y){var H=(void 0===y?{}:y).separator,X=void 0===H?" \u2013 ":H;return this.isValid?""+this.s.toFormat(h)+X+this.e.toFormat(h):rn},D.toDuration=function(h,y){return this.isValid?this.e.diff(this.s,h,y):vt.invalid(this.invalidReason)},D.mapEndpoints=function(h){return m.fromDateTimes(h(this.s),h(this.e))},we(m,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return null===this.invalidReason}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),m}(),vn=function(){function m(){}return m.hasDST=function(p){void 0===p&&(p=at.defaultZone);var h=ht.now().setZone(p).set({month:12});return!p.isUniversal&&h.offset!==h.set({month:6}).offset},m.isValidIANAZone=function(p){return zt.isValidSpecifier(p)&&zt.isValidZone(p)},m.normalizeZone=function(p){return Yt(p,at.defaultZone)},m.months=function(p,h){void 0===p&&(p="long");var y=void 0===h?{}:h,S=y.locale,X=y.numberingSystem,Ae=y.locObj,be=y.outputCalendar;return((void 0===Ae?null:Ae)||ft.create(void 0===S?null:S,void 0===X?null:X,void 0===be?"gregory":be)).months(p)},m.monthsFormat=function(p,h){void 0===p&&(p="long");var y=void 0===h?{}:h,S=y.locale,X=y.numberingSystem,Ae=y.locObj,be=y.outputCalendar;return((void 0===Ae?null:Ae)||ft.create(void 0===S?null:S,void 0===X?null:X,void 0===be?"gregory":be)).months(p,!0)},m.weekdays=function(p,h){void 0===p&&(p="long");var y=void 0===h?{}:h,S=y.locale,X=y.numberingSystem,Ae=y.locObj;return((void 0===Ae?null:Ae)||ft.create(void 0===S?null:S,void 0===X?null:X,null)).weekdays(p)},m.weekdaysFormat=function(p,h){void 0===p&&(p="long");var y=void 0===h?{}:h,S=y.locale,X=y.numberingSystem,Ae=y.locObj;return((void 0===Ae?null:Ae)||ft.create(void 0===S?null:S,void 0===X?null:X,null)).weekdays(p,!0)},m.meridiems=function(p){var y=(void 0===p?{}:p).locale;return ft.create(void 0===y?null:y).meridiems()},m.eras=function(p,h){void 0===p&&(p="short");var S=(void 0===h?{}:h).locale;return ft.create(void 0===S?null:S,null,"gregory").eras(p)},m.features=function(){return{relative:$e()}},m}();function Cn(m,D){var p=function(S){return S.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},h=p(D)-p(m);return Math.floor(vt.fromMillis(h).as("days"))}var wn={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},Bn={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},_r=wn.hanidec.replace(/[\[|\]]/g,"").split("");function Ot(m,D){return void 0===D&&(D=""),new RegExp(""+wn[m.numberingSystem||"latn"]+D)}function Je(m,D){return void 0===D&&(D=function(h){return h}),{regex:m,deser:function(h){return D(function(m){var D=parseInt(m,10);if(isNaN(D)){D="";for(var p=0;p<m.length;p++){var h=m.charCodeAt(p);if(-1!==m[p].search(wn.hanidec))D+=_r.indexOf(m[p]);else for(var y in Bn){var S=Bn[y],H=S[0];h>=H&&h<=S[1]&&(D+=h-H)}}return parseInt(D,10)}return D}(h[0]))}}}var Rr="( |"+String.fromCharCode(160)+")",Br=new RegExp(Rr,"g");function Lr(m){return m.replace(/\./g,"\\.?").replace(Br,Rr)}function ar(m){return m.replace(/\./g,"").replace(Br," ").toLowerCase()}function _t(m,D){return null===m?null:{regex:RegExp(m.map(Lr).join("|")),deser:function(h){var y=h[0];return m.findIndex(function(S){return ar(y)===ar(S)})+D}}}function Fn(m,D){return{regex:m,deser:function(h){return Qt(h[1],h[2])},groups:D}}function Ur(m){return{regex:m,deser:function(p){return p[0]}}}function Ni(m){return m.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var Zr={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}},or=null;function Gr(m,D,p){var h=function(m,D){var p;return(p=Array.prototype).concat.apply(p,m.map(function(h){return function(m,D){if(m.literal)return m;var p=Vt.macroTokenToFormatOpts(m.val);if(!p)return m;var S=Vt.create(D,p).formatDateTimeParts((or||(or=ht.fromMillis(1555555555555)),or)).map(function(H){return function(m,D,p){var h=m.type;if("literal"===h)return{literal:!0,val:m.value};var H=Zr[h];return"object"==typeof H&&(H=H[p[h]]),H?{literal:!1,val:H}:void 0}(H,0,p)});return S.includes(void 0)?m:S}(h,D)}))}(Vt.parseFormat(p),m),y=h.map(function(He){return function(m,D){var p=Ot(D),h=Ot(D,"{2}"),y=Ot(D,"{3}"),S=Ot(D,"{4}"),H=Ot(D,"{6}"),X=Ot(D,"{1,2}"),ae=Ot(D,"{1,3}"),Ae=Ot(D,"{1,6}"),Ne=Ot(D,"{1,9}"),be=Ot(D,"{2,4}"),Ie=Ot(D,"{4,6}"),Ue=function(je){return{regex:RegExp(Ni(je.val)),deser:function(Qr){return Qr[0]},literal:!0}},Ge=function(je){if(m.literal)return Ue(je);switch(je.val){case"G":return _t(D.eras("short",!1),0);case"GG":return _t(D.eras("long",!1),0);case"y":return Je(Ae);case"yy":case"kk":return Je(be,bt);case"yyyy":case"kkkk":return Je(S);case"yyyyy":return Je(Ie);case"yyyyyy":return Je(H);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Je(X);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Je(h);case"MMM":return _t(D.months("short",!0,!1),1);case"MMMM":return _t(D.months("long",!0,!1),1);case"LLL":return _t(D.months("short",!1,!1),1);case"LLLL":return _t(D.months("long",!1,!1),1);case"o":case"S":return Je(ae);case"ooo":case"SSS":return Je(y);case"u":return Ur(Ne);case"a":return _t(D.meridiems(),0);case"E":case"c":return Je(p);case"EEE":return _t(D.weekdays("short",!1,!1),1);case"EEEE":return _t(D.weekdays("long",!1,!1),1);case"ccc":return _t(D.weekdays("short",!0,!1),1);case"cccc":return _t(D.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Fn(new RegExp("([+-]"+X.source+")(?::("+h.source+"))?"),2);case"ZZZ":return Fn(new RegExp("([+-]"+X.source+")("+h.source+")?"),2);case"z":return Ur(/[a-z_+-/]{1,256}?/i);default:return Ue(je)}}(m)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return Ge.token=m,Ge}(He,m)}),S=y.find(function(He){return He.invalidReason});if(S)return{input:D,tokens:h,invalidReason:S.invalidReason};var H=function(m){return["^"+m.map(function(p){return p.regex}).reduce(function(p,h){return p+"("+h.source+")"},"")+"$",m]}(y),ae=H[1],Ae=RegExp(H[0],"i"),Ne=function(m,D,p){var h=m.match(D);if(h){var y={},S=1;for(var H in p)if(mt(p,H)){var X=p[H],ae=X.groups?X.groups+1:1;!X.literal&&X.token&&(y[X.token.val[0]]=X.deser(h.slice(S,S+ae))),S+=ae}return[h,y]}return[h,{}]}(D,Ae,ae),be=Ne[0],Ie=Ne[1],Ue=Ie?function(m){var p;return p=ze(m.Z)?ze(m.z)?null:zt.create(m.z):new Nt(m.Z),ze(m.q)||(m.M=3*(m.q-1)+1),ze(m.h)||(m.h<12&&1===m.a?m.h+=12:12===m.h&&0===m.a&&(m.h=0)),0===m.G&&m.y&&(m.y=-m.y),ze(m.u)||(m.S=ct(m.u)),[Object.keys(m).reduce(function(y,S){var H=function(S){switch(S){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}}(S);return H&&(y[H]=m[S]),y},{}),p]}(Ie):[null,null],Pe=Ue[0],Ge=Ue[1];if(mt(Ie,"a")&&mt(Ie,"H"))throw new ne("Can't include meridiem when specifying 24-hour format");return{input:D,tokens:h,regex:Ae,rawMatches:be,matches:Ie,result:Pe,zone:Ge}}var jr=[0,31,59,90,120,151,181,212,243,273,304,334],zr=[0,31,60,91,121,152,182,213,244,274,305,335];function Mt(m,D){return new Bt("unit out of range","you specified "+D+" (of type "+typeof D+") as a "+m+", which is invalid")}function Hr(m,D,p){var h=new Date(Date.UTC(m,D-1,p)).getUTCDay();return 0===h?7:h}function Vr(m,D,p){return p+(Dt(m)?zr:jr)[D-1]}function Yr(m,D){var p=Dt(m)?zr:jr,h=p.findIndex(function(S){return S<D});return{month:h+1,day:D-p[h]}}function ur(m){var X,D=m.year,p=m.month,h=m.day,y=Vr(D,p,h),S=Hr(D,p,h),H=Math.floor((y-S+10)/7);return H<1?H=Xt(X=D-1):H>Xt(D)?(X=D+1,H=1):X=D,_({weekYear:X,weekNumber:H,weekday:S},tn(m))}function Wr(m){var X,D=m.weekYear,p=m.weekNumber,h=m.weekday,y=Hr(D,1,4),S=Ct(D),H=7*p+h-y-3;H<1?H+=Ct(X=D-1):H>S?(X=D+1,H-=Ct(D)):X=D;var ae=Yr(X,H);return _({year:X,month:ae.month,day:ae.day},tn(m))}function lr(m){var D=m.year;return _({year:D,ordinal:Vr(D,m.month,m.day)},tn(m))}function Jr(m){var D=m.year,h=Yr(D,m.ordinal);return _({year:D,month:h.month,day:h.day},tn(m))}function Kr(m){var D=dt(m.year),p=gt(m.month,1,12),h=gt(m.day,1,Zt(m.year,m.month));return D?p?!h&&Mt("day",m.day):Mt("month",m.month):Mt("year",m.year)}function cr(m){var D=m.hour,p=m.minute,h=m.second,y=m.millisecond,S=gt(D,0,23)||24===D&&0===p&&0===h&&0===y,H=gt(p,0,59),X=gt(h,0,59),ae=gt(y,0,999);return S?H?X?!ae&&Mt("millisecond",y):Mt("second",h):Mt("minute",p):Mt("hour",D)}var fr="Invalid DateTime",$r=864e13;function Ln(m){return new Bt("unsupported zone",'the zone "'+m.name+'" is not supported')}function hr(m){return null===m.weekData&&(m.weekData=ur(m.c)),m.weekData}function u(m,D){var p={ts:m.ts,zone:m.zone,c:m.c,o:m.o,loc:m.loc,invalid:m.invalid};return new ht(_({},p,D,{old:p}))}function o(m,D,p){var h=m-60*D*1e3,y=p.offset(h);if(D===y)return[h,D];var S=p.offset(h-=60*(y-D)*1e3);return y===S?[h,y]:[m-60*Math.min(y,S)*1e3,Math.max(y,S)]}function f(m,D){var p=new Date(m+=60*D*1e3);return{year:p.getUTCFullYear(),month:p.getUTCMonth()+1,day:p.getUTCDate(),hour:p.getUTCHours(),minute:p.getUTCMinutes(),second:p.getUTCSeconds(),millisecond:p.getUTCMilliseconds()}}function d(m,D,p){return o(St(m),D,p)}function v(m,D){var p=m.o,h=m.c.year+Math.trunc(D.years),y=m.c.month+Math.trunc(D.months)+3*Math.trunc(D.quarters),S=_({},m.c,{year:h,month:y,day:Math.min(m.c.day,Zt(h,y))+Math.trunc(D.days)+7*Math.trunc(D.weeks)}),H=vt.fromObject({years:D.years-Math.trunc(D.years),quarters:D.quarters-Math.trunc(D.quarters),months:D.months-Math.trunc(D.months),weeks:D.weeks-Math.trunc(D.weeks),days:D.days-Math.trunc(D.days),hours:D.hours,minutes:D.minutes,seconds:D.seconds,milliseconds:D.milliseconds}).as("milliseconds"),ae=o(St(S),p,m.zone),Ae=ae[0],Ne=ae[1];return 0!==H&&(Ne=m.zone.offset(Ae+=H)),{ts:Ae,o:Ne}}function W(m,D,p,h,y){var S=p.setZone,H=p.zone;if(m&&0!==Object.keys(m).length){var ae=ht.fromObject(m,_({},p,{zone:D||H}));return S?ae:ae.setZone(H)}return ht.invalid(new Bt("unparsable",'the input "'+y+"\" can't be parsed as "+h))}function ye(m,D,p){return void 0===p&&(p=!0),m.isValid?Vt.create(ft.create("en-US"),{allowZ:p,forceSimple:!0}).formatDateTimeFromString(m,D):null}function xe(m,D){var p=D.suppressSeconds,y=D.suppressMilliseconds,H=D.includeOffset,X=D.includePrefix,ae=void 0!==X&&X,Ae=D.includeZone,Ne=void 0!==Ae&&Ae,be=D.spaceZone,Ue=D.format,Pe=void 0===Ue?"extended":Ue,Ge="basic"===Pe?"HHmm":"HH:mm";(!(void 0!==p&&p)||0!==m.second||0!==m.millisecond)&&(Ge+="basic"===Pe?"ss":":ss",(!(void 0!==y&&y)||0!==m.millisecond)&&(Ge+=".SSS")),(Ne||H)&&void 0!==be&&be&&(Ge+=" "),Ne?Ge+="z":H&&(Ge+="basic"===Pe?"ZZZ":"ZZ");var He=ye(m,Ge);return ae&&(He="T"+He),He}var _e={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Me={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},ke={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Be=["year","month","day","hour","minute","second","millisecond"],Lt=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Ht=["year","ordinal","hour","minute","second","millisecond"];function Un(m){var D={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[m.toLowerCase()];if(!D)throw new De(m);return D}function Xr(m,D){var S,H,p=Yt(D.zone,at.defaultZone),h=ft.fromObject(D),y=at.now();if(ze(m.year))S=y;else{for(var ae,X=he(Be);!(ae=X()).done;){var Ae=ae.value;ze(m[Ae])&&(m[Ae]=_e[Ae])}var Ne=Kr(m)||cr(m);if(Ne)return ht.invalid(Ne);var Ie=d(m,p.offset(y),p);S=Ie[0],H=Ie[1]}return new ht({ts:S,zone:p,loc:h,o:H})}function Qi(m,D,p){var h=!!ze(p.round)||p.round,y=function(be,Ie){return be=pt(be,h||p.calendary?0:2,!0),D.loc.clone(p).relFormatter(p).format(be,Ie)},S=function(be){return p.calendary?D.hasSame(m,be)?0:D.startOf(be).diff(m.startOf(be),be).get(be):D.diff(m,be).get(be)};if(p.unit)return y(S(p.unit),p.unit);for(var X,H=he(p.units);!(X=H()).done;){var ae=X.value,Ae=S(ae);if(Math.abs(Ae)>=1)return y(Ae,ae)}return y(m>D?-0:0,p.units[p.units.length-1])}function qi(m){var p,D={};return m.length>0&&"object"==typeof m[m.length-1]?(D=m[m.length-1],p=Array.from(m).slice(0,m.length-1)):p=Array.from(m),[D,p]}var ht=function(){function m(p){var h=p.zone||at.defaultZone,y=p.invalid||(Number.isNaN(p.ts)?new Bt("invalid input"):null)||(h.isValid?null:Ln(h));this.ts=ze(p.ts)?at.now():p.ts;var S=null,H=null;if(!y)if(p.old&&p.old.ts===this.ts&&p.old.zone.equals(h)){var ae=[p.old.c,p.old.o];S=ae[0],H=ae[1]}else{var Ae=h.offset(this.ts);S=f(this.ts,Ae),S=(y=Number.isNaN(S.year)?new Bt("invalid input"):null)?null:S,H=y?null:Ae}this._zone=h,this.loc=p.loc||ft.create(),this.invalid=y,this.weekData=null,this.c=S,this.o=H,this.isLuxonDateTime=!0}m.now=function(){return new m({})},m.local=function(){var h=qi(arguments),y=h[0],S=h[1],H=S[0],X=S[1],ae=S[2],Ae=S[3],Ne=S[4],be=S[5],Ie=S[6];return Xr({year:H,month:X,day:ae,hour:Ae,minute:Ne,second:be,millisecond:Ie},y)},m.utc=function(){var h=qi(arguments),y=h[0],S=h[1],H=S[0],X=S[1],ae=S[2],Ae=S[3],Ne=S[4],be=S[5],Ie=S[6];return y.zone=Nt.utcInstance,Xr({year:H,month:X,day:ae,hour:Ae,minute:Ne,second:be,millisecond:Ie},y)},m.fromJSDate=function(h,y){void 0===y&&(y={});var S=function(m){return"[object Date]"===Object.prototype.toString.call(m)}(h)?h.valueOf():NaN;if(Number.isNaN(S))return m.invalid("invalid input");var H=Yt(y.zone,at.defaultZone);return H.isValid?new m({ts:S,zone:H,loc:ft.fromObject(y)}):m.invalid(Ln(H))},m.fromMillis=function(h,y){if(void 0===y&&(y={}),Ft(h))return h<-$r||h>$r?m.invalid("Timestamp out of range"):new m({ts:h,zone:Yt(y.zone,at.defaultZone),loc:ft.fromObject(y)});throw new re("fromMillis requires a numerical input, but received a "+typeof h+" with value "+h)},m.fromSeconds=function(h,y){if(void 0===y&&(y={}),Ft(h))return new m({ts:1e3*h,zone:Yt(y.zone,at.defaultZone),loc:ft.fromObject(y)});throw new re("fromSeconds requires a numerical input")},m.fromObject=function(h,y){void 0===y&&(y={}),h=h||{};var S=Yt(y.zone,at.defaultZone);if(!S.isValid)return m.invalid(Ln(S));var H=at.now(),X=S.offset(H),ae=qt(h,Un),Ae=!ze(ae.ordinal),Ne=!ze(ae.year),be=!ze(ae.month)||!ze(ae.day),Ie=Ne||be,Ue=ae.weekYear||ae.weekNumber,Pe=ft.fromObject(y);if((Ie||Ae)&&Ue)throw new ne("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(be&&Ae)throw new ne("Can't mix ordinal dates with month/day");var He,je,Ge=Ue||ae.weekday&&!Ie,xt=f(H,X);Ge?(He=Lt,je=Me,xt=ur(xt)):Ae?(He=Ht,je=ke,xt=lr(xt)):(He=Be,je=_e);for(var es,Qr=!1,Zi=he(He);!(es=Zi()).done;){var mr=es.value;ze(ae[mr])?ae[mr]=Qr?je[mr]:xt[mr]:Qr=!0}var us=Ge?function(m){var D=dt(m.weekYear),p=gt(m.weekNumber,1,Xt(m.weekYear)),h=gt(m.weekday,1,7);return D?p?!h&&Mt("weekday",m.weekday):Mt("week",m.week):Mt("weekYear",m.weekYear)}(ae):Ae?function(m){var D=dt(m.year),p=gt(m.ordinal,1,Ct(m.year));return D?!p&&Mt("ordinal",m.ordinal):Mt("year",m.year)}(ae):Kr(ae),ts=us||cr(ae);if(ts)return m.invalid(ts);var ns=d(Ge?Wr(ae):Ae?Jr(ae):ae,X,S),Gi=new m({ts:ns[0],zone:S,o:ns[1],loc:Pe});return ae.weekday&&Ie&&h.weekday!==Gi.weekday?m.invalid("mismatched weekday","you can't specify both a weekday of "+ae.weekday+" and a date of "+Gi.toISO()):Gi},m.fromISO=function(h,y){void 0===y&&(y={});var S=function(m){return Dn(m,[Sr,Ei],[qn,vi],[yi,Wi],[Di,Tr])}(h);return W(S[0],S[1],y,"ISO 8601",h)},m.fromRFC2822=function(h,y){void 0===y&&(y={});var S=function(m){return Dn(function(m){return m.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(m),[Vi,pi])}(h);return W(S[0],S[1],y,"RFC 2822",h)},m.fromHTTP=function(h,y){void 0===y&&(y={});var S=function(m){return Dn(m,[Fr,Qn],[Xn,Qn],[gi,Ze])}(h);return W(S[0],S[1],y,"HTTP",y)},m.fromFormat=function(h,y,S){if(void 0===S&&(S={}),ze(h)||ze(y))throw new re("fromFormat requires an input string and a format");var X=S.locale,Ae=S.numberingSystem,Ie=function(m,D,p){var h=Gr(m,D,p);return[h.result,h.zone,h.invalidReason]}(ft.fromOpts({locale:void 0===X?null:X,numberingSystem:void 0===Ae?null:Ae,defaultToEN:!0}),h,y),Ue=Ie[0],Pe=Ie[1],Ge=Ie[2];return Ge?m.invalid(Ge):W(Ue,Pe,S,"format "+y,h)},m.fromString=function(h,y,S){return void 0===S&&(S={}),m.fromFormat(h,y,S)},m.fromSQL=function(h,y){void 0===y&&(y={});var S=function(m){return Dn(m,[wi,Xi],[$i,er])}(h);return W(S[0],S[1],y,"SQL",h)},m.invalid=function(h,y){if(void 0===y&&(y=null),!h)throw new re("need to specify a reason the DateTime is invalid");var S=h instanceof Bt?h:new Bt(h,y);if(at.throwOnInvalid)throw new pe(S);return new m({invalid:S})},m.isDateTime=function(h){return h&&h.isLuxonDateTime||!1};var D=m.prototype;return D.get=function(h){return this[h]},D.resolvedLocaleOptions=function(h){void 0===h&&(h={});var y=Vt.create(this.loc.clone(h),h).resolvedOptions(this);return{locale:y.locale,numberingSystem:y.numberingSystem,outputCalendar:y.calendar}},D.toUTC=function(h,y){return void 0===h&&(h=0),void 0===y&&(y={}),this.setZone(Nt.instance(h),y)},D.toLocal=function(){return this.setZone(at.defaultZone)},D.setZone=function(h,y){var S=void 0===y?{}:y,H=S.keepLocalTime,X=void 0!==H&&H,ae=S.keepCalendarTime,Ae=void 0!==ae&&ae;if((h=Yt(h,at.defaultZone)).equals(this.zone))return this;if(h.isValid){var Ne=this.ts;if(X||Ae){var be=h.offset(this.ts);Ne=d(this.toObject(),be,h)[0]}return u(this,{ts:Ne,zone:h})}return m.invalid(Ln(h))},D.reconfigure=function(h){var y=void 0===h?{}:h;return u(this,{loc:this.loc.clone({locale:y.locale,numberingSystem:y.numberingSystem,outputCalendar:y.outputCalendar})})},D.setLocale=function(h){return this.reconfigure({locale:h})},D.set=function(h){if(!this.isValid)return this;var be,y=qt(h,Un),S=!ze(y.weekYear)||!ze(y.weekNumber)||!ze(y.weekday),H=!ze(y.ordinal),X=!ze(y.year),ae=!ze(y.month)||!ze(y.day);if((X||ae||H)&&(y.weekYear||y.weekNumber))throw new ne("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(ae&&H)throw new ne("Can't mix ordinal dates with month/day");S?be=Wr(_({},ur(this.c),y)):ze(y.ordinal)?(be=_({},this.toObject(),y),ze(y.day)&&(be.day=Math.min(Zt(be.year,be.month),be.day))):be=Jr(_({},lr(this.c),y));var Ie=d(be,this.o,this.zone);return u(this,{ts:Ie[0],o:Ie[1]})},D.plus=function(h){return this.isValid?u(this,v(this,Jt(h))):this},D.minus=function(h){return this.isValid?u(this,v(this,Jt(h).negate())):this},D.startOf=function(h){if(!this.isValid)return this;var y={},S=vt.normalizeUnit(h);switch(S){case"years":y.month=1;case"quarters":case"months":y.day=1;case"weeks":case"days":y.hour=0;case"hours":y.minute=0;case"minutes":y.second=0;case"seconds":y.millisecond=0}if("weeks"===S&&(y.weekday=1),"quarters"===S){var H=Math.ceil(this.month/3);y.month=3*(H-1)+1}return this.set(y)},D.endOf=function(h){var y;return this.isValid?this.plus((y={},y[h]=1,y)).startOf(h).minus(1):this},D.toFormat=function(h,y){return void 0===y&&(y={}),this.isValid?Vt.create(this.loc.redefaultToEN(y)).formatDateTimeFromString(this,h):fr},D.toLocaleString=function(h,y){return void 0===h&&(h=J),void 0===y&&(y={}),this.isValid?Vt.create(this.loc.clone(y),h).formatDateTime(this):fr},D.toLocaleParts=function(h){return void 0===h&&(h={}),this.isValid?Vt.create(this.loc.clone(h),h).formatDateTimeParts(this):[]},D.toISO=function(h){return void 0===h&&(h={}),this.isValid?this.toISODate(h)+"T"+this.toISOTime(h):null},D.toISODate=function(h){var S=(void 0===h?{}:h).format,X="basic"===(void 0===S?"extended":S)?"yyyyMMdd":"yyyy-MM-dd";return this.year>9999&&(X="+"+X),ye(this,X)},D.toISOWeekDate=function(){return ye(this,"kkkk-'W'WW-c")},D.toISOTime=function(h){var y=void 0===h?{}:h,S=y.suppressMilliseconds,X=y.suppressSeconds,Ae=y.includeOffset,be=y.includePrefix,Ue=y.format;return xe(this,{suppressSeconds:void 0!==X&&X,suppressMilliseconds:void 0!==S&&S,includeOffset:void 0===Ae||Ae,includePrefix:void 0!==be&&be,format:void 0===Ue?"extended":Ue})},D.toRFC2822=function(){return ye(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)},D.toHTTP=function(){return ye(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")},D.toSQLDate=function(){return ye(this,"yyyy-MM-dd")},D.toSQLTime=function(h){var y=void 0===h?{}:h,S=y.includeOffset,X=y.includeZone;return xe(this,{includeOffset:void 0===S||S,includeZone:void 0!==X&&X,spaceZone:!0})},D.toSQL=function(h){return void 0===h&&(h={}),this.isValid?this.toSQLDate()+" "+this.toSQLTime(h):null},D.toString=function(){return this.isValid?this.toISO():fr},D.valueOf=function(){return this.toMillis()},D.toMillis=function(){return this.isValid?this.ts:NaN},D.toSeconds=function(){return this.isValid?this.ts/1e3:NaN},D.toJSON=function(){return this.toISO()},D.toBSON=function(){return this.toJSDate()},D.toObject=function(h){if(void 0===h&&(h={}),!this.isValid)return{};var y=_({},this.c);return h.includeConfig&&(y.outputCalendar=this.outputCalendar,y.numberingSystem=this.loc.numberingSystem,y.locale=this.loc.locale),y},D.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)},D.diff=function(h,y,S){if(void 0===y&&(y="milliseconds"),void 0===S&&(S={}),!this.isValid||!h.isValid)return vt.invalid("created by diffing an invalid DateTime");var H=_({locale:this.locale,numberingSystem:this.numberingSystem},S),X=function(m){return Array.isArray(m)?m:[m]}(y).map(vt.normalizeUnit),ae=h.valueOf()>this.valueOf(),be=function(m,D,p,h){var be,y=function(m,D,p){for(var S,H,y={},X=0,ae=[["years",function(Ge,He){return He.year-Ge.year}],["quarters",function(Ge,He){return He.quarter-Ge.quarter}],["months",function(Ge,He){return He.month-Ge.month+12*(He.year-Ge.year)}],["weeks",function(Ge,He){var je=Cn(Ge,He);return(je-je%7)/7}],["days",Cn]];X<ae.length;X++){var Ae=ae[X],Ne=Ae[0],be=Ae[1];if(p.indexOf(Ne)>=0){var Ie;S=Ne;var Pe,Ue=be(m,D);(H=m.plus(((Ie={})[Ne]=Ue,Ie)))>D?(m=m.plus(((Pe={})[Ne]=Ue-1,Pe)),Ue-=1):m=H,y[Ne]=Ue}}return[m,y,H,S]}(m,D,p),S=y[0],H=y[1],X=y[2],ae=y[3],Ae=D-S,Ne=p.filter(function(Pe){return["hours","minutes","seconds","milliseconds"].indexOf(Pe)>=0});0===Ne.length&&(X<D&&(X=S.plus(((be={})[ae]=1,be))),X!==S&&(H[ae]=(H[ae]||0)+Ae/(X-S)));var Ue,Ie=vt.fromObject(H,h);return Ne.length>0?(Ue=vt.fromMillis(Ae,h)).shiftTo.apply(Ue,Ne).plus(Ie):Ie}(ae?this:h,ae?h:this,X,H);return ae?be.negate():be},D.diffNow=function(h,y){return void 0===h&&(h="milliseconds"),void 0===y&&(y={}),this.diff(m.now(),h,y)},D.until=function(h){return this.isValid?An.fromDateTimes(this,h):this},D.hasSame=function(h,y){if(!this.isValid)return!1;var S=h.valueOf(),H=this.setZone(h.zone,{keepLocalTime:!0});return H.startOf(y)<=S&&S<=H.endOf(y)},D.equals=function(h){return this.isValid&&h.isValid&&this.valueOf()===h.valueOf()&&this.zone.equals(h.zone)&&this.loc.equals(h.loc)},D.toRelative=function(h){if(void 0===h&&(h={}),!this.isValid)return null;var y=h.base||m.fromObject({},{zone:this.zone}),S=h.padding?this<y?-h.padding:h.padding:0,H=["years","months","days","hours","minutes","seconds"],X=h.unit;return Array.isArray(h.unit)&&(H=h.unit,X=void 0),Qi(y,this.plus(S),_({},h,{numeric:"always",units:H,unit:X}))},D.toRelativeCalendar=function(h){return void 0===h&&(h={}),this.isValid?Qi(h.base||m.fromObject({},{zone:this.zone}),this,_({},h,{numeric:"auto",units:["years","months","days"],calendary:!0})):null},m.min=function(){for(var h=arguments.length,y=new Array(h),S=0;S<h;S++)y[S]=arguments[S];if(!y.every(m.isDateTime))throw new re("min requires all arguments be DateTimes");return Kt(y,function(H){return H.valueOf()},Math.min)},m.max=function(){for(var h=arguments.length,y=new Array(h),S=0;S<h;S++)y[S]=arguments[S];if(!y.every(m.isDateTime))throw new re("max requires all arguments be DateTimes");return Kt(y,function(H){return H.valueOf()},Math.max)},m.fromFormatExplain=function(h,y,S){void 0===S&&(S={});var X=S.locale,Ae=S.numberingSystem;return Gr(ft.fromOpts({locale:void 0===X?null:X,numberingSystem:void 0===Ae?null:Ae,defaultToEN:!0}),h,y)},m.fromStringExplain=function(h,y,S){return void 0===S&&(S={}),m.fromFormatExplain(h,y,S)},we(m,[{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?hr(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?hr(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?hr(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?lr(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?vn.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?vn.months("long",{locObj:this.loc})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?vn.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?vn.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.isUniversal:null}},{key:"isInDST",get:function(){return!this.isOffsetFixed&&(this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset)}},{key:"isInLeapYear",get:function(){return Dt(this.year)}},{key:"daysInMonth",get:function(){return Zt(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?Ct(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?Xt(this.weekYear):NaN}}],[{key:"DATE_SHORT",get:function(){return J}},{key:"DATE_MED",get:function(){return Ee}},{key:"DATE_MED_WITH_WEEKDAY",get:function(){return ge}},{key:"DATE_FULL",get:function(){return me}},{key:"DATE_HUGE",get:function(){return g}},{key:"TIME_SIMPLE",get:function(){return j}},{key:"TIME_WITH_SECONDS",get:function(){return I}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return Q}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return ve}},{key:"TIME_24_SIMPLE",get:function(){return Te}},{key:"TIME_24_WITH_SECONDS",get:function(){return Se}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return Qe}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return tt}},{key:"DATETIME_SHORT",get:function(){return ot}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return Ye}},{key:"DATETIME_MED",get:function(){return Ut}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return nt}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return yt}},{key:"DATETIME_FULL",get:function(){return ut}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return wt}},{key:"DATETIME_HUGE",get:function(){return Pt}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return Ve}}]),m}();function dr(m){if(ht.isDateTime(m))return m;if(m&&m.valueOf&&Ft(m.valueOf()))return ht.fromJSDate(m);if(m&&"object"==typeof m)return ht.fromObject(m);throw new re("Unknown datetime argument: "+m+", of type "+typeof m)}Re.ou=ht},99771:(Ke,Re,te)=>{te.d(Re,{Z:()=>we});var z=te(96171);class we extends z.Z{constructor(ee){super(),this.immutable=!1,this.setField("url",ee),this.immutable=!0}}},33962:(Ke,Re,te)=>{te.d(Re,{Z:()=>we});var z=te(96171);class we extends z.Z{constructor(ee,V,se,w,Z,Y){super(),this.attachmentUrl=Z,this.immutable=!1,this.setField("id",ee),this.setField("name",V),this.setField("contenttype",se),this.setField("size",w),this.setField("exifinfo",Y),this.immutable=!0}}},96171:(Ke,Re,te)=>{te.d(Re,{Z:()=>V});var z=te(94579),we=te(71655),_=te(40485);function ee(se,w=!1){if(null==se)return null;if((0,we.j)(se))return(0,we.t)(se);if((0,we.i)(se))return(0,we.u)(se);if((0,we.f)(se))return(0,we.d)(se);if((0,we.n)(se))return(0,we.w)(se);if((0,we.a)(se)){const Y=[];for(const K of se)Y.push(ee(K,w));return Y}const Z=new V;Z.immutable=!1;for(const Y of Object.keys(se)){const K=se[Y];void 0!==K&&Z.setField(Y,ee(K,w))}return Z.immutable=w,Z}class V{constructor(w){this.declaredClass="esri.arcade.Dictionary",this.attributes=null,this.plain=!1,this.immutable=!0,this.attributes=w instanceof V?w.attributes:null==w?{}:w}field(w){const Z=w.toLowerCase(),Y=this.attributes[w];if(void 0!==Y)return Y;for(const K in this.attributes)if(K.toLowerCase()===Z)return this.attributes[K];throw new Error("Field not Found : "+w)}setField(w,Z){if(this.immutable)throw new Error("Dictionary is Immutable");const Y=w.toLowerCase();if(void 0===this.attributes[w]){for(const K in this.attributes)if(K.toLowerCase()===Y)return void(this.attributes[K]=Z);this.attributes[w]=Z}else this.attributes[w]=Z}hasField(w){const Z=w.toLowerCase();if(void 0!==this.attributes[w])return!0;for(const Y in this.attributes)if(Y.toLowerCase()===Z)return!0;return!1}keys(){let w=[];for(const Z in this.attributes)w.push(Z);return w=w.sort(),w}castToText(){let w="";for(const Z in this.attributes){""!==w&&(w+=",");const Y=this.attributes[Z];null==Y?w+=JSON.stringify(Z)+":null":(0,we.i)(Y)||(0,we.j)(Y)||(0,we.f)(Y)?w+=JSON.stringify(Z)+":"+JSON.stringify(Y):Y instanceof _.Z||Y instanceof z.Z||Y instanceof Array?w+=JSON.stringify(Z)+":"+(0,we.s)(Y):Y instanceof Date?w+=JSON.stringify(Z)+":"+JSON.stringify(Y):null!==Y&&"object"==typeof Y&&void 0!==Y.castToText&&(w+=JSON.stringify(Z)+":"+Y.castToText())}return"{"+w+"}"}static convertObjectToArcadeDictionary(w,Z=!0){const Y=new V;Y.immutable=!1;for(const K in w){const oe=w[K];void 0!==oe&&Y.setField(K.toString(),ee(oe))}return Y.immutable=Z,Y}static convertJsonToArcade(w,Z=!1){return ee(w,Z)}}},67155:(Ke,Re,te)=>{te.d(Re,{Z:()=>K});var z=te(96171),we=te(94579),_=te(71655),ee=te(40485),V=te(27640),se=te(52917),w=te(72596),Z=te(90097),Y=te(60305);class K{constructor(){this.declaredClass="esri.arcade.Feature",this._optimizedGeomDefinition=null,this._geometry=null,this.attributes=null,this._layer=null,this._datesfixed=!0,this.immutable=!0,this._datefields=null,this.immutable=!0}static createFromGraphic(R){const k=new K;return k._geometry=(0,Y.pC)(R.geometry)?R.geometry:null,k.attributes=null==R.attributes?{}:R.attributes,R._sourceLayer?(k._layer=R._sourceLayer,k._datesfixed=!1):R._layer?(k._layer=R._layer,k._datesfixed=!1):R.layer&&"fields"in R.layer?(k._layer=R.layer,k._datesfixed=!1):R.sourceLayer&&"fields"in R.sourceLayer&&(k._layer=R.sourceLayer,k._datesfixed=!1),k}static createFromArcadeFeature(R){const k=new K;return k._datesfixed=R._datesfixed,k.attributes=R.attributes,k._geometry=R._geometry,k._optimizedGeomDefinition=R._optimizedGeomDefinition,R._layer&&(k._layer=R._layer),k}static createFromOptimisedFeature(R,k,he){const de=new K;return de._geometry=R.geometry?{geometry:R.geometry}:null,de._optimizedGeomDefinition=he,de.attributes=R.attributes||{},de._layer=k,de._datesfixed=!1,de}static createFromArcadeDictionary(R){const k=new K;return k.attributes=R.field("attributes"),null!==k.attributes&&k.attributes instanceof z.Z?(k.attributes=k.attributes.attributes,null===k.attributes&&(k.attributes={})):k.attributes={},k._geometry=R.field("geometry"),null!==k._geometry&&(k._geometry instanceof z.Z?k._geometry=K.parseGeometryFromDictionary(k._geometry):k._geometry instanceof ee.Z||(k._geometry=null)),k}static createFromGraphicLikeObject(R,k,he=null){const de=new K;return null===k&&(k={}),de.attributes=k,de._geometry=(0,Y.pC)(R)?R:null,de._layer=he,de._layer&&(de._datesfixed=!1),de._adapter=null,de}repurposeFromGraphicLikeObject(R,k,he=null){null===k&&(k={}),this.attributes=k,this._geometry=R||null,this._layer=he,this._datesfixed=!this._layer}repurposeFromAdapter(R,k=null){this._adapter=R,this._layer=k}castToText(){if(this._adapter)return this._adapter.castToText();let R="";!1===this._datesfixed&&this._fixDates();for(const k in this.attributes){""!==R&&(R+=",");const he=this.attributes[k];null==he?R+=JSON.stringify(k)+":null":(0,_.i)(he)||(0,_.j)(he)||(0,_.f)(he)?R+=JSON.stringify(k)+":"+JSON.stringify(he):he instanceof ee.Z||he instanceof we.Z||he instanceof Array?R+=JSON.stringify(k)+":"+(0,_.s)(he):he instanceof Date?R+=JSON.stringify(k)+":"+JSON.stringify(he):null!==he&&"object"==typeof he&&void 0!==he.castToText&&(R+=JSON.stringify(k)+":"+he.castToText())}return'{"geometry":'+(null===this.geometry()?"null":(0,_.s)(this.geometry()))+',"attributes":{'+R+"}}"}_fixDates(){if(null!==this._datefields)return this._datefields.length>0&&this._fixDateFields(this._datefields),void(this._datesfixed=!0);const R=[];for(let k=0;k<this._layer.fields.length;k++){const he=this._layer.fields[k];"date"!==he.type&&"esriFieldTypeDate"!==he.type||R.push(he.name)}this._datefields=R,R.length>0&&this._fixDateFields(R),this._datesfixed=!0}_fixDateFields(R){this.attributes=ss({},this.attributes);for(let k=0;k<R.length;k++){let he=this.attributes[R[k]];if(null!==he)if(void 0===he){for(const de in this.attributes)if(de.toLowerCase()===R[k].toLowerCase()){he=this.attributes[de],null!==he&&(he instanceof Date||(this.attributes[de]=new Date(he)));break}}else he instanceof Date||(this.attributes[R[k]]=new Date(he))}}geometry(){return this._adapter?this._adapter.geometry():(null===this._geometry||this._geometry instanceof ee.Z||(this._optimizedGeomDefinition?(this._geometry=(0,Y.Wg)((0,se.im)((0,Z.di)(this._geometry,this._optimizedGeomDefinition.geometryType,this._optimizedGeomDefinition.hasZ,this._optimizedGeomDefinition.hasM))),this._geometry.spatialReference=this._optimizedGeomDefinition.spatialReference):this._geometry=(0,Y.Wg)((0,se.im)(this._geometry))),this._geometry)}field(R){if(this._adapter)return this._adapter.field(R);!1===this._datesfixed&&this._fixDates();const k=this.attributes[R];if(void 0!==k)return k;const he=R.toLowerCase();for(const de in this.attributes)if(de.toLowerCase()===he)return this.attributes[de];if(this._hasFieldDefinition(he))return null;throw new Error("Field not Found : "+R)}_hasFieldDefinition(R){if(null===this._layer)return!1;for(let k=0;k<this._layer.fields.length;k++)if(this._layer.fields[k].name.toLowerCase()===R)return!0;return!1}_field(R){var k;if(this._adapter)return null!=(k=this._adapter.field(R))?k:null;!1===this._datesfixed&&this._fixDates();const he=R.toLowerCase(),de=this.attributes[R];if(void 0!==de)return de;for(const pe in this.attributes)if(pe.toLowerCase()===he)return this.attributes[pe];return null}setField(R,k){if(this.immutable)throw new Error("Feature is Immutable");if(!1===(0,_.x)(k))throw new Error("Illegal Value Assignment to Feature");if(this._adapter)return void this._adapter.setField(R,k);const he=R.toLowerCase();if(void 0===this.attributes[R]){for(const de in this.attributes)if(de.toLowerCase()===he)return void(this.attributes[de]=k);this.attributes[R]=k}else this.attributes[R]=k}hasField(R){if(this._adapter)return this._adapter.hasField(R);const k=R.toLowerCase();if(void 0!==this.attributes[R])return!0;for(const he in this.attributes)if(he.toLowerCase()===k)return!0;return!!this._hasFieldDefinition(k)}keys(){if(this._adapter)return this._adapter.keys();let R=[];const k={};for(const he in this.attributes)R.push(he),k[he.toLowerCase()]=1;if(null!==this._layer)for(let he=0;he<this._layer.fields.length;he++){const de=this._layer.fields[he];1!==k[de.name.toLowerCase()]&&R.push(de.name)}return R=R.sort(),R}static parseGeometryFromDictionary(R){const k=K.convertDictionaryToJson(R,!0);return void 0!==k.hasm&&(k.hasM=k.hasm,delete k.hasm),void 0!==k.hasz&&(k.hasZ=k.hasz,delete k.hasz),void 0!==k.spatialreference&&(k.spatialReference=k.spatialreference,delete k.spatialreference),void 0!==k.rings&&(k.rings=this.fixPathArrays(k.rings,!0===k.hasZ,!0===k.hasZ)),void 0!==k.paths&&(k.paths=this.fixPathArrays(k.paths,!0===k.hasZ,!0===k.hasM)),void 0!==k.points&&(k.points=this.fixPointArrays(k.points,!0===k.hasZ,!0===k.hasM)),(0,se.im)(k)}static fixPathArrays(R,k,he){const de=[];if(R instanceof Array)for(let pe=0;pe<R.length;pe++)de.push(this.fixPointArrays(R[pe],k,he));else if(R instanceof we.Z)for(let pe=0;pe<R.length();pe++)de.push(this.fixPointArrays(R.get(pe),k,he));return de}static fixPointArrays(R,k,he){const de=[];if(R instanceof Array)for(let pe=0;pe<R.length;pe++){const Fe=R[pe];de.push(Fe instanceof V.Z?k&&he?[Fe.x,Fe.y,Fe.z,Fe.m]:k?[Fe.x,Fe.y,Fe.z]:he?[Fe.x,Fe.y,Fe.m]:[Fe.x,Fe.y]:Fe instanceof we.Z?Fe.toArray():Fe)}else if(R instanceof we.Z)for(let pe=0;pe<R.length();pe++){const Fe=R.get(pe);de.push(Fe instanceof V.Z?k&&he?[Fe.x,Fe.y,Fe.z,Fe.m]:k?[Fe.x,Fe.y,Fe.z]:he?[Fe.x,Fe.y,Fe.m]:[Fe.x,Fe.y]:Fe instanceof we.Z?Fe.toArray():Fe)}return de}static convertDictionaryToJson(R,k=!1){const he={};for(const de in R.attributes){let pe=R.attributes[de];pe instanceof z.Z&&(pe=K.convertDictionaryToJson(pe)),k?he[de.toLowerCase()]=pe:he[de]=pe}return he}static parseAttributesFromDictionary(R){const k={};for(const he in R.attributes){const de=R.attributes[he];if(!(0,_.x)(de))throw new Error("Illegal Argument");k[he]=de}return k}static fromJson(R){let k=null;null!=R.geometry&&(k=(0,se.im)(R.geometry));const he={};if(null!=R.attributes)for(const de in R.attributes){const pe=R.attributes[de];if(null===pe)he[de]=pe;else{if(!((0,_.f)(pe)||(0,_.j)(pe)||(0,_.i)(pe)||(0,_.n)(pe)))throw new Error("Illegal Argument");he[de]=pe}}return K.createFromGraphicLikeObject(k,he,null)}fullDomain(R,k){return null!==this._layer&&this._layer.fields?(0,_.y)(R,this._layer,this,k):null}subtypes(){return null===this._layer?null:this._layer.fields&&this._layer.typeIdField?{subtypeField:this._layer.typeIdField,subtypes:this._layer.types?this._layer.types.map(R=>({name:R.name,code:R.id})):[]}:null}domainValueLookup(R,k,he){if(null===this._layer||!this._layer.fields)return null;const de=(0,_.y)(R,this._layer,this,he);if(void 0===k)try{k=this.field(R)}catch(pe){return null}return(0,_.z)(de,k)}gdbVersion(){if(null===this._layer)return"";const R=this._layer.gdbVersion;return void 0===R?"":""===R&&this._layer.capabilities&&this._layer.capabilities.isVersioned?"SDE.DEFAULT":R}domainCodeLookup(R,k,he){if(null===this._layer||!this._layer.fields)return null;if(void 0===k){try{k=this.field(R)}catch(pe){return null}return k}const de=(0,_.y)(R,this._layer,this,he);return(0,_.A)(de,k)}schema(){if(null===this._layer||!this._layer.fields)return null;const R=[];for(const k of this._layer.fields)R.push((0,w.Sh)(k));return{objectIdField:this._layer.objectIdField,globalIdField:this._layer.globalIdField,geometryType:void 0===w.q2[this._layer.geometryType]?"":w.q2[this._layer.geometryType],fields:R}}}},43472:(Ke,Re,te)=>{te.d(Re,{Z:()=>z});class z{constructor(_,ee){this.definition=null,this.context=null,this.definition=_,this.context=ee}}},94579:(Ke,Re,te)=>{te.d(Re,{Z:()=>z});class z{constructor(_=[]){this._elements=_}length(){return this._elements.length}get(_){return this._elements[_]}toArray(){const _=[];for(let ee=0;ee<this.length();ee++)_.push(this.get(ee));return _}}},76184:(Ke,Re,te)=>{te.d(Re,{Z:()=>_});var z=te(94579),we=te(24781);class _ extends z.Z{constructor(V,se,w,Z,Y){super(V),this._lazyPath=[],this._hasZ=!1,this._hasM=!1,this._hasZ=w,this._hasM=Z,this._spRef=se,this._cacheId=Y}get(V){if(void 0===this._lazyPath[V]){const se=this._elements[V];if(void 0===se)return;this._lazyPath[V]=new we.Z(se,this._spRef,this._hasZ,this._hasM,this._cacheId,V)}return this._lazyPath[V]}equalityTest(V){return V===this||null!==V&&V instanceof _&&V.getUniqueHash()===this.getUniqueHash()}getUniqueHash(){return this._cacheId.toString()}}},24781:(Ke,Re,te)=>{te.d(Re,{Z:()=>_});var z=te(94579),we=te(27640);class _ extends z.Z{constructor(V,se,w,Z,Y,K){super(V),this._lazyPt=[],this._hasZ=!1,this._hasM=!1,this._spRef=se,this._hasZ=w,this._hasM=Z,this._cacheId=Y,this._partId=K}get(V){if(void 0===this._lazyPt[V]){const se=this._elements[V];if(void 0===se)return;const w=this._hasZ,Z=this._hasM;let Y=null;Y=w&&!Z?new we.Z(se[0],se[1],se[2],void 0,this._spRef):Z&&!w?new we.Z(se[0],se[1],void 0,se[2],this._spRef):w&&Z?new we.Z(se[0],se[1],se[2],se[3],this._spRef):new we.Z(se[0],se[1],this._spRef),Y.cache._arcadeCacheId=this._cacheId.toString()+"-"+this._partId.toString()+"-"+V.toString(),this._lazyPt[V]=Y}return this._lazyPt[V]}equalityTest(V){return V===this||null!==V&&V instanceof _&&V.getUniqueHash()===this.getUniqueHash()}getUniqueHash(){return this._cacheId.toString()+"-"+this._partId.toString()}}},72596:(Ke,Re,te)=>{te.d(Re,{Bj:()=>ee,dj:()=>V,JW:()=>se,Lz:()=>Fe,EI:()=>de,tI:()=>ne,tt:()=>k,Sh:()=>w,US:()=>Ee,hj:()=>K,HD:()=>Z,yE:()=>le,Qk:()=>B,q2:()=>O,Dt:()=>J,SV:()=>pe,hd:()=>ge});var ee,V,me,z=te(12523),we=te(82059),_=te(12656);function se(me){return _.Z.fromJSON(me.toJSON())}function w(me){return me.toJSON()}function Z(me){return"string"==typeof me||me instanceof String}function K(me){return"number"==typeof me}function R(me){return me instanceof Date}function k(me,g){return me===g||!(!R(me)||!R(g))&&me.getTime()===g.getTime()}function de(me){if(void 0===me)return null;if("number"==typeof me)return me;switch(me.toLowerCase()){case"meters":case"meter":return 109404;case"miles":case"mile":return 109413;case"kilometers":case"kilometer":case"km":return 109414}return null}function pe(me){if(null===me)return null;switch(me.type){case"polygon":case"multipoint":case"polyline":return me.extent;case"point":return new we.Z({xmin:me.x,ymin:me.y,xmax:me.x,ymax:me.y,spatialReference:me.spatialReference});case"extent":return me}return null}function Fe(me){if(void 0===me)return null;if("number"==typeof me||"number"==typeof me)return me;switch(me.toLowerCase()){case"meters":case"meter":return 9001;case"miles":case"mile":return 9035;case"kilometers":case"kilometer":case"km":return 9036}return null}(me=ee||(ee={}))[me.Standardised=0]="Standardised",me[me.StandardisedNoInterval=1]="StandardisedNoInterval",me[me.SqlServer=2]="SqlServer",me[me.Oracle=3]="Oracle",me[me.Postgres=4]="Postgres",me[me.PGDB=5]="PGDB",me[me.FILEGDB=6]="FILEGDB",me[me.NotEvaluated=7]="NotEvaluated",function(me){me[me.InFeatureSet=0]="InFeatureSet",me[me.NotInFeatureSet=1]="NotInFeatureSet",me[me.Unknown=2]="Unknown"}(V||(V={}));const ne=1e3,B={point:"point",polygon:"polygon",polyline:"polyline",multipoint:"multipoint",extent:"extent",esriGeometryPoint:"point",esriGeometryPolygon:"polygon",esriGeometryPolyline:"polyline",esriGeometryMultipoint:"multipoint",esriGeometryEnvelope:"extent",envelope:"extent"},O={point:"esriGeometryPoint",polygon:"esriGeometryPolygon",polyline:"esriGeometryPolyline",multipoint:"esriGeometryMultipoint",extent:"esriGeometryEnvelope",esriGeometryPoint:"esriGeometryPoint",esriGeometryPolygon:"esriGeometryPolygon",esriGeometryPolyline:"esriGeometryPolyline",esriGeometryMultipoint:"esriGeometryMultipoint",esriGeometryEnvelope:"esriGeometryEnvelope",envelope:"esriGeometryEnvelope"},le={"small-integer":"esriFieldTypeSmallInteger",integer:"esriFieldTypeInteger",long:"esriFieldTypeLong",single:"esriFieldTypeSingle",double:"esriFieldTypeDouble",string:"esriFieldTypeString",date:"esriFieldTypeDate",oid:"esriFieldTypeOID",geometry:"esriFieldTypeGeometry",blob:"esriFieldTypeBlob",raster:"esriFieldTypeRaster",guid:"esriFieldTypeGUID","global-id":"esriFieldTypeGlobalID",xml:"eesriFieldTypeXML",esriFieldTypeSmallInteger:"esriFieldTypeSmallInteger",esriFieldTypeInteger:"esriFieldTypeInteger",esriFieldTypeLong:"esriFieldTypeLong",esriFieldTypeSingle:"esriFieldTypeSingle",esriFieldTypeDouble:"esriFieldTypeDouble",esriFieldTypeString:"esriFieldTypeString",esriFieldTypeDate:"esriFieldTypeDate",esriFieldTypeOID:"esriFieldTypeOID",esriFieldTypeGeometry:"esriFieldTypeGeometry",esriFieldTypeBlob:"esriFieldTypeBlob",esriFieldTypeRaster:"esriFieldTypeRaster",esriFieldTypeGUID:"esriFieldTypeGUID",esriFieldTypeGlobalID:"esriFieldTypeGlobalID",esriFieldTypeXML:"eesriFieldTypeXML"};function J(me,g){return(0,z.Ue)((j,I)=>{const Q=(0,z.DB)(!0);me.reduce((ve,Te,Se,Qe)=>ve.then(tt=>{try{return g(tt,Te,Se,Qe)}catch(ot){return(0,z.d1)(ot)}},tt=>(0,z.d1)(tt)),Q).then(j,I)})}function Ee(me){return void 0===me?"":me=(me=(me=me.replace(/\/featureserver\/[0-9]*/i,"/FeatureServer")).replace(/\/mapserver\/[0-9]*/i,"/MapServer")).split("?")[0]}function ge(me,g){g||(g={}),"function"==typeof g&&(g={cmp:g});const j="boolean"==typeof g.cycles&&g.cycles,I=g.cmp&&(Q=g.cmp,function(Te){return function(Se,Qe){return Q({key:Se,value:Te[Se]},{key:Qe,value:Te[Qe]})}});var Q;const ve=[];return function Te(Se){if(Se&&Se.toJSON&&"function"==typeof Se.toJSON&&(Se=Se.toJSON()),void 0===Se)return;if("number"==typeof Se)return isFinite(Se)?""+Se:"null";if("object"!=typeof Se)return JSON.stringify(Se);let Qe,tt;if(Array.isArray(Se)){for(tt="[",Qe=0;Qe<Se.length;Qe++)Qe&&(tt+=","),tt+=Te(Se[Qe])||"null";return tt+"]"}if(null===Se)return"null";if(-1!==ve.indexOf(Se)){if(j)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}const ot=ve.push(Se)-1,Ye=Object.keys(Se).sort(I&&I(Se));for(tt="",Qe=0;Qe<Ye.length;Qe++){const Ut=Ye[Qe],nt=Te(Se[Ut]);nt&&(tt&&(tt+=","),tt+=JSON.stringify(Ut)+":"+nt)}return ve.splice(ot,1),"{"+tt+"}"}(me)}},63641:(Ke,Re,te)=>{te.d(Re,{r:()=>we});var z=te(71655);function we(_,ee){_.array=function(V,se){return ee(V,se,function(w,Z,Y){(0,z.p)(Y,1,2);const K=(0,z.t)(Y[0]);if(isNaN(K)||!1===(0,z.B)(K))throw new Error("Invalid Parameter");const oe=(0,z.C)(Y[1],null),R=new Array(K);return R.fill(oe),R})},_.front=function(V,se){return ee(V,se,function(w,Z,Y){if((0,z.p)(Y,1,1),(0,z.b)(Y[0])){if(Y[0].length()<=0)throw new Error("Array is empty");return Y[0].get(0)}if((0,z.a)(Y[0])){if(Y[0].length<=0)throw new Error("Array is empty");return Y[0][0]}throw new Error("Invalid Parameter")})},_.back=function(V,se){return ee(V,se,function(w,Z,Y){if((0,z.p)(Y,1,1),(0,z.b)(Y[0])){if(Y[0].length()<=0)throw new Error("Array is empty");return Y[0].get(Y[0].length()-1)}if((0,z.a)(Y[0])){if(Y[0].length<=0)throw new Error("Array is empty");return Y[0][Y[0].length-1]}throw new Error("Invalid Parameter")})},_.push=function(V,se){return ee(V,se,function(w,Z,Y){if((0,z.p)(Y,1,2),(0,z.a)(Y[0]))return Y[0][Y[0].length]=Y[1],Y[0].length;throw new Error("Invalid Parameter")})},_.pop=function(V,se){return ee(V,se,function(w,Z,Y){if((0,z.p)(Y,1,1),(0,z.a)(Y[0])){if(Y[0].length<=0)throw new Error("Array is empty");const K=Y[0][Y[0].length-1];return Y[0].length=Y[0].length-1,K}throw new Error("Invalid Parameter")})},_.erase=function(V,se){return ee(V,se,function(w,Z,Y){if((0,z.p)(Y,2,2),(0,z.a)(Y[0])){let K=(0,z.t)(Y[1]);if(isNaN(K)||!1===(0,z.B)(K))throw new Error("Invalid Parameter");const oe=Y[0];if(oe.length<=0)throw new Error("Array is empty");if(K<0&&(K=oe.length+K),K<0)throw new Error("Element not found");if(K>=oe.length)throw new Error("Index is greater than array");return oe.splice(K,1),z.v}throw new Error("Invalid Parameter")})},_.insert=function(V,se){return ee(V,se,function(w,Z,Y){if((0,z.p)(Y,3,3),(0,z.a)(Y[0])){const K=(0,z.t)(Y[1]);if(isNaN(K)||!1===(0,z.B)(K))throw new Error("Invalid Parameter");const oe=Y[2],R=Y[0];if(K>R.length)throw new Error("Index is greater than array");if(K<0&&K<-1*R.length)throw new Error("Index is greater than array");return K===R.length?(R[K]=oe,z.v):(R.splice(K,0,oe),z.v)}throw new Error("Invalid Parameter")})},_.resize=function(V,se){return ee(V,se,function(w,Z,Y){if((0,z.p)(Y,2,3),(0,z.a)(Y[0])){const K=(0,z.t)(Y[1]);if(isNaN(K)||!1===(0,z.B)(K))throw new Error("Invalid Parameter");if(K<0)throw new Error("Size cannot be negative");const oe=(0,z.C)(Y[2],null),R=Y[0];if(R.length>=K)return R.length=K,z.v;const k=R.length;R.length=K;for(let he=k;he<R.length;he++)R[he]=oe;return z.v}throw new Error("Invalid Parameter")})},_.includes=function(V,se){return ee(V,se,function(w,Z,Y){if((0,z.p)(Y,2,2),(0,z.a)(Y[0])){const K=Y[1];return Y[0].findIndex(oe=>(0,z.e)(oe,K))>-1}if((0,z.b)(Y[0])){const K=Y[1];return Y[0].toArray().findIndex(oe=>(0,z.e)(oe,K))>-1}throw new Error("Invalid Parameter")})},_.slice=function(V,se){return ee(V,se,function(w,Z,Y){if((0,z.p)(Y,1,3),(0,z.a)(Y[0])){const K=(0,z.t)((0,z.C)(Y[1],0)),oe=(0,z.t)((0,z.C)(Y[2],Y[0].length));if(isNaN(K)||!1===(0,z.B)(K))throw new Error("Invalid Parameter");if(isNaN(oe)||!1===(0,z.B)(oe))throw new Error("Invalid Parameter");return Y[0].slice(K,oe)}if((0,z.b)(Y[0])){const K=Y[0],oe=(0,z.t)((0,z.C)(Y[1],0)),R=(0,z.t)((0,z.C)(Y[2],K.length()));if(isNaN(oe)||!1===(0,z.B)(oe))throw new Error("Invalid Parameter");if(isNaN(R)||!1===(0,z.B)(R))throw new Error("Invalid Parameter");return K.toArray().slice(oe,R)}throw new Error("Invalid Parameter")})},_.splice=function(V,se){return ee(V,se,function(w,Z,Y){const K=[];for(let oe=0;oe<Y.length;oe++)(0,z.a)(Y[oe])?K.push(...Y[oe]):(0,z.b)(Y[oe])?K.push(...Y[oe].toArray()):K.push(Y[oe]);return K})}}},6008:(Ke,Re,te)=>{te.d(Re,{RI:()=>ce,ws:()=>re,B9:()=>ne,Es:()=>B,Ay:()=>k,s9:()=>R,_R:()=>se,nB:()=>le,AW:()=>_});var z=te(27640),we=te(15969);function _(E,J,Ee){return Math.sqrt(Tn(E[0]-J[0],2)+Tn(E[1]-J[1],2)+(void 0!==E[2]&&void 0!==J[2]?Tn(E[2]*Ee-J[2]*Ee,2):0))}const ee=[];for(const E of[[9002,56146130,6131,6132,8050,8051,8228],[9003,5702,6358,6359,6360,8052,8053],[9095,5754]]){const J=E[0];for(let Ee=1;Ee<E.length;Ee++)ee[E[Ee]]=J}const V=[];function se(E){return E.vcsWkid&&void 0!==ee[E.vcsWkid]?V[ee[E.vcsWkid]]:E.latestVcsWkid&&void 0!==ee[E.latestVcsWkid]?V[ee[E.latestVcsWkid]]:1}function w(E,J,Ee){const ge={x:0,y:0};J&&(ge.z=0),Ee&&(ge.m=0);let me=0,g=E[0];for(let j=0;j<E.length;j++){const I=E[j];if(!1===oe(I,g)){const Q=K(g,I,J),ve=Z(g,I,J,Ee);ve.x*=Q,ve.y*=Q,ge.x+=ve.x,ge.y+=ve.y,J&&(ve.z*=Q,ge.z+=ve.z),Ee&&(ve.m*=Q,ge.m+=ve.m),me+=Q,g=I}}return me>0?(ge.x/=me,ge.y/=me,J&&(ge.z/=me),Ee&&(ge.m/=me)):(ge.x=E[0][0],ge.y=E[0][1],J&&(ge.z=E[0][2]),Ee&&J?ge.m=E[0][3]:Ee&&(ge.m=E[0][2])),ge}function Z(E,J,Ee,ge){const me={x:(E[0]+J[0])/2,y:(E[1]+J[1])/2};return Ee&&(me.z=(E[2]+J[2])/2),Ee&&ge?me.m=(E[3]+J[3])/2:ge&&(me.m=(E[2]+J[2])/2),me}function Y(E,J){if(E.length<=1)return 0;let Ee=0;for(let ge=1;ge<E.length;ge++)Ee+=K(E[ge-1],E[ge],J);return Ee}function K(E,J,Ee){const ge=J[0]-E[0],me=J[1]-E[1];if(Ee){const g=J[2]-J[2];return Math.sqrt(ge*ge+me*me+g*g)}return Math.sqrt(ge*ge+me*me)}function oe(E,J){if(E.length!==J.length)return!1;for(let Ee=0;Ee<E.length;Ee++)if(E[Ee]!==J[Ee])return!1;return!0}function R(E){const J={x:0,y:0,spatialReference:E.spatialReference.toJSON()},Ee={x:0,y:0,spatialReference:E.spatialReference.toJSON()};let ge=0,me=0;for(let g=0;g<E.paths.length;g++){if(0===E.paths[g].length)continue;const j=Y(E.paths[g],!0===E.hasZ);if(0===j){const I=w(E.paths[g],!0===E.hasZ,!0===E.hasM);J.x+=I.x,J.y+=I.y,!0===E.hasZ&&(J.z+=I.z),!0===E.hasM&&(J.m+=I.m),++ge}else{const I=w(E.paths[g],!0===E.hasZ,!0===E.hasM);Ee.x+=I.x*j,Ee.y+=I.y*j,!0===E.hasZ&&(Ee.z+=I.z*j),!0===E.hasM&&(Ee.m+=I.m*j),me+=j}}return me>0?(Ee.x/=me,Ee.y/=me,!0===E.hasZ&&(Ee.z/=me),!0===E.hasM&&(Ee.m/=me),new z.Z(Ee)):ge>0?(J.x/=ge,J.y/=ge,!0===E.hasZ&&(Ee.z/=ge),!0===E.hasM&&(J.m/=ge),new z.Z(J)):null}function k(E){if(0===E.points.length)return null;let J=0,Ee=0,ge=0,me=0;for(let j=0;j<E.points.length;j++){const I=E.getPoint(j);!0===I.hasZ&&(ge+=I.z),!0===I.hasM&&(me+=I.m),J+=I.x,Ee+=I.y,me+=I.m}const g={x:J/E.points.length,y:Ee/E.points.length,spatialReference:null};return g.spatialReference=E.spatialReference.toJSON(),!0===E.hasZ&&(g.z=ge/E.points.length),!0===E.hasM&&(g.m=me/E.points.length),new z.Z(g)}function pe(E,J,Ee=0){for(;E<Ee;)E+=J;const ge=Ee+J;for(;E>=ge;)E-=J;return E}function Fe(E,J){return Math.atan2(J.y-E.y,J.x-E.x)}function ce(E,J){return pe(Fe(E,J),2*Math.PI)*(180/Math.PI)}function ne(E,J){return pe(Math.PI/2-Fe(E,J),2*Math.PI)*(180/Math.PI)}function De(E,J,Ee){const ge={x:E.x-J.x,y:E.y-J.y},me={x:Ee.x-J.x,y:Ee.y-J.y};return Math.atan2(function(E,J){return E.x*J.y-J.x*E.y}(ge,me),function(E,J){return E.x*J.x+E.y*J.y}(ge,me))}function re(E,J,Ee){return pe(De(E,J,Ee),2*Math.PI)*(180/Math.PI)}function B(E,J,Ee){return pe(-1*De(E,J,Ee),2*Math.PI)*(180/Math.PI)}V[9002]=.3048,V[9003]=.3048006096012192,V[9095]=.3048007491;const O=[0,0];function le(E){for(let J=0;J<E.length;J++){const Ee=E[J];for(let me=0;me<Ee.length-1;me++){const g=Ee[me],j=Ee[me+1];for(let I=J+1;I<E.length;I++)for(let Q=0;Q<E[I].length-1;Q++){const ve=E[I][Q],Te=E[I][Q+1];if((0,we.UT)(g,j,ve,Te,O)&&!(O[0]===g[0]&&O[1]===g[1]||O[0]===ve[0]&&O[1]===ve[1]||O[0]===j[0]&&O[1]===j[1]||O[0]===Te[0]&&O[1]===Te[1]))return!0}}const ge=Ee.length;if(!(ge<3))for(let me=0;me<=ge-2;me++){const g=Ee[me],j=Ee[me+1];for(let I=me+2;I<=ge-2;I++){const Q=Ee[I],ve=Ee[I+1];if((0,we.UT)(g,j,Q,ve,O)&&!(O[0]===g[0]&&O[1]===g[1]||O[0]===Q[0]&&O[1]===Q[1]||O[0]===j[0]&&O[1]===j[1]||O[0]===ve[0]&&O[1]===ve[1]))return!0}}}return!1}},54275:(Ke,Re,te)=>{te.d(Re,{r:()=>R});var z=te(71655),we=te(9017),_=te(17347);function ee(k){const he=new Date(k.getTime()),de=he.getFullYear(),pe=new Date(0);pe.setFullYear(de+1,0,4),pe.setHours(0,0,0,0);const Fe=V(pe),ce=new Date(0);ce.setFullYear(de,0,4),ce.setHours(0,0,0,0);const ne=V(ce);return he.getTime()>=Fe.getTime()?de+1:he.getTime()>=ne.getTime()?de:de-1}function V(k){const de=new Date(k.getTime()),pe=de.getDay(),Fe=(pe<1?7:0)+pe-1;return de.setDate(de.getDate()-Fe),de.setHours(0,0,0,0),de}const Y=[0,31,59,90,120,151,181,212,243,273,304,334],K=[0,31,60,91,121,152,182,213,244,274,305,335];function oe(k){return null===k?k:isNaN(k.getTime())?null:k}function R(k,he){k.today=function(de,pe){return he(de,pe,function(Fe,ce,ne){(0,z.p)(ne,0,0);const De=new Date;return De.setHours(0,0,0,0),De})},k.now=function(de,pe){return he(de,pe,function(Fe,ce,ne){return(0,z.p)(ne,0,0),new Date})},k.timestamp=function(de,pe){return he(de,pe,function(Fe,ce,ne){(0,z.p)(ne,0,0);let De=new Date;return De=new Date(De.getUTCFullYear(),De.getUTCMonth(),De.getUTCDate(),De.getUTCHours(),De.getUTCMinutes(),De.getUTCSeconds(),De.getUTCMilliseconds()),De})},k.toutc=function(de,pe){return he(de,pe,function(Fe,ce,ne){(0,z.p)(ne,1,1);const De=(0,z.w)(ne[0]);return null===De?null:new Date(De.getUTCFullYear(),De.getUTCMonth(),De.getUTCDate(),De.getUTCHours(),De.getUTCMinutes(),De.getUTCSeconds(),De.getUTCMilliseconds())})},k.tolocal=function(de,pe){return he(de,pe,function(Fe,ce,ne){(0,z.p)(ne,1,1);const De=(0,z.w)(ne[0]);return null===De?null:_.ou.utc(De.getFullYear(),De.getMonth()+1,De.getDate(),De.getHours(),De.getMinutes(),De.getSeconds(),De.getMilliseconds()).toJSDate()})},k.day=function(de,pe){return he(de,pe,function(Fe,ce,ne){(0,z.p)(ne,1,1);const De=(0,z.w)(ne[0]);return null===De?NaN:De.getDate()})},k.month=function(de,pe){return he(de,pe,function(Fe,ce,ne){(0,z.p)(ne,1,1);const De=(0,z.w)(ne[0]);return null===De?NaN:De.getMonth()})},k.year=function(de,pe){return he(de,pe,function(Fe,ce,ne){(0,z.p)(ne,1,1);const De=(0,z.w)(ne[0]);return null===De?NaN:De.getFullYear()})},k.hour=function(de,pe){return he(de,pe,function(Fe,ce,ne){(0,z.p)(ne,1,1);const De=(0,z.w)(ne[0]);return null===De?NaN:De.getHours()})},k.second=function(de,pe){return he(de,pe,function(Fe,ce,ne){(0,z.p)(ne,1,1);const De=(0,z.w)(ne[0]);return null===De?NaN:De.getSeconds()})},k.millisecond=function(de,pe){return he(de,pe,function(Fe,ce,ne){(0,z.p)(ne,1,1);const De=(0,z.w)(ne[0]);return null===De?NaN:De.getMilliseconds()})},k.minute=function(de,pe){return he(de,pe,function(Fe,ce,ne){(0,z.p)(ne,1,1);const De=(0,z.w)(ne[0]);return null===De?NaN:De.getMinutes()})},k.week=function(de,pe){return he(de,pe,function(Fe,ce,ne){(0,z.p)(ne,1,2);const De=(0,z.w)(ne[0]);if(null===De)return NaN;const re=(0,z.t)((0,z.C)(ne[1],0));if(re<0||re>6)throw new Error("Invalid Parameter");const B=De.getDate(),O=De.getMonth(),le=De.getFullYear(),E=De.getDay(),J=function(k,he,de){return k+(function(k){return k%4==0&&(k%100!=0||k%400==0)}(de)?K:Y)[he]}(B,O,le)-1,Ee=Math.floor(J/7);return E-re+(E-re<0?7:0)<J-7*Ee?Ee+1:Ee})},k.weekday=function(de,pe){return he(de,pe,function(Fe,ce,ne){(0,z.p)(ne,1,1);const De=(0,z.w)(ne[0]);return null===De?NaN:De.getDay()})},k.isoweekday=function(de,pe){return he(de,pe,function(Fe,ce,ne){(0,z.p)(ne,1,1);const De=(0,z.w)(ne[0]);if(null===De)return NaN;let re=De.getDay();return 0===re&&(re=7),re})},k.isomonth=function(de,pe){return he(de,pe,function(Fe,ce,ne){(0,z.p)(ne,1,1);const De=(0,z.w)(ne[0]);return null===De?NaN:De.getMonth()+1})},k.isoweek=function(de,pe){return he(de,pe,function(Fe,ce,ne){(0,z.p)(ne,1,1);const De=(0,z.w)(ne[0]);if(null===De)return NaN;const re=V(De).getTime()-function(k){const he=ee(k),de=new Date(0);return de.setFullYear(he,0,4),de.setHours(0,0,0,0),V(de)}(De).getTime();return Math.round(re/6048e5)+1})},k.isoyear=function(de,pe){return he(de,pe,function(Fe,ce,ne){(0,z.p)(ne,1,1);const De=(0,z.w)(ne[0]);return null===De?NaN:ee(De)})},k.date=function(de,pe){return he(de,pe,function(Fe,ce,ne){if((0,z.p)(ne,0,7),3===ne.length)return oe(new Date((0,z.t)(ne[0]),(0,z.t)(ne[1]),(0,z.t)(ne[2]),0,0,0,0));if(4===ne.length)return oe(new Date((0,z.t)(ne[0]),(0,z.t)(ne[1]),(0,z.t)(ne[2]),(0,z.t)(ne[3]),0,0,0));if(5===ne.length)return oe(new Date((0,z.t)(ne[0]),(0,z.t)(ne[1]),(0,z.t)(ne[2]),(0,z.t)(ne[3]),(0,z.t)(ne[4]),0,0));if(6===ne.length)return oe(new Date((0,z.t)(ne[0]),(0,z.t)(ne[1]),(0,z.t)(ne[2]),(0,z.t)(ne[3]),(0,z.t)(ne[4]),(0,z.t)(ne[5]),0));if(7===ne.length)return oe(new Date((0,z.t)(ne[0]),(0,z.t)(ne[1]),(0,z.t)(ne[2]),(0,z.t)(ne[3]),(0,z.t)(ne[4]),(0,z.t)(ne[5]),(0,z.t)(ne[6])));if(2===ne.length){let De,re=(0,z.d)(ne[1]);return""===re?null:(re=(0,z.D)(re),De="X"===re?_.ou.fromSeconds((0,z.t)(ne[0])):"x"===re?_.ou.fromMillis((0,z.t)(ne[0])):_.ou.fromFormat((0,z.d)(ne[0]),re,{locale:(0,we.Kd)(),numberingSystem:"latn"}),De.isValid?De.toJSDate():null)}if(1===ne.length){if((0,z.f)(ne[0])){if(""===ne[0].replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))return null;if(!0===/^[0-9][0-9][0-9][0-9]$/.test(ne[0]))return(0,z.w)(ne[0]+"-01-01")}const De=(0,z.t)(ne[0]);return!1===isNaN(De)?oe(new Date(De)):(0,z.w)(ne[0])}return 0===ne.length?new Date:void 0})},k.datediff=function(de,pe){return he(de,pe,function(Fe,ce,ne){(0,z.p)(ne,2,3);const De=(0,z.E)(ne[0]),re=(0,z.E)(ne[1]);if(null===De||null===re)return NaN;switch((0,z.d)(ne[2]).toLowerCase()){case"days":case"day":case"d":return De.diff(re,"days").days;case"months":case"month":return De.diff(re,"months").months;case"minutes":case"minute":case"m":return"M"===ne[2]?De.diff(re,"months").months:De.diff(re,"minutes").minutes;case"seconds":case"second":case"s":return De.diff(re,"seconds").seconds;default:return De.diff(re).milliseconds;case"hours":case"hour":case"h":return De.diff(re,"hours").hours;case"years":case"year":case"y":return De.diff(re,"years").years}})},k.dateadd=function(de,pe){return he(de,pe,function(Fe,ce,ne){(0,z.p)(ne,2,3);const De=(0,z.E)(ne[0]);if(null===De)return null;let re=(0,z.t)(ne[1]);if(isNaN(re))return De.toJSDate();let B="milliseconds";switch((0,z.d)(ne[2]).toLowerCase()){case"days":case"day":case"d":B="days",re=(0,z.F)(re);break;case"months":case"month":B="months",re=(0,z.F)(re);break;case"minutes":case"minute":case"m":B="M"===ne[2]?"months":"minutes";break;case"seconds":case"second":case"s":B="seconds";break;case"milliseconds":case"millisecond":case"ms":B="milliseconds";break;case"hours":case"hour":case"h":B="hours";break;case"years":case"year":case"y":B="years"}return De.plus({[B]:re}).toJSDate()})}}},16481:(Ke,Re,te)=>{te.d(Re,{t:()=>w});var z=te(71655);function we(Z){let Y=0;for(let K=0;K<Z.length;K++)Y+=Z[K];return Y/Z.length}function _(Z){const Y=we(Z);let K=0;for(let oe=0;oe<Z.length;oe++)K+=Tn(Y-Z[oe],2);return K/Z.length}function w(Z,Y,K=1e3){switch(Z.toLowerCase()){case"distinct":return function(Z,Y){const K=[],oe={},R=[];for(let k=0;k<Z.length;k++){if(null!=Z[k]&&Z[k]!==z.v){const he=Z[k];if((0,z.j)(he)||(0,z.f)(he))void 0===oe[he]&&(K.push(he),oe[he]=1);else{let de=!1;for(let pe=0;pe<R.length;pe++)!0===(0,z.e)(R[pe],he)&&(de=!0);!1===de&&(R.push(he),K.push(he))}}if(K.length>=Y&&-1!==Y)return K}return K}(Y,K);case"avg":case"mean":return we((0,z.P)(Y));case"min":return Math.min.apply(Math,(0,z.P)(Y));case"sum":return function(Z){let Y=0;for(let K=0;K<Z.length;K++)Y+=Z[K];return Y}((0,z.P)(Y));case"max":return Math.max.apply(Math,(0,z.P)(Y));case"stdev":case"stddev":return Math.sqrt(_((0,z.P)(Y)));case"var":case"variance":return _((0,z.P)(Y));case"count":return Y.length}return 0}},54553:(Ke,Re,te)=>{te.d(Re,{r:()=>de});var z=te(96171),we=te(67155),_=te(24781),ee=te(71655),V=te(82059),se=te(40485),w=te(99388),Z=te(27640),Y=te(70393),K=te(27876),oe=te(6008),R=te(52917),k=te(47995);function he(pe){return pe instanceof we.Z||"object"==typeof pe&&"FeatureSetReader"===pe.type}function de(pe,Fe){pe.ringisclockwise=function(ce,ne){return Fe(ce,ne,function(De,re,B){(0,ee.p)(B,1,1);let O=[],le=!1,E=!1;if(null===B[0])return!1;if((0,ee.a)(B[0])){for(const J of B[0]){if(!(J instanceof Z.Z))throw new Error("Invalid Argument");O.push(J.hasZ?J.hasM?[J.x,J.y,J.z,J.m]:[J.x,J.y,J.z]:[J.x,J.y])}O.length>0&&(le=B[0][0].hasZ,E=B[0][0].hasM)}else if(B[0]instanceof _.Z)O=B[0]._elements,O.length>0&&(le=B[0]._hasZ,E=B[0]._hasM);else{if(!(0,ee.b)(B[0]))throw new Error("Invalid Argument");for(const J of B[0].toArray()){if(!(J instanceof Z.Z))throw new Error("Invalid Argument");O.push(J.hasZ?J.hasM?[J.x,J.y,J.z,J.m]:[J.x,J.y,J.z]:[J.x,J.y])}O.length>0&&(le=B[0].get(0).hasZ,E=B[0].get(0).hasM)}return!(O.length<3)&&(0,k.bu)(O,E,le)})},pe.polygon=function(ce,ne){return Fe(ce,ne,function(De,re,B){(0,ee.p)(B,1,1);let O=null;if(B[0]instanceof z.Z){if(O=(0,ee.r)(we.Z.parseGeometryFromDictionary(B[0]),ce.spatialReference),!(O instanceof Y.Z))throw new Error("Illegal Parameter")}else O=B[0]instanceof Y.Z?(0,R.im)(B[0].toJSON()):(0,ee.r)(new Y.Z(JSON.parse(B[0])),ce.spatialReference);if(null!==O&&!1===O.spatialReference.equals(ce.spatialReference))throw new Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return(0,ee.G)(O)})},pe.polyline=function(ce,ne){return Fe(ce,ne,function(De,re,B){(0,ee.p)(B,1,1);let O=null;if(B[0]instanceof z.Z){if(O=(0,ee.r)(we.Z.parseGeometryFromDictionary(B[0]),ce.spatialReference),!(O instanceof K.Z))throw new Error("Illegal Parameter")}else O=B[0]instanceof K.Z?(0,R.im)(B[0].toJSON()):(0,ee.r)(new K.Z(JSON.parse(B[0])),ce.spatialReference);if(null!==O&&!1===O.spatialReference.equals(ce.spatialReference))throw new Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return(0,ee.G)(O)})},pe.point=function(ce,ne){return Fe(ce,ne,function(De,re,B){(0,ee.p)(B,1,1);let O=null;if(B[0]instanceof z.Z){if(O=(0,ee.r)(we.Z.parseGeometryFromDictionary(B[0]),ce.spatialReference),!(O instanceof Z.Z))throw new Error("Illegal Parameter")}else O=B[0]instanceof Z.Z?(0,R.im)(B[0].toJSON()):(0,ee.r)(new Z.Z(JSON.parse(B[0])),ce.spatialReference);if(null!==O&&!1===O.spatialReference.equals(ce.spatialReference))throw new Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return(0,ee.G)(O)})},pe.multipoint=function(ce,ne){return Fe(ce,ne,function(De,re,B){(0,ee.p)(B,1,1);let O=null;if(B[0]instanceof z.Z){if(O=(0,ee.r)(we.Z.parseGeometryFromDictionary(B[0]),ce.spatialReference),!(O instanceof w.Z))throw new Error("Illegal Parameter")}else O=B[0]instanceof w.Z?(0,R.im)(B[0].toJSON()):(0,ee.r)(new w.Z(JSON.parse(B[0])),ce.spatialReference);if(null!==O&&!1===O.spatialReference.equals(ce.spatialReference))throw new Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return(0,ee.G)(O)})},pe.extent=function(ce,ne){return Fe(ce,ne,function(De,re,B){B=(0,ee.H)(B),(0,ee.p)(B,1,1);let O=null;if(B[0]instanceof z.Z)O=(0,ee.r)(we.Z.parseGeometryFromDictionary(B[0]),ce.spatialReference);else if(B[0]instanceof Z.Z){const le={xmin:B[0].x,ymin:B[0].y,xmax:B[0].x,ymax:B[0].y,spatialReference:B[0].spatialReference.toJSON()},E=B[0];E.hasZ?(le.zmin=E.z,le.zmax=E.z):E.hasM&&(le.mmin=E.m,le.mmax=E.m),O=(0,R.im)(le)}else O=B[0]instanceof Y.Z||B[0]instanceof K.Z||B[0]instanceof w.Z?(0,R.im)(B[0].extent.toJSON()):B[0]instanceof V.Z?(0,R.im)(B[0].toJSON()):(0,ee.r)(new V.Z(JSON.parse(B[0])),ce.spatialReference);if(null!==O&&!1===O.spatialReference.equals(ce.spatialReference))throw new Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return(0,ee.G)(O)})},pe.geometry=function(ce,ne){return Fe(ce,ne,function(De,re,B){(0,ee.p)(B,1,1);let O=null;if(O=he(B[0])?(0,ee.r)(B[0].geometry(),ce.spatialReference):(0,ee.r)(B[0]instanceof z.Z?we.Z.parseGeometryFromDictionary(B[0]):(0,R.im)(JSON.parse(B[0])),ce.spatialReference),null!==O&&!1===O.spatialReference.equals(ce.spatialReference))throw new Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return(0,ee.G)(O)})},pe.setgeometry=function(ce,ne){return Fe(ce,ne,function(De,re,B){if((0,ee.p)(B,2,2),!he(B[0]))throw new Error("Illegal Argument");if(!0===B[0].immutable)throw new Error("Feature is Immutable");if(!(B[1]instanceof se.Z||null===B[1]))throw new Error("Illegal Argument");return B[0]._geometry=B[1],ee.v})},pe.feature=function(ce,ne){return Fe(ce,ne,function(De,re,B){if(0===B.length)throw new Error("Missing Parameters");let O=null;if(1===B.length)if((0,ee.f)(B[0]))O=we.Z.fromJson(JSON.parse(B[0]));else if(he(B[0]))O=we.Z.createFromArcadeFeature(B[0]);else if(B[0]instanceof se.Z)O=we.Z.createFromGraphicLikeObject(B[0],null,null);else{if(!(B[0]instanceof z.Z))throw new Error("Illegal Argument");{let le=B[0].hasField("geometry")?B[0].field("geometry"):null,E=B[0].hasField("attributes")?B[0].field("attributes"):null;null!==le&&le instanceof z.Z&&(le=we.Z.parseGeometryFromDictionary(le)),null!==E&&(E=we.Z.parseAttributesFromDictionary(E)),O=we.Z.createFromGraphicLikeObject(le,E,null)}}else if(2===B.length){let le=null,E=null;if(null!==B[0])if(B[0]instanceof se.Z)le=B[0];else{if(!(le instanceof z.Z))throw new Error("Illegal Argument");le=we.Z.parseGeometryFromDictionary(B[0])}if(null!==B[1]){if(!(B[1]instanceof z.Z))throw new Error("Illegal Argument");E=we.Z.parseAttributesFromDictionary(B[1])}O=we.Z.createFromGraphicLikeObject(le,E,null)}else{let le=null;const E={};if(null!==B[0])if(B[0]instanceof se.Z)le=B[0];else{if(!(le instanceof z.Z))throw new Error("Illegal Argument");le=we.Z.parseGeometryFromDictionary(B[0])}for(let J=1;J<B.length;J+=2){const Ee=(0,ee.d)(B[J]),ge=B[J+1];if(!(null==ge||(0,ee.f)(ge)||isNaN(ge)||(0,ee.n)(ge)||(0,ee.j)(ge)||(0,ee.i)(ge)))throw new Error("Illegal Argument");if((0,ee.c)(ge)||!1===(0,ee.x)(ge))throw new Error("Illegal Argument");E[Ee]=ge===ee.v?null:ge}O=we.Z.createFromGraphicLikeObject(le,E,null)}return O._geometry=(0,ee.r)(O.geometry(),ce.spatialReference),O.immutable=!1,O})},pe.dictionary=function(ce,ne){return Fe(ce,ne,function(De,re,B){if(0===B.length){const E=new z.Z;return E.immutable=!1,E}if(1===B.length&&(0,ee.f)(B[0]))try{const E=JSON.parse(B[0]),J=z.Z.convertObjectToArcadeDictionary(E,!1);return J.immutable=!1,J}catch(E){throw new Error("Missing Parameters or Illegal Json")}if(B.length%2!=0)throw new Error("Missing Parameters");const O={};for(let E=0;E<B.length;E+=2){const J=(0,ee.d)(B[E]),Ee=B[E+1];if(!(null==Ee||(0,ee.f)(Ee)||isNaN(Ee)||(0,ee.n)(Ee)||(0,ee.j)(Ee)||(0,ee.i)(Ee)||(0,ee.a)(Ee)||(0,ee.b)(Ee)))throw new Error("Illegal Argument");if((0,ee.c)(Ee))throw new Error("Illegal Argument");O[J]=Ee===ee.v?null:Ee}const le=new z.Z(O);return le.immutable=!1,le})},pe.haskey=function(ce,ne){return Fe(ce,ne,function(De,re,B){(0,ee.p)(B,2,2);const O=(0,ee.d)(B[1]);if(he(B[0])||B[0]instanceof z.Z)return B[0].hasField(O);throw new Error("Illegal Argument")})},pe.indexof=function(ce,ne){return Fe(ce,ne,function(De,re,B){(0,ee.p)(B,2,2);const O=B[1];if((0,ee.a)(B[0])){for(let le=0;le<B[0].length;le++)if((0,ee.e)(O,B[0][le]))return le;return-1}if((0,ee.b)(B[0])){const le=B[0].length();for(let E=0;E<le;E++)if((0,ee.e)(O,B[0].get(E)))return E;return-1}throw new Error("Illegal Argument")})},pe.angle=function(ce,ne){return Fe(ce,ne,function(De,re,B){if(B=(0,ee.H)(B),(0,ee.p)(B,2,3),!(B[0]instanceof Z.Z))throw new Error("Illegal Argument");if(!(B[1]instanceof Z.Z))throw new Error("Illegal Argument");if(B.length>2&&!(B[2]instanceof Z.Z))throw new Error("Illegal Argument");return 2===B.length?(0,oe.RI)(B[0],B[1]):(0,oe.ws)(B[0],B[1],B[2])})},pe.bearing=function(ce,ne){return Fe(ce,ne,function(De,re,B){if(B=(0,ee.H)(B),(0,ee.p)(B,2,3),!(B[0]instanceof Z.Z))throw new Error("Illegal Argument");if(!(B[1]instanceof Z.Z))throw new Error("Illegal Argument");if(B.length>2&&!(B[2]instanceof Z.Z))throw new Error("Illegal Argument");return 2===B.length?(0,oe.B9)(B[0],B[1]):(0,oe.Es)(B[0],B[1],B[2])})},pe.isselfintersecting=function(ce,ne){return Fe(ce,ne,function(De,re,B){B=(0,ee.H)(B),(0,ee.p)(B,1,1);let O=B[0];if(O instanceof Y.Z)return O.isSelfIntersecting;if(O instanceof K.Z)return O=O.paths,(0,oe.nB)(O);if(O instanceof w.Z){const le=O.points;for(let E=0;E<le.length;E++)for(let J=0;J<le.length;J++)if(J!==E){let Ee=!0;for(let ge=0;ge<le[E].length;ge++)if(le[E][ge]!==le[J][ge]){Ee=!1;break}if(!0===Ee)return!0}}return!(!(0,ee.a)(O)&&!(0,ee.b)(O))&&(O=(0,ee.J)(O,ce.spatialReference),null!==O&&(O=O.paths),(0,oe.nB)(O))})}}},90470:(Ke,Re,te)=>{te.r(Re),te.d(Re,{registerFunctions:()=>Fe,setGeometryEngine:()=>de});var z=te(57711),we=te(49132),_=te(71655),ee=te(6008),V=te(82059),se=te(40485),w=te(99388),Z=te(27640),Y=te(70393),K=te(27876),oe=te(52917),R=te(4820);let k=null;function he(ce){return 0===z.i8.indexOf("4.")?Y.Z.fromExtent(ce):new Y.Z({spatialReference:ce.spatialReference,rings:[[[ce.xmin,ce.ymin],[ce.xmin,ce.ymax],[ce.xmax,ce.ymax],[ce.xmax,ce.ymin],[ce.xmin,ce.ymin]]]})}function de(ce){k=ce}function pe(ce,ne){if("polygon"!==ce.type&&"polyline"!==ce.type&&"extent"!==ce.type)return 0;let De=1;(ce.spatialReference.vcsWkid||ce.spatialReference.latestVcsWkid)&&(De=(0,ee._R)(ce.spatialReference)/(0,R.c9)(ce.spatialReference));let re=0;if("polyline"===ce.type)for(const O of ce.paths)for(let le=1;le<O.length;le++)re+=(0,ee.AW)(O[le],O[le-1],De);else if("polygon"===ce.type)for(const O of ce.rings){for(let le=1;le<O.length;le++)re+=(0,ee.AW)(O[le],O[le-1],De);(O[0][0]!==O[O.length-1][0]||O[0][1]!==O[O.length-1][1]||void 0!==O[0][2]&&O[0][2]!==O[O.length-1][2])&&(re+=(0,ee.AW)(O[0],O[O.length-1],De))}else"extent"===ce.type&&(re+=2*(0,ee.AW)([ce.xmin,ce.ymin,0],[ce.xmax,ce.ymin,0],De),re+=2*(0,ee.AW)([ce.xmin,ce.ymin,0],[ce.xmin,ce.ymax,0],De),re*=2,re+=4*Math.abs((0,_.C)(ce.zmax,0)*De-(0,_.C)(ce.zmin,0)*De));const B=new K.Z({hasZ:!1,hasM:!1,spatialReference:ce.spatialReference,paths:[[0,0],[0,re]]});return k.planarLength(B,ne)}function Fe(ce,ne){function De(re){if((0,_.p)(re,2,2),!(re[0]instanceof se.Z&&re[1]instanceof se.Z||re[0]instanceof se.Z&&null===re[1]||re[1]instanceof se.Z&&null===re[0]||null===re[0]&&null===re[1]))throw new Error("Illegal Argument")}ce.disjoint=function(re,B){return ne(re,B,function(O,le,E){return De(E=(0,_.H)(E)),null===E[0]||null===E[1]||k.disjoint(E[0],E[1])})},ce.intersects=function(re,B){return ne(re,B,function(O,le,E){return De(E=(0,_.H)(E)),null!==E[0]&&null!==E[1]&&k.intersects(E[0],E[1])})},ce.touches=function(re,B){return ne(re,B,function(O,le,E){return De(E=(0,_.H)(E)),null!==E[0]&&null!==E[1]&&k.touches(E[0],E[1])})},ce.crosses=function(re,B){return ne(re,B,function(O,le,E){return De(E=(0,_.H)(E)),null!==E[0]&&null!==E[1]&&k.crosses(E[0],E[1])})},ce.within=function(re,B){return ne(re,B,function(O,le,E){return De(E=(0,_.H)(E)),null!==E[0]&&null!==E[1]&&k.within(E[0],E[1])})},ce.contains=function(re,B){return ne(re,B,function(O,le,E){return De(E=(0,_.H)(E)),null!==E[0]&&null!==E[1]&&k.contains(E[0],E[1])})},ce.overlaps=function(re,B){return ne(re,B,function(O,le,E){return De(E=(0,_.H)(E)),null!==E[0]&&null!==E[1]&&k.overlaps(E[0],E[1])})},ce.equals=function(re,B){return ne(re,B,function(O,le,E){return(0,_.p)(E,2,2),E[0]===E[1]||(E[0]instanceof se.Z&&E[1]instanceof se.Z?k.equals(E[0],E[1]):!(!(0,_.n)(E[0])||!(0,_.n)(E[1]))&&E[0].getTime()===E[1].getTime())})},ce.relate=function(re,B){return ne(re,B,function(O,le,E){if(E=(0,_.H)(E),(0,_.p)(E,3,3),E[0]instanceof se.Z&&E[1]instanceof se.Z)return k.relate(E[0],E[1],(0,_.d)(E[2]));if(E[0]instanceof se.Z&&null===E[1]||E[1]instanceof se.Z&&null===E[0]||null===E[0]&&null===E[1])return!1;throw new Error("Illegal Argument")})},ce.intersection=function(re,B){return ne(re,B,function(O,le,E){return De(E=(0,_.H)(E)),null===E[0]||null===E[1]?null:k.intersect(E[0],E[1])})},ce.union=function(re,B){return ne(re,B,function(O,le,E){const J=[];if(0===(E=(0,_.H)(E)).length)throw new Error("Function called with wrong number of Parameters");if(1===E.length)if((0,_.a)(E[0])){const Ee=(0,_.H)(E[0]);for(let ge=0;ge<Ee.length;ge++)if(null!==Ee[ge]){if(!(Ee[ge]instanceof se.Z))throw new Error("Illegal Argument");J.push(Ee[ge])}}else{if(!(0,_.b)(E[0])){if(E[0]instanceof se.Z)return(0,_.r)((0,we.r1)(E[0]),re.spatialReference);if(null===E[0])return null;throw new Error("Illegal Argument")}{const Ee=(0,_.H)(E[0].toArray());for(let ge=0;ge<Ee.length;ge++)if(null!==Ee[ge]){if(!(Ee[ge]instanceof se.Z))throw new Error("Illegal Argument");J.push(Ee[ge])}}}else for(let Ee=0;Ee<E.length;Ee++)if(null!==E[Ee]){if(!(E[Ee]instanceof se.Z))throw new Error("Illegal Argument");J.push(E[Ee])}return 0===J.length?null:k.union(J)})},ce.difference=function(re,B){return ne(re,B,function(O,le,E){return De(E=(0,_.H)(E)),null!==E[0]&&null===E[1]?(0,we.r1)(E[0]):null===E[0]?null:k.difference(E[0],E[1])})},ce.symmetricdifference=function(re,B){return ne(re,B,function(O,le,E){return De(E=(0,_.H)(E)),null===E[0]&&null===E[1]?null:null===E[0]?(0,we.r1)(E[1]):null===E[1]?(0,we.r1)(E[0]):k.symmetricDifference(E[0],E[1])})},ce.clip=function(re,B){return ne(re,B,function(O,le,E){if(E=(0,_.H)(E),(0,_.p)(E,2,2),!(E[1]instanceof V.Z)&&null!==E[1])throw new Error("Illegal Argument");if(null===E[0])return null;if(!(E[0]instanceof se.Z))throw new Error("Illegal Argument");return null===E[1]?null:k.clip(E[0],E[1])})},ce.cut=function(re,B){return ne(re,B,function(O,le,E){if(E=(0,_.H)(E),(0,_.p)(E,2,2),!(E[1]instanceof K.Z)&&null!==E[1])throw new Error("Illegal Argument");if(null===E[0])return[];if(!(E[0]instanceof se.Z))throw new Error("Illegal Argument");return null===E[1]?[(0,we.r1)(E[0])]:k.cut(E[0],E[1])})},ce.area=function(re,B){return ne(re,B,function(O,le,E){if((0,_.p)(E,1,2),null===(E=(0,_.H)(E))[0])return 0;if((0,_.a)(E[0])||(0,_.b)(E[0])){const J=(0,_.K)(E[0],re.spatialReference);return null===J?0:k.planarArea(J,(0,we.EI)((0,_.C)(E[1],-1)))}if(!(E[0]instanceof se.Z))throw new Error("Illegal Argument");return k.planarArea(E[0],(0,we.EI)((0,_.C)(E[1],-1)))})},ce.areageodetic=function(re,B){return ne(re,B,function(O,le,E){if((0,_.p)(E,1,2),null===(E=(0,_.H)(E))[0])return 0;if((0,_.a)(E[0])||(0,_.b)(E[0])){const J=(0,_.K)(E[0],re.spatialReference);return null===J?0:k.geodesicArea(J,(0,we.EI)((0,_.C)(E[1],-1)))}if(!(E[0]instanceof se.Z))throw new Error("Illegal Argument");return k.geodesicArea(E[0],(0,we.EI)((0,_.C)(E[1],-1)))})},ce.length=function(re,B){return ne(re,B,function(O,le,E){if((0,_.p)(E,1,2),null===(E=(0,_.H)(E))[0])return 0;if((0,_.a)(E[0])||(0,_.b)(E[0])){const J=(0,_.J)(E[0],re.spatialReference);return null===J?0:k.planarLength(J,(0,we.Lz)((0,_.C)(E[1],-1)))}if(!(E[0]instanceof se.Z))throw new Error("Illegal Argument");return k.planarLength(E[0],(0,we.Lz)((0,_.C)(E[1],-1)))})},ce.length3d=function(re,B){return ne(re,B,function(O,le,E){if((0,_.p)(E,1,2),null===(E=(0,_.H)(E))[0])return 0;if((0,_.a)(E[0])||(0,_.b)(E[0])){const J=(0,_.J)(E[0],re.spatialReference);return null===J?0:!0===J.hasZ?pe(J,(0,we.Lz)((0,_.C)(E[1],-1))):k.planarLength(J,(0,we.Lz)((0,_.C)(E[1],-1)))}if(!(E[0]instanceof se.Z))throw new Error("Illegal Argument");return!0===E[0].hasZ?pe(E[0],(0,we.Lz)((0,_.C)(E[1],-1))):k.planarLength(E[0],(0,we.Lz)((0,_.C)(E[1],-1)))})},ce.lengthgeodetic=function(re,B){return ne(re,B,function(O,le,E){if((0,_.p)(E,1,2),null===(E=(0,_.H)(E))[0])return 0;if((0,_.a)(E[0])||(0,_.b)(E[0])){const J=(0,_.J)(E[0],re.spatialReference);return null===J?0:k.geodesicLength(J,(0,we.Lz)((0,_.C)(E[1],-1)))}if(!(E[0]instanceof se.Z))throw new Error("Illegal Argument");return k.geodesicLength(E[0],(0,we.Lz)((0,_.C)(E[1],-1)))})},ce.distance=function(re,B){return ne(re,B,function(O,le,E){E=(0,_.H)(E),(0,_.p)(E,2,3);let J=E[0];((0,_.a)(E[0])||(0,_.b)(E[0]))&&(J=(0,_.L)(E[0],re.spatialReference));let Ee=E[1];if(((0,_.a)(E[1])||(0,_.b)(E[1]))&&(Ee=(0,_.L)(E[1],re.spatialReference)),!(J instanceof se.Z))throw new Error("Illegal Argument");if(!(Ee instanceof se.Z))throw new Error("Illegal Argument");return k.distance(J,Ee,(0,we.Lz)((0,_.C)(E[2],-1)))})},ce.distancegeodetic=function(re,B){return ne(re,B,function(O,le,E){E=(0,_.H)(E),(0,_.p)(E,2,3);const J=E[0],Ee=E[1];if(!(J instanceof Z.Z))throw new Error("Illegal Argument");if(!(Ee instanceof Z.Z))throw new Error("Illegal Argument");const ge=new K.Z({paths:[],spatialReference:J.spatialReference});return ge.addPath([J,Ee]),k.geodesicLength(ge,(0,we.Lz)((0,_.C)(E[2],-1)))})},ce.densify=function(re,B){return ne(re,B,function(O,le,E){if(E=(0,_.H)(E),(0,_.p)(E,2,3),null===E[0])return null;if(!(E[0]instanceof se.Z))throw new Error("Illegal Argument");const J=(0,_.t)(E[1]);if(isNaN(J))throw new Error("Illegal Argument");if(J<=0)throw new Error("Illegal Argument");return E[0]instanceof Y.Z||E[0]instanceof K.Z?k.densify(E[0],J,(0,we.Lz)((0,_.C)(E[2],-1))):E[0]instanceof V.Z?k.densify(he(E[0]),J,(0,we.Lz)((0,_.C)(E[2],-1))):E[0]})},ce.densifygeodetic=function(re,B){return ne(re,B,function(O,le,E){if(E=(0,_.H)(E),(0,_.p)(E,2,3),null===E[0])return null;if(!(E[0]instanceof se.Z))throw new Error("Illegal Argument");const J=(0,_.t)(E[1]);if(isNaN(J))throw new Error("Illegal Argument");if(J<=0)throw new Error("Illegal Argument");return E[0]instanceof Y.Z||E[0]instanceof K.Z?k.geodesicDensify(E[0],J,(0,we.Lz)((0,_.C)(E[2],-1))):E[0]instanceof V.Z?k.geodesicDensify(he(E[0]),J,(0,we.Lz)((0,_.C)(E[2],-1))):E[0]})},ce.generalize=function(re,B){return ne(re,B,function(O,le,E){if(E=(0,_.H)(E),(0,_.p)(E,2,4),null===E[0])return null;if(!(E[0]instanceof se.Z))throw new Error("Illegal Argument");const J=(0,_.t)(E[1]);if(isNaN(J))throw new Error("Illegal Argument");return k.generalize(E[0],J,(0,_.u)((0,_.C)(E[2],!0)),(0,we.Lz)((0,_.C)(E[3],-1)))})},ce.buffer=function(re,B){return ne(re,B,function(O,le,E){if(E=(0,_.H)(E),(0,_.p)(E,2,3),null===E[0])return null;if(!(E[0]instanceof se.Z))throw new Error("Illegal Argument");const J=(0,_.t)(E[1]);if(isNaN(J))throw new Error("Illegal Argument");return 0===J?(0,we.r1)(E[0]):k.buffer(E[0],J,(0,we.Lz)((0,_.C)(E[2],-1)))})},ce.buffergeodetic=function(re,B){return ne(re,B,function(O,le,E){if(E=(0,_.H)(E),(0,_.p)(E,2,3),null===E[0])return null;if(!(E[0]instanceof se.Z))throw new Error("Illegal Argument");const J=(0,_.t)(E[1]);if(isNaN(J))throw new Error("Illegal Argument");return 0===J?(0,we.r1)(E[0]):k.geodesicBuffer(E[0],J,(0,we.Lz)((0,_.C)(E[2],-1)))})},ce.offset=function(re,B){return ne(re,B,function(O,le,E){if(E=(0,_.H)(E),(0,_.p)(E,2,6),null===E[0])return null;if(!(E[0]instanceof Y.Z||E[0]instanceof K.Z))throw new Error("Illegal Argument");const J=(0,_.t)(E[1]);if(isNaN(J))throw new Error("Illegal Argument");const Ee=(0,_.t)((0,_.C)(E[4],10));if(isNaN(Ee))throw new Error("Illegal Argument");const ge=(0,_.t)((0,_.C)(E[5],0));if(isNaN(ge))throw new Error("Illegal Argument");return k.offset(E[0],J,(0,we.Lz)((0,_.C)(E[2],-1)),(0,_.d)((0,_.C)(E[3],"round")).toLowerCase(),Ee,ge)})},ce.rotate=function(re,B){return ne(re,B,function(O,le,E){E=(0,_.H)(E),(0,_.p)(E,2,3);let J=E[0];if(null===J)return null;if(!(J instanceof se.Z))throw new Error("Illegal Argument");J instanceof V.Z&&(J=Y.Z.fromExtent(J));const Ee=(0,_.t)(E[1]);if(isNaN(Ee))throw new Error("Illegal Argument");const ge=(0,_.C)(E[2],null);if(null===ge)return k.rotate(J,Ee);if(ge instanceof Z.Z)return k.rotate(J,Ee,ge);throw new Error("Illegal Argument")})},ce.centroid=function(re,B){return ne(re,B,function(O,le,E){if(E=(0,_.H)(E),(0,_.p)(E,1,1),null===E[0])return null;let J=E[0];if(((0,_.a)(E[0])||(0,_.b)(E[0]))&&(J=(0,_.L)(E[0],re.spatialReference)),null===J)return null;if(!(J instanceof se.Z))throw new Error("Illegal Argument");return J instanceof Z.Z?(0,_.r)((0,we.r1)(E[0]),re.spatialReference):J instanceof Y.Z?J.centroid:J instanceof K.Z?(0,ee.s9)(J):J instanceof w.Z?(0,ee.Ay)(J):J instanceof V.Z?J.center:null})},ce.multiparttosinglepart=function(re,B){return ne(re,B,function(O,le,E){E=(0,_.H)(E),(0,_.p)(E,1,1);const J=[];if(null===E[0])return null;if(!(E[0]instanceof se.Z))throw new Error("Illegal Argument");if(E[0]instanceof Z.Z)return[(0,_.r)((0,we.r1)(E[0]),re.spatialReference)];if(E[0]instanceof V.Z)return[(0,_.r)((0,we.r1)(E[0]),re.spatialReference)];const Ee=k.simplify(E[0]);if(Ee instanceof Y.Z){const ge=[],me=[];for(let g=0;g<Ee.rings.length;g++)if(Ee.isClockwise(Ee.rings[g])){const j=(0,oe.im)({rings:[Ee.rings[g]],hasZ:!0===Ee.hasZ,hasM:!0===Ee.hasM,spatialReference:Ee.spatialReference.toJSON()});ge.push(j)}else me.push({ring:Ee.rings[g],pt:Ee.getPoint(g,0)});for(let g=0;g<me.length;g++)for(let j=0;j<ge.length;j++)if(ge[j].contains(me[g].pt)){ge[j].addRing(me[g].ring);break}return ge}if(Ee instanceof K.Z){const ge=[];for(let me=0;me<Ee.paths.length;me++){const g=(0,oe.im)({paths:[Ee.paths[me]],hasZ:!0===Ee.hasZ,hasM:!0===Ee.hasM,spatialReference:Ee.spatialReference.toJSON()});ge.push(g)}return ge}if(E[0]instanceof w.Z){const ge=(0,_.r)((0,we.r1)(E[0]),re.spatialReference);for(let me=0;me<ge.points.length;me++)J.push(ge.getPoint(me));return J}return null})},ce.issimple=function(re,B){return ne(re,B,function(O,le,E){if(E=(0,_.H)(E),(0,_.p)(E,1,1),null===E[0])return!0;if(!(E[0]instanceof se.Z))throw new Error("Illegal Argument");return k.isSimple(E[0])})},ce.simplify=function(re,B){return ne(re,B,function(O,le,E){if(E=(0,_.H)(E),(0,_.p)(E,1,1),null===E[0])return null;if(!(E[0]instanceof se.Z))throw new Error("Illegal Argument");return k.simplify(E[0])})}}},82728:(Ke,Re,te)=>{te.d(Re,{r:()=>ee});var z=te(71655),we=te(43267);function _(V,se,w){return void 0===w||0==+w?Math[V](se):(se=+se,w=+w,isNaN(se)||"number"!=typeof w||w%1!=0?NaN:(se=se.toString().split("e"),+((se=(se=Math[V](+(se[0]+"e"+(se[1]?+se[1]-w:-w)))).toString().split("e"))[0]+"e"+(se[1]?+se[1]+w:w))))}function ee(V,se){function w(Z,Y,K){const oe=(0,z.t)(Z);return isNaN(oe)?oe:isNaN(Y)||isNaN(K)||Y>K?NaN:oe<Y?Y:oe>K?K:oe}V.number=function(Z,Y){return se(Z,Y,function(K,oe,R){(0,z.p)(R,1,2);const k=R[0];if((0,z.j)(k))return k;if(null===k)return 0;if((0,z.n)(k)||(0,z.i)(k))return Number(k);if((0,z.a)(k))return NaN;if(""===k||void 0===k)return Number(k);if((0,z.f)(k)){if(void 0!==R[1]){let he=(0,z.M)(R[1],"\u2030","");return he=(0,z.M)(he,"\xa4",""),(0,we.Qc)(k,{pattern:he})}return Number(k.trim())}return Number(k)})},V.abs=function(Z,Y){return se(Z,Y,function(K,oe,R){return(0,z.p)(R,1,1),Math.abs((0,z.t)(R[0]))})},V.acos=function(Z,Y){return se(Z,Y,function(K,oe,R){return(0,z.p)(R,1,1),Math.acos((0,z.t)(R[0]))})},V.asin=function(Z,Y){return se(Z,Y,function(K,oe,R){return(0,z.p)(R,1,1),Math.asin((0,z.t)(R[0]))})},V.atan=function(Z,Y){return se(Z,Y,function(K,oe,R){return(0,z.p)(R,1,1),Math.atan((0,z.t)(R[0]))})},V.atan2=function(Z,Y){return se(Z,Y,function(K,oe,R){return(0,z.p)(R,2,2),Math.atan2((0,z.t)(R[0]),(0,z.t)(R[1]))})},V.ceil=function(Z,Y){return se(Z,Y,function(K,oe,R){if((0,z.p)(R,1,2),2===R.length){let k=(0,z.t)(R[1]);return isNaN(k)&&(k=0),_("ceil",(0,z.t)(R[0]),-1*k)}return Math.ceil((0,z.t)(R[0]))})},V.round=function(Z,Y){return se(Z,Y,function(K,oe,R){if((0,z.p)(R,1,2),2===R.length){let k=(0,z.t)(R[1]);return isNaN(k)&&(k=0),_("round",(0,z.t)(R[0]),-1*k)}return Math.round((0,z.t)(R[0]))})},V.floor=function(Z,Y){return se(Z,Y,function(K,oe,R){if((0,z.p)(R,1,2),2===R.length){let k=(0,z.t)(R[1]);return isNaN(k)&&(k=0),_("floor",(0,z.t)(R[0]),-1*k)}return Math.floor((0,z.t)(R[0]))})},V.cos=function(Z,Y){return se(Z,Y,function(K,oe,R){return(0,z.p)(R,1,1),Math.cos((0,z.t)(R[0]))})},V.isnan=function(Z,Y){return se(Z,Y,function(K,oe,R){return(0,z.p)(R,1,1),"number"==typeof R[0]&&isNaN(R[0])})},V.exp=function(Z,Y){return se(Z,Y,function(K,oe,R){return(0,z.p)(R,1,1),Math.exp((0,z.t)(R[0]))})},V.log=function(Z,Y){return se(Z,Y,function(K,oe,R){return(0,z.p)(R,1,1),Math.log((0,z.t)(R[0]))})},V.pow=function(Z,Y){return se(Z,Y,function(K,oe,R){return(0,z.p)(R,2,2),Tn((0,z.t)(R[0]),(0,z.t)(R[1]))})},V.random=function(Z,Y){return se(Z,Y,function(K,oe,R){return(0,z.p)(R,0,0),Math.random()})},V.sin=function(Z,Y){return se(Z,Y,function(K,oe,R){return(0,z.p)(R,1,1),Math.sin((0,z.t)(R[0]))})},V.sqrt=function(Z,Y){return se(Z,Y,function(K,oe,R){return(0,z.p)(R,1,1),Math.sqrt((0,z.t)(R[0]))})},V.tan=function(Z,Y){return se(Z,Y,function(K,oe,R){return(0,z.p)(R,1,1),Math.tan((0,z.t)(R[0]))})},V.defaultvalue=function(Z,Y){return se(Z,Y,function(K,oe,R){return(0,z.p)(R,2,2),null===R[0]||""===R[0]||void 0===R[0]?R[1]:R[0]})},V.isempty=function(Z,Y){return se(Z,Y,function(K,oe,R){return(0,z.p)(R,1,1),null===R[0]||""===R[0]||void 0===R[0]})},V.boolean=function(Z,Y){return se(Z,Y,function(K,oe,R){return(0,z.p)(R,1,1),(0,z.u)(R[0])})},V.constrain=function(Z,Y){return se(Z,Y,function(K,oe,R){(0,z.p)(R,3,3);const k=(0,z.t)(R[1]),he=(0,z.t)(R[2]);if((0,z.a)(R[0])){const de=[];for(const pe of R[0])de.push(w(pe,k,he));return de}if((0,z.b)(R[0])){const de=[];for(let pe=0;pe<R[0].length();pe++)de.push(w(R[0].get(pe),k,he));return de}return w(R[0],k,he)})}}},52902:(Ke,Re,te)=>{te.d(Re,{r:()=>ee});var z=te(71655),we=te(16481);function _(V,se,w,Z){if(1===Z.length){if((0,z.a)(Z[0]))return(0,we.t)(V,Z[0],-1);if((0,z.b)(Z[0]))return(0,we.t)(V,Z[0].toArray(),-1)}return(0,we.t)(V,Z,-1)}function ee(V,se){V.stdev=function(w,Z){return se(w,Z,function(Y,K,oe){return _("stdev",0,0,oe)})},V.variance=function(w,Z){return se(w,Z,function(Y,K,oe){return _("variance",0,0,oe)})},V.average=function(w,Z){return se(w,Z,function(Y,K,oe){return _("mean",0,0,oe)})},V.mean=function(w,Z){return se(w,Z,function(Y,K,oe){return _("mean",0,0,oe)})},V.sum=function(w,Z){return se(w,Z,function(Y,K,oe){return _("sum",0,0,oe)})},V.min=function(w,Z){return se(w,Z,function(Y,K,oe){return _("min",0,0,oe)})},V.max=function(w,Z){return se(w,Z,function(Y,K,oe){return _("max",0,0,oe)})},V.distinct=function(w,Z){return se(w,Z,function(Y,K,oe){return _("distinct",0,0,oe)})},V.count=function(w,Z){return se(w,Z,function(Y,K,oe){if((0,z.p)(oe,1,1),(0,z.a)(oe[0])||(0,z.f)(oe[0]))return oe[0].length;if((0,z.b)(oe[0]))return oe[0].length();throw new Error("Invalid Parameters for Count")})}}},39022:(Ke,Re,te)=>{te.d(Re,{r:()=>$});var z=te(99771),we=te(33962),_=te(96171),ee=te(67155),V=te(71655),se=te(72596);const w=N=>(T,G,q)=>(q=q||14,+N(T,G).toFixed(q)),Z=(N,T)=>N+T,K=(N,T)=>N*T,oe=(N,T)=>N/T,R=(N,T,G)=>w(Z)(N,T,G),he=(N,T,G)=>w(K)(N,T,G),de=(N,T,G)=>w(oe)(N,T,G),ce=2*Math.PI,ne=3600,B=60,O=648e3/Math.PI,le=1296e3,E=90*ne,J=648e3,ge=String.fromCharCode(7501);function g(N){if(!1===(0,V.f)(N))throw new Error("Invalid Parameter");return N}function j(N,T){const G=Tn(10,T);return Math.round(N*G)/G}function Q(N){const T=parseFloat(N.toString().replace(Math.trunc(N).toString(),"0"))*Math.sign(N);return N<0?{fraction:T,integer:Math.ceil(N)}:{fraction:T,integer:Math.floor(N)}}function ve(N,T){switch(N){case 0:return"SHORT"===T?"N":"North";case 1:return"SHORT"===T?"E":"East";case 2:return"SHORT"===T?"S":"South";case 3:return"SHORT"===T?"W":"West"}}function Te(N,T,G){for(;N.length<G;)N=T+N;return N}function Se(N,T){return N-Math.floor(N/T)*T}function Qe(N){switch(N){case 6:case 1:return 360;case 4:return ce;case 5:return 400;case 2:return le;case 7:return 60;case 8:return B;default:throw new Error("Unnexpected evaluations")}}function tt(N){switch(N.toUpperCase().trim()){case"NORTH":case"NORTHAZIMUTH":case"NORTH AZIMUTH":return 1;case"POLAR":return 2;case"QUADRANT":return 3;case"SOUTH":case"SOUTHAZIMUTH":case"SOUTH AZIMUTH":return 4}throw new Error("Unsupported direction type")}function ot(N){switch(N.toUpperCase().trim()){case"D":case"DD":case"DECIMALDEGREE":case"DECIMAL DEGREE":case"DEGREE":case"DECIMALDEGREES":case"DECIMAL DEGREES":case"DEGREES":return 1;case"DMS":case"DEGREESMINUTESSECONDS":case"DEGREES MINUTES SECONDS":return 3;case"R":case"RAD":case"RADS":case"RADIAN":case"RADIANS":return 4;case"G":case"GON":case"GONS":case"GRAD":case"GRADS":case"GRADIAN":case"GRADIANS":return 5}throw new Error("Unsupported units")}class Ye{constructor(T,G,q){this.m_degrees=T,this.m_minutes=G,this.m_seconds=q}get_field(T){switch(T){case 1:case 6:return this.m_degrees;case 7:return this.m_minutes;case 2:case 8:return this.m_seconds;default:throw new Error("Unnexpected evaluation")}}static seconds_to_DMS(T){const G=Q(T).fraction;let q=Q(T).integer;const fe=Math.floor(q/ne);q-=fe*ne;const Ce=Math.floor(q/B);return q-=Ce*B,new Ye(fe,Ce,q+G)}static number_to_dms(T){const G=Q(T).fraction,q=Q(T).integer,fe=he(Q(100*G).fraction,100),Ce=Q(100*G).integer;return new Ye(q,Ce,fe)}format(T,G){let q=j(this.m_seconds,G),fe=this.m_minutes,Ce=this.m_degrees;if(2===T||8===T)B<=q&&(q-=B,++fe),60<=fe&&(fe=0,++Ce),360<=Ce&&(Ce=0);else if(7===T)q=0,fe=30<=this.m_seconds?this.m_minutes+1:this.m_minutes,Ce=this.m_degrees,60<=fe&&(fe=0,++Ce),360<=Ce&&(Ce=0);else if(1===T||6===T){const ie=de(this.m_seconds,ne),ue=de(this.m_minutes,60);Ce=Math.round(this.m_degrees+ue+ie),fe=0,q=0}return new Ye(Ce,fe,q)}static DMS_to_seconds(T,G,q){return T*ne+G*B+q}}class Ut{constructor(T,G,q){this.meridian=T,this.angle=G,this.direction=q}fetch_azimuth(T){return 0===T?this.meridian:this.direction}}class nt{constructor(T){this.m_angle=T}static createFromAngleAndDirection(T,G){return new nt(new ut(nt.convertDirectionFormat(T.extract_angular_units(2),G,1)))}getAngle(T){const G=this.m_angle.extract_angular_units(2);switch(T){case 1:case 4:case 2:return new ut(nt.convertDirectionFormat(G,1,T));case 3:{const q=nt.seconds_north_azimuth_to_quadrant(G);return new ut(q.angle)}}}getMeridian(T){const G=this.m_angle.extract_angular_units(2);switch(T){case 1:return 0;case 4:return 2;case 2:return 1;case 3:return nt.seconds_north_azimuth_to_quadrant(G).meridian}}getDirection(T){const G=this.m_angle.extract_angular_units(2);switch(T){case 1:return 1;case 4:return 3;case 2:return 0;case 3:return nt.seconds_north_azimuth_to_quadrant(G).direction}}static seconds_north_azimuth_to_quadrant(T){const G=T<=E||T>=972e3?0:2,q=0===G?Math.min(le-T,T):Math.abs(T-J);return new Ut(G,q,T>J?3:1)}static createFromAngleMeridianAndDirection(T,G,q){return new nt(new ut(nt.secondsQuadrantToNorthAzimuth(T.extract_angular_units(2),G,q)))}static secondsQuadrantToNorthAzimuth(T,G,q){return 0===G?1===q?T:le-T:1===q?J-T:J+T}static convertDirectionFormat(T,G,q){let fe=0;switch(G){case 1:fe=T;break;case 2:fe=E-T;break;case 3:throw new Error("Unnexpected evaluation");case 4:fe=T+J}let Ce=0;switch(q){case 1:Ce=fe;break;case 2:Ce=E-fe;break;case 3:throw new Error("Unnexpected evaluation");case 4:Ce=fe-J}return Ce=Ce%1296e3,Ce<0?le+Ce:Ce}}function yt(N,T,G){let q=null;switch(T){case 1:q=he(N,ne);break;case 2:q=N;break;case 5:q=he(N,3240);break;case 4:q=he(N,O);break;default:throw new Error("Unnexpected evaluation")}switch(G){case 1:return de(q,ne);case 2:return q;case 5:return de(q,3240);case 4:return q/O;default:throw new Error("Unnexpected evaluation")}}class ut{constructor(T){this.m_seconds=T}static createFromAngleAndUnits(T,G){return new ut(yt(T,G,2))}extract_angular_units(T){return yt(this.m_seconds,2,wt(T))}static createFromDegreesMinutesSeconds(T,G,q){return new ut(R(R(he(T,ne),he(G,B)),q))}}function wt(N){switch(N){case 1:case 6:case 3:return 1;case 5:return 5;case 7:return 7;case 4:return 4;case 2:case 8:return 2}}class Pt{constructor(T,G,q,fe){this.m_view=T,this.m_angle=G,this.m_merdian=q,this.m_direction=fe,this.m_dms=null,this.m_formatted_dms=null}static createFromStringAndBearing(T,G,q){return new Pt(T,G.getAngle(q),G.getMeridian(q),G.getDirection(q))}fetch_angle(){return this.m_angle}fetch_meridian(){return this.m_merdian}fetch_direction(){return this.m_direction}fetch_m_view(){return this.m_view}fetch_dms(){return null===this.m_dms&&this.calculate_dms(),this.m_dms}fetch_formatted_dms(){return null===this.m_formatted_dms&&this.calculate_dms(),this.m_formatted_dms}calculate_dms(){let T=null,G=6,q=0;for(let fe=0;fe<this.m_view.length;fe++){const Ce=this.m_view[fe];switch(Ce){case"m":T=gt(this.m_view,fe,Ce),G=6===G?7:G,fe=T.newpos;continue;case"s":T=gt(this.m_view,fe,Ce),G=8,q=q<T.rounding?T.rounding:q,fe=T.newpos;continue;default:continue}}this.m_dms=Ye.seconds_to_DMS(this.m_angle.extract_angular_units(2)),this.m_formatted_dms=Ye.seconds_to_DMS(this.m_angle.extract_angular_units(2)).format(G,q)}}function Ve(N,T,G,q,fe){let Ce=null;switch(T){case 1:case 4:case 5:return Ce=Se(j(N.extract_angular_units(T),q),Qe(T)),Te(Ce.toFixed(q),"0",G+q+(q>0?1:0));case 6:case 7:return Ce=Se(fe.fetch_formatted_dms().get_field(T),Qe(T)),Te(Ce.toFixed(q),"0",G+q+(q>0?1:0));case 8:return Ce=Se(j(fe.fetch_dms().get_field(T),q),Qe(T)),Te(Ce.toFixed(q),"0",G+q+(q>0?1:0));default:throw new Error("Unnexepected evaluation")}}function dt(N){switch(N.toUpperCase().trim()){case"N":case"NORTH":return 0;case"E":case"EAST":return 1;case"S":case"SOUTH":return 2;case"W":case"WEST":return 3}return null}function kt(N){const T=parseFloat(N);if((0,V.j)(T)){if(isNaN(T))throw new Error("Invalid conversion");return T}throw new Error("Invalid conversion")}function Rt(N,T,G){const q=3===G;let fe=null,Ce=null,ie=0,ue=0,Oe=0;if(q){if(N.length<2)throw new Error("Conversion Error");Oe=1;const Le=function(N){switch((0,V.t)(N)){case 1:return{first:0,second:1};case 2:return{first:2,second:1};case 3:return{first:2,second:3};case 4:return{first:0,second:3}}return null}((0,V.d)(N[N.length-1]));if(Le?(fe=Le.first,Ce=Le.second):(ie=1,fe=dt((0,V.d)(N[0])),Ce=dt((0,V.d)(N[N.length-1]))),null===fe||null===Ce)throw new Error("Invalid Conversion")}switch(T){case 1:case 4:case 5:if(0===N.length)throw new Error("Invalid Conversion");return q?nt.createFromAngleMeridianAndDirection(ut.createFromAngleAndUnits(kt(N[ie]),wt(T)),fe,Ce):nt.createFromAngleAndDirection(ut.createFromAngleAndUnits(kt(N[ie]),wt(T)),G);case 3:if(ue=N.length-Oe-ie,3===ue){const Le=ut.createFromDegreesMinutesSeconds(kt(N[ie]),kt(N[ie+1]),kt(N[ie+2]));return q?nt.createFromAngleMeridianAndDirection(Le,fe,Ce):nt.createFromAngleAndDirection(Le,G)}if(1===ue){const Le=kt(N[ie]),lt=Ye.number_to_dms(Le),it=ut.createFromDegreesMinutesSeconds(lt.m_degrees,lt.m_minutes,lt.m_seconds);return q?nt.createFromAngleMeridianAndDirection(it,fe,Ce):nt.createFromAngleAndDirection(it,G)}}throw new Error("Conversion Error")}function gt(N,T,G){const q={padding:0,rounding:0,newpos:T};let fe=!1;for(;T<N.length;){const Ce=N[T];if(Ce===G)fe?q.rounding++:q.padding++,T++;else{if("."!==Ce)break;fe=!0,T++}}return q.newpos=T-1,q}function $t(N,T,G){const q={escaped:"",newpos:T};for(T++;T<N.length;){const fe=N[T];if(T++,"]"===fe)break;q.escaped+=fe}return q.newpos=T-1,q}function rt(N,T,G){if(!(T instanceof _.Z))throw new Error("Invalid Parameter");if(!1===T.hasField("directionType"))throw new Error("Invalid Parameter - Missing directionType");if(!1===T.hasField("angleType"))throw new Error("Invalid Parameter - Missing directionType");const q=tt(g(T.field("directiontype"))),fe=function(N,T,G){if((0,V.j)(N))return function(N,T,G){if(3===G)throw new Error("Conversion error");if(3===T){const q=Ye.number_to_dms(N);return nt.createFromAngleAndDirection(ut.createFromDegreesMinutesSeconds(q.m_degrees,q.m_minutes,q.m_seconds),G)}return nt.createFromAngleAndDirection(ut.createFromAngleAndUnits(N,wt(T)),G)}((0,V.t)(N),T,G);if((0,V.f)(N))return Rt(function(N){const T=[" ","-","/","'",'"',"\\","^","\xb0",ge,"\t","\r","\n","*"];let G="";for(let q=0;q<N.length;q++){const fe=N.charAt(q);-1!==T.indexOf(fe)?G+="RRSPLITRRSPLITRR":G+=fe}return G.split("RRSPLITRRSPLITRR").filter(q=>""!==q)}(N),T,G);if((0,V.a)(N))return Rt(N,T,G);if((0,V.b)(N))return Rt(N.toArray(),T,G);throw new Error("Conversion Error")}(N,ot(g(T.field("angletype"))),q);if(!(G instanceof _.Z))throw new Error("Invalid Parameter");if(!1===G.hasField("directionType"))throw new Error("Invalid Parameter - Missing directionType");if(!1===G.hasField("outputType"))throw new Error("Invalid Parameter - Missing directionType");const Ce=tt(g(G.field("directiontype"))),ie=G.hasField("angleType")?ot(g(G.field("angletype"))):null,ue=g(G.field("outputType")).toUpperCase().trim();if(!Ce||!ue)throw new Error("Conversion error");if(!(ie||"TEXT"===ue&&G.hasField("format")))throw new Error("Invalid unit");switch(ue){case"VALUE":return 3===Ce||3===ie?function(N,T,G){const q=N.getAngle(T);if(3===T&&3===G){const fe=Ye.seconds_to_DMS(q.extract_angular_units(2));return[ve(N.getMeridian(T),"SHORT"),fe.m_degrees,fe.m_minutes,fe.m_seconds,ve(N.getDirection(T),"SHORT")]}if(3===G){const fe=Ye.seconds_to_DMS(q.extract_angular_units(2));return[fe.m_degrees,fe.m_minutes,fe.m_seconds]}return 3===T?[ve(N.getMeridian(T),"SHORT"),q.extract_angular_units(G),ve(N.getDirection(T),"SHORT")]:[q.extract_angular_units(G)]}(fe,Ce,ie):function(N,T,G){const q=wt(G);if(q&&3!==G)return N.getAngle(T).extract_angular_units(q);throw new Error("Conversion Error")}(fe,Ce,ie);case"TEXT":{let Oe="";return G.hasField("format")&&(Oe=(0,V.d)(G.field("format"))),null!==Oe&&""!==Oe||(Oe=function(N,T){let G="";switch(N){case 1:G=3===T?"DD.DD\xb0":"DDD.DD\xb0";break;case 3:G=3===T?"dd\xb0 mm' ss\"":"ddd\xb0 mm' ss.ss\"";break;case 4:G="R.RR";break;case 5:G="GGG.GG"+ge;break;default:throw new Error("Conversion error")}return 3===T&&(G="p "+G+" b"),G}(ie,Ce)),function(N,T,G){let q="",fe=null,Ce=null;const ie=Pt.createFromStringAndBearing(T,N,G),ue={D:1,d:6,m:7,s:8,R:4,G:5};for(let Oe=0;Oe<T.length;Oe++){const Le=T[Oe];switch(Le){case"[":fe=$t(T,Oe),q+=fe.escaped,Oe=fe.newpos;continue;case"D":case"d":case"m":case"s":case"R":case"G":fe=gt(T,Oe,Le),Ce=N.getAngle(G),q+=Ve(Ce,ue[Le],fe.padding,fe.rounding,ie),Oe=fe.newpos;continue;case"P":case"p":q+=ve(ie.fetch_meridian(),"p"===Le?"SHORT":"LONG");continue;case"B":case"b":q+=ve(ie.fetch_direction(),"b"===Le?"SHORT":"LONG");continue;default:q+=Le}}return q}(fe,Oe,Ce)}default:throw new Error("Invalid Parameter")}}const ct=2654435761,pt=2246822519,Dt=3266489917,Ct=668265263,Zt=374761393;function St(N){const T=[];for(let G=0,q=N.length;G<q;G++){let fe=N.charCodeAt(G);fe<128?T.push(fe):fe<2048?T.push(192|fe>>6,128|63&fe):fe<55296||fe>=57344?T.push(224|fe>>12,128|fe>>6&63,128|63&fe):(G++,fe=65536+((1023&fe)<<10|1023&N.charCodeAt(G)),T.push(240|fe>>18,128|fe>>12&63,128|fe>>6&63,128|63&fe))}return new Uint8Array(T)}class Xt{constructor(T){this.seed=T,this.totallen=0,this.bufs=[],this.init()}init(){return this.bufs=[],this.totallen=0,this}updateFloatArray(T){const G=[];for(const q of T)isNaN(q)?G.push("NaN"):G.push(q===1/0?"Infinity":q===-1/0?"-Infinity":0===q?"0":q.toString(16));this.update(St(G.join("")))}updateIntArray(T){const G=Int32Array.from(T);this.update(new Uint8Array(G.buffer))}updateUint8Array(T){this.update(Uint8Array.from(T))}updateWithString(T){return this.update(St(T))}update(T){return this.bufs.push(T),this.totallen+=T.length,this}digest(){const T=new Uint8Array(this.totallen);let G=0;for(const q of this.bufs)T.set(q,G),G+=q.length;return this.init(),this.xxHash32(T,this.seed)}xxHash32(T,G=0){const q=T;let fe=G+Zt&4294967295,Ce=0;if(q.length>=16){const ue=[G+ct+pt&4294967295,G+pt&4294967295,G+0&4294967295,G-ct&4294967295],Oe=T,Le=Oe.length-16;let lt=0;for(Ce=0;(4294967280&Ce)<=Le;Ce+=4){let un=ue[lt]+((Oe[Ce+0]+(Oe[Ce+1]<<8))*pt+((Oe[Ce+2]+(Oe[Ce+3]<<8))*pt<<16))&4294967295;un=un<<13|un>>>19,ue[lt]=(65535&un)*ct+((un>>>16)*ct<<16)&4294967295,lt=lt+1&3}fe=(ue[0]<<1|ue[0]>>>31)+(ue[1]<<7|ue[1]>>>25)+(ue[2]<<12|ue[2]>>>20)+(ue[3]<<18|ue[3]>>>14)&4294967295}fe=fe+T.length&4294967295;const ie=T.length-4;for(;Ce<=ie;Ce+=4)fe=fe+((q[Ce+0]+(q[Ce+1]<<8))*Dt+((q[Ce+2]+(q[Ce+3]<<8))*Dt<<16))&4294967295,fe=fe<<17|fe>>>15,fe=(65535&fe)*Ct+((fe>>>16)*Ct<<16)&4294967295;for(;Ce<q.length;++Ce)fe+=q[Ce]*Zt,fe=fe<<11|fe>>>21,fe=(65535&fe)*ct+((fe>>>16)*ct<<16)&4294967295;return fe^=fe>>>15,fe=((65535&fe)*pt&4294967295)+((fe>>>16)*pt<<16),fe^=fe>>>13,fe=((65535&fe)*Dt&4294967295)+((fe>>>16)*Dt<<16),fe^=fe>>>16,fe<0?fe+4294967296:fe}}var bt=te(82059),mn=te(99388),Qt=te(27640),an=te(70393),qt=te(27876),en=te(56703);function tn(N,T){if(N.x===T.x&&N.y===T.y){if(N.hasZ){if(N.z!==T.z)return!1}else if(T.hasZ)return!1;if(N.hasM){if(N.m!==T.m)return!1}else if(T.hasM)return!1;return!0}return!1}function b(N,T,G){if(null!==N)if((0,V.a)(N)){if(T.updateUint8Array([61]),G.map.has(N)){const q=G.map.get(N);T.updateIntArray([61237541^q])}else{G.map.set(N,G.currentLength++);for(const q of N)b(q,T,G);G.map.delete(N),G.currentLength--}T.updateUint8Array([199])}else if((0,V.b)(N)){if(T.updateUint8Array([61]),G.map.has(N)){const q=G.map.get(N);T.updateIntArray([61237541^q])}else{G.map.set(N,G.currentLength++);for(const q of N.toArray())b(q,T,G);G.map.delete(N),G.currentLength--}T.updateUint8Array([199])}else{if((0,V.n)(N))return T.updateIntArray([N.getTime()]),void T.updateUint8Array([241]);if((0,V.f)(N))return T.updateIntArray([N.length]),T.updateWithString(N),void T.updateUint8Array([41]);if((0,V.i)(N))T.updateUint8Array([!0===N?1:0,113]);else{if((0,V.j)(N))return T.updateFloatArray([N]),void T.updateUint8Array([173]);if(N instanceof we.Z)throw new Error("Type not supported in Hash");if(N instanceof z.Z)throw new Error("Type not supported in Hash");if(!(N instanceof _.Z)){if(N instanceof ee.Z)throw new Error("Type not supported in Hash");if(N instanceof Qt.Z)return T.updateIntArray([3833836621]),T.updateIntArray([0]),T.updateFloatArray([N.x]),T.updateIntArray([1]),T.updateFloatArray([N.y]),N.hasZ&&(T.updateIntArray([2]),T.updateFloatArray([N.z])),N.hasM&&(T.updateIntArray([3]),T.updateFloatArray([N.m])),T.updateIntArray([3765347959]),void b(N.spatialReference.wkid,T,G);if(N instanceof an.Z){T.updateIntArray([1266616829]);for(let q=0;q<N.rings.length;q++){const fe=N.rings[q],Ce=[];let ie=null,ue=null;for(let Oe=0;Oe<fe.length;Oe++){const Le=N.getPoint(q,Oe);if(0===Oe)ie=Le;else if(tn(ue,Le))continue;ue=Le,Oe===fe.length-1&&tn(ie,Le)||Ce.push(Le)}T.updateIntArray([1397116793,Ce.length]);for(let Oe=0;Oe<Ce.length;Oe++){const Le=Ce[Oe];T.updateIntArray([3962308117,Oe]),b(Le,T,G),T.updateIntArray([2716288009])}T.updateIntArray([2278822459])}return T.updateIntArray([3878477243]),void b(N.spatialReference.wkid,T,G)}if(N instanceof qt.Z){T.updateIntArray([4106883559]);for(let q=0;q<N.paths.length;q++){const fe=N.paths[q];T.updateIntArray([1397116793,fe.length]);for(let Ce=0;Ce<fe.length;Ce++)T.updateIntArray([3962308117,Ce]),b(N.getPoint(q,Ce),T,G),T.updateIntArray([2716288009]);T.updateIntArray([2278822459])}return T.updateIntArray([2568784753]),void b(N.spatialReference.wkid,T,G)}if(N instanceof mn.Z){T.updateIntArray([588535921,N.points.length]);for(let q=0;q<N.points.length;q++){const fe=N.getPoint(q);T.updateIntArray([q]),b(fe,T,G)}return T.updateIntArray([1700171621]),void b(N.spatialReference.wkid,T,G)}if(N instanceof bt.Z)return T.updateIntArray([3483648373]),T.updateIntArray([0]),T.updateFloatArray([N.xmax]),T.updateIntArray([1]),T.updateFloatArray([N.xmin]),T.updateIntArray([2]),T.updateFloatArray([N.ymax]),T.updateIntArray([3]),T.updateFloatArray([N.ymin]),N.hasZ&&(T.updateIntArray([4]),T.updateFloatArray([N.zmax]),T.updateIntArray([5]),T.updateFloatArray([N.zmin])),N.hasM&&(T.updateIntArray([6]),T.updateFloatArray([N.mmax]),T.updateIntArray([7]),T.updateFloatArray([N.mmin])),T.updateIntArray([3622027469]),void b(N.spatialReference.wkid,T,G);if(N instanceof en.Z)return T.updateIntArray([14]),null!=N.wkid&&T.updateIntArray([N.wkid]),void(N.wkt&&T.updateWithString(N.wkt));throw(0,V.c)(N)||(0,V.o)(N)||(0,V.q)(N),new Error("Type not supported in Hash")}if(T.updateUint8Array([223]),G.map.has(N)){const q=G.map.get(N);T.updateIntArray([61237541^q])}else{G.map.set(N,G.currentLength++);for(const q of N.keys())T.updateIntArray([q.length]),T.updateWithString(q),T.updateUint8Array([251]),b(N.field(q),T,G),T.updateUint8Array([239]);G.map.delete(N),G.currentLength--}T.updateUint8Array([73])}}else T.updateUint8Array([0,139])}function $(N,T){N.portal=function(G,q){return T(G,q,function(fe,Ce,ie){return(0,V.p)(ie,1,1),new z.Z((0,V.d)(ie[0]))})},N.trim=function(G,q){return T(G,q,function(fe,Ce,ie){return(0,V.p)(ie,1,1),(0,V.d)(ie[0]).trim()})},N.tohex=function(G,q){return T(G,q,function(fe,Ce,ie){(0,V.p)(ie,1,1);const ue=(0,V.t)(ie[0]);return isNaN(ue)?ue:ue.toString(16)})},N.upper=function(G,q){return T(G,q,function(fe,Ce,ie){return(0,V.p)(ie,1,1),(0,V.d)(ie[0]).toUpperCase()})},N.proper=function(G,q){return T(G,q,function(fe,Ce,ie){(0,V.p)(ie,1,2);let ue=1;2===ie.length&&"firstword"===(0,V.d)(ie[1]).toLowerCase()&&(ue=2);const Oe=/\s/,Le=(0,V.d)(ie[0]);let lt="",it=!0;for(let on=0;on<Le.length;on++){let It=Le[on];Oe.test(It)?1===ue&&(it=!0):It.toUpperCase()!==It.toLowerCase()&&(it?(It=It.toUpperCase(),it=!1):It=It.toLowerCase()),lt+=It}return lt})},N.lower=function(G,q){return T(G,q,function(fe,Ce,ie){return(0,V.p)(ie,1,1),(0,V.d)(ie[0]).toLowerCase()})},N.guid=function(G,q){return T(G,q,function(fe,Ce,ie){if((0,V.p)(ie,0,1),ie.length>0)switch((0,V.d)(ie[0]).toLowerCase()){case"digits":return(0,V.O)().replace("-","").replace("-","").replace("-","").replace("-","");case"digits-hyphen":return(0,V.O)();case"digits-hyphen-braces":return"{"+(0,V.O)()+"}";case"digits-hyphen-parentheses":return"("+(0,V.O)()+")"}return"{"+(0,V.O)()+"}"})},N.console=function(G,q){return T(G,q,function(fe,Ce,ie){return 0===ie.length||G.console((0,V.d)(1===ie.length?ie[0]:ie)),V.v})},N.mid=function(G,q){return T(G,q,function(fe,Ce,ie){(0,V.p)(ie,2,3);let ue=(0,V.t)(ie[1]);if(isNaN(ue))return"";if(ue<0&&(ue=0),2===ie.length)return(0,V.d)(ie[0]).substr(ue);let Oe=(0,V.t)(ie[2]);return isNaN(Oe)?"":(Oe<0&&(Oe=0),(0,V.d)(ie[0]).substr(ue,Oe))})},N.find=function(G,q){return T(G,q,function(fe,Ce,ie){(0,V.p)(ie,2,3);let ue=0;if(ie.length>2){if(ue=(0,V.t)((0,V.C)(ie[2],0)),isNaN(ue))return-1;ue<0&&(ue=0)}return(0,V.d)(ie[1]).indexOf((0,V.d)(ie[0]),ue)})},N.left=function(G,q){return T(G,q,function(fe,Ce,ie){(0,V.p)(ie,2,2);let ue=(0,V.t)(ie[1]);return isNaN(ue)?"":(ue<0&&(ue=0),(0,V.d)(ie[0]).substr(0,ue))})},N.right=function(G,q){return T(G,q,function(fe,Ce,ie){(0,V.p)(ie,2,2);let ue=(0,V.t)(ie[1]);return isNaN(ue)?"":(ue<0&&(ue=0),(0,V.d)(ie[0]).substr(-1*ue,ue))})},N.split=function(G,q){return T(G,q,function(fe,Ce,ie){let ue;(0,V.p)(ie,2,4);let Oe=(0,V.t)((0,V.C)(ie[2],-1));const Le=(0,V.u)((0,V.C)(ie[3],!1));if(-1===Oe||null===Oe||!0===Le?ue=(0,V.d)(ie[0]).split((0,V.d)(ie[1])):(isNaN(Oe)&&(Oe=-1),Oe<-1&&(Oe=-1),ue=(0,V.d)(ie[0]).split((0,V.d)(ie[1]),Oe)),!1===Le)return ue;const lt=[];for(let it=0;it<ue.length&&!(-1!==Oe&&lt.length>=Oe);it++)""!==ue[it]&&void 0!==ue[it]&&lt.push(ue[it]);return lt})},N.text=function(G,q){return T(G,q,function(fe,Ce,ie){return(0,V.p)(ie,1,2),(0,V.s)(ie[0],ie[1])})},N.concatenate=function(G,q){return T(G,q,function(fe,Ce,ie){const ue=[];if(ie.length<1)return"";if((0,V.a)(ie[0])){const Oe=(0,V.C)(ie[2],"");for(let Le=0;Le<ie[0].length;Le++)ue[Le]=(0,V.s)(ie[0][Le],Oe);return ue.join(ie.length>1?ie[1]:"")}if((0,V.b)(ie[0])){const Oe=(0,V.C)(ie[2],"");for(let Le=0;Le<ie[0].length();Le++)ue[Le]=(0,V.s)(ie[0].get(Le),Oe);return ue.join(ie.length>1?ie[1]:"")}for(let Oe=0;Oe<ie.length;Oe++)ue[Oe]=(0,V.s)(ie[Oe]);return ue.join("")})},N.reverse=function(G,q){return T(G,q,function(fe,Ce,ie){if((0,V.p)(ie,1,1),(0,V.a)(ie[0])){const ue=ie[0].slice(0);return ue.reverse(),ue}if((0,V.b)(ie[0])){const ue=ie[0].toArray().slice(0);return ue.reverse(),ue}throw new Error("Invalid Parameter")})},N.replace=function(G,q){return T(G,q,function(fe,Ce,ie){(0,V.p)(ie,3,4);const ue=(0,V.d)(ie[0]),Oe=(0,V.d)(ie[1]),Le=(0,V.d)(ie[2]);return 4!==ie.length||(0,V.u)(ie[3])?(0,V.M)(ue,Oe,Le):ue.replace(Oe,Le)})},N.schema=function(G,q){return T(G,q,function(fe,Ce,ie){if(ie[0]instanceof ee.Z){const ue=ie[0].schema();return ue?_.Z.convertObjectToArcadeDictionary(ue):null}throw new Error("Invalid Parameter")})},N.subtypes=function(G,q){return T(G,q,function(fe,Ce,ie){if((0,V.p)(ie,1,1),ie[0]instanceof ee.Z){const ue=ie[0].subtypes();return ue?_.Z.convertObjectToArcadeDictionary(ue):null}throw new Error("Invalid Parameter")})},N.subtypecode=function(G,q){return T(G,q,function(fe,Ce,ie){if((0,V.p)(ie,1,1),ie[0]instanceof ee.Z){const ue=ie[0].subtypes();if(!ue)return null;if(ue.subtypeField&&ie[0].hasField(ue.subtypeField)){const Oe=ie[0].field(ue.subtypeField);for(const Le of ue.subtypes)if(Le.code===Oe)return Le.code;return null}return null}throw new Error("Invalid Parameter")})},N.subtypename=function(G,q){return T(G,q,function(fe,Ce,ie){if((0,V.p)(ie,1,1),ie[0]instanceof ee.Z){const ue=ie[0].subtypes();if(!ue)return"";if(ue.subtypeField&&ie[0].hasField(ue.subtypeField)){const Oe=ie[0].field(ue.subtypeField);for(const Le of ue.subtypes)if(Le.code===Oe)return Le.name;return""}return""}throw new Error("Invalid Parameter")})},N.gdbversion=function(G,q){return T(G,q,function(fe,Ce,ie){if((0,V.p)(ie,1,1),ie[0]instanceof ee.Z)return ie[0].gdbVersion();throw new Error("Invalid Parameter")})},N.domain=function(G,q){return T(G,q,function(fe,Ce,ie){if((0,V.p)(ie,2,3),ie[0]instanceof ee.Z){const ue=ie[0].fullDomain((0,V.d)(ie[1]),void 0===ie[2]?void 0:(0,V.t)(ie[2]));return ue&&ue.domain?_.Z.convertObjectToArcadeDictionary("coded-value"===ue.domain.type||"codedValue"===ue.domain.type?{type:"codedValue",name:ue.domain.name,dataType:se.yE[ue.field.type],codedValues:ue.domain.codedValues.map(Oe=>({name:Oe.name,code:Oe.code}))}:{type:"range",name:ue.domain.name,dataType:se.yE[ue.field.type],min:ue.domain.min,max:ue.domain.max}):null}throw new Error("Invalid Parameter")})},N.domainname=function(G,q){return T(G,q,function(fe,Ce,ie){if((0,V.p)(ie,2,4),ie[0]instanceof ee.Z)return ie[0].domainValueLookup((0,V.d)(ie[1]),ie[2],void 0===ie[3]?void 0:(0,V.t)(ie[3]));throw new Error("Invalid Parameter")})},N.domaincode=function(G,q){return T(G,q,function(fe,Ce,ie){if((0,V.p)(ie,2,4),ie[0]instanceof ee.Z)return ie[0].domainCodeLookup((0,V.d)(ie[1]),ie[2],void 0===ie[3]?void 0:(0,V.t)(ie[3]));throw new Error("Invalid Parameter")})},N.urlencode=function(G,q){return T(G,q,function(fe,Ce,ie){if((0,V.p)(ie,1,1),null===ie[0])return"";if(ie[0]instanceof _.Z){let ue="";for(const Oe of ie[0].keys()){const Le=ie[0].field(Oe);""!==ue&&(ue+="&"),ue+=null===Le?encodeURIComponent(Oe)+"=":encodeURIComponent(Oe)+"="+encodeURIComponent(Le)}return ue}return encodeURIComponent((0,V.d)(ie[0]))})},N.hash=function(G,q){return T(G,q,function(fe,Ce,ie){(0,V.p)(ie,1,1);const ue=new Xt(0);return b(ie[0],ue,{map:new Map,currentLength:0}),ue.digest()})},N.convertdirection=function(G,q){return T(G,q,function(fe,Ce,ie){return(0,V.p)(ie,3,3),rt(ie[0],ie[1],ie[2])})},N.fromjson=function(G,q){return T(G,q,function(fe,Ce,ie){if((0,V.p)(ie,1,1),!1===(0,V.f)(ie[0]))throw new Error("Invalid Parameter");return _.Z.convertJsonToArcade(JSON.parse((0,V.d)(ie[0])))})},N.expects=function(G,q){return T(G,q,function(fe,Ce,ie){if(ie.length<1)throw new Error("Function called with wrong number of Parameters");return V.v})}}},49132:(Ke,Re,te)=>{te.d(Re,{r1:()=>se,Lz:()=>ee,EI:()=>we,SV:()=>_});var z=te(82059);function we(w){if(void 0===w)return null;if("number"==typeof w)return w;let Z=w.toLowerCase();switch(Z=Z.replace(/\s/g,""),Z=Z.replace(/-/g,""),Z){case"meters":case"meter":case"m":case"squaremeters":case"squaremeter":return 109404;case"miles":case"mile":case"squaremile":case"squaremiles":return 109413;case"kilometers":case"kilometer":case"squarekilometers":case"squarekilometer":case"km":return 109414;case"acres":case"acre":case"ac":return 109402;case"hectares":case"hectare":case"ha":return 109401;case"yard":case"yd":case"yards":case"squareyards":case"squareyard":return 109442;case"feet":case"ft":case"foot":case"squarefeet":case"squarefoot":return 109405;case"nm":case"nmi":case"nauticalmile":case"nauticalmiles":case"squarenauticalmile":case"squarenauticalmiles":return 109409}return null}function _(w){if(null===w)return null;switch(w.type){case"polygon":case"multipoint":case"polyline":return w.extent;case"point":return new z.Z({xmin:w.x,ymin:w.y,xmax:w.x,ymax:w.y,spatialReference:w.spatialReference});case"extent":return w}return null}function ee(w){if(void 0===w)return null;if("number"==typeof w)return w;let Z=w.toLowerCase();switch(Z=Z.replace(/\s/g,""),Z=Z.replace(/-/g,""),Z){case"meters":case"meter":case"m":case"squaremeters":case"squaremeter":return 9001;case"miles":case"mile":case"squaremile":case"squaremiles":return 9035;case"kilometers":case"kilometer":case"squarekilometers":case"squarekilometer":case"km":return 9036;case"yard":case"yd":case"yards":case"squareyards":case"squareyard":return 9096;case"feet":case"ft":case"foot":case"squarefeet":case"squarefoot":return 9002;case"nm":case"nmi":case"nauticalmile":case"nauticalmiles":case"squarenauticalmile":case"squarenauticalmiles":return 9030}return null}function se(w){if(null===w)return null;const Z=w.clone();return void 0!==w.cache._geVersion&&(Z.cache._geVersion=w.cache._geVersion),Z}},56679:(Ke,Re,te)=>{te.d(Re,{gW:()=>V,AA:()=>E,Kq:()=>de,mb:()=>he,Vf:()=>J,dN:()=>Ee,H5:()=>re,w8:()=>k,bV:()=>R,UA:()=>De,FS:()=>ne});const z={concatenate:{min:"0",max:"*"},expects:{min:"1",max:"*"},getfeatureset:{min:"1",max:"2"},week:{min:"1",max:"2"},fromjson:{min:"1",max:"1"},length3d:{min:"1",max:"2"},tohex:{min:"1",max:"1"},hash:{min:"1",max:"1"},isoweek:{min:"1",max:"1"},isoweekday:{min:"1",max:"1"},isomonth:{min:"1",max:"1"},isoyear:{min:"1",max:"1"},resize:{min:"2",max:"3"},slice:{min:"0",max:"*"},splice:{min:"0",max:"*"},push:{min:"2",max:"2"},pop:{min:"1",max:"1"},includes:{min:"2",max:"2"},array:{min:"1",max:"2"},front:{min:"1",max:"1"},back:{min:"1",max:"1"},insert:{min:"3",max:"3"},erase:{min:"2",max:"2"},split:{min:"2",max:"4"},guid:{min:"0",max:"1"},today:{min:"0",max:"0"},angle:{min:"2",max:"3"},bearing:{min:"2",max:"3"},urlencode:{min:"1",max:"1"},now:{min:"0",max:"0"},timestamp:{min:"0",max:"0"},day:{min:"1",max:"1"},month:{min:"1",max:"1"},year:{min:"1",max:"1"},hour:{min:"1",max:"1"},second:{min:"1",max:"1"},millisecond:{min:"1",max:"1"},minute:{min:"1",max:"1"},weekday:{min:"1",max:"1"},toutc:{min:"1",max:"1"},tolocal:{min:"1",max:"1"},date:{min:"0",max:"7"},datediff:{min:"2",max:"3"},dateadd:{min:"2",max:"3"},trim:{min:"1",max:"1"},text:{min:"1",max:"2"},left:{min:"2",max:"2"},right:{min:"2",max:"2"},mid:{min:"2",max:"3"},upper:{min:"1",max:"1"},proper:{min:"1",max:"2"},lower:{min:"1",max:"1"},find:{min:"2",max:"3"},iif:{min:"3",max:"3"},decode:{min:"2",max:"*"},when:{min:"2",max:"*"},defaultvalue:{min:"2",max:"2"},isempty:{min:"1",max:"1"},domaincode:{min:"2",max:"4"},domainname:{min:"2",max:"4"},polygon:{min:"1",max:"1"},point:{min:"1",max:"1"},polyline:{min:"1",max:"1"},extent:{min:"1",max:"1"},multipoint:{min:"1",max:"1"},ringisclockwise:{min:"1",max:"1"},geometry:{min:"1",max:"1"},count:{min:"0",max:"*"},number:{min:"1",max:"2"},acos:{min:"1",max:"1"},asin:{min:"1",max:"1"},atan:{min:"1",max:"1"},atan2:{min:"2",max:"2"},ceil:{min:"1",max:"2"},floor:{min:"1",max:"2"},round:{min:"1",max:"2"},cos:{min:"1",max:"1"},exp:{min:"1",max:"1"},log:{min:"1",max:"1"},min:{min:"0",max:"*"},constrain:{min:"3",max:"3"},console:{min:"0",max:"*"},max:{min:"0",max:"*"},pow:{min:"2",max:"2"},random:{min:"0",max:"0"},sqrt:{min:"1",max:"1"},sin:{min:"1",max:"1"},tan:{min:"1",max:"1"},abs:{min:"1",max:"1"},isnan:{min:"1",max:"1"},stdev:{min:"0",max:"*"},average:{min:"0",max:"*"},mean:{min:"0",max:"*"},sum:{min:"0",max:"*"},variance:{min:"0",max:"*"},distinct:{min:"0",max:"*"},first:{min:"1",max:"1"},top:{min:"2",max:"2"},boolean:{min:"1",max:"1"},dictionary:{min:"0",max:"*"},typeof:{min:"1",max:"1"},reverse:{min:"1",max:"1"},replace:{min:"3",max:"4"},sort:{min:"1",max:"2"},feature:{min:"1",max:"*"},haskey:{min:"2",max:"2"},indexof:{min:"2",max:"2"},disjoint:{min:"2",max:"2"},intersects:{min:"2",max:"2"},touches:{min:"2",max:"2"},crosses:{min:"2",max:"2"},within:{min:"2",max:"2"},contains:{min:"2",max:"2"},overlaps:{min:"2",max:"2"},equals:{min:"2",max:"2"},relate:{min:"3",max:"3"},intersection:{min:"2",max:"2"},union:{min:"1",max:"2"},difference:{min:"2",max:"2"},symmetricdifference:{min:"2",max:"2"},clip:{min:"2",max:"2"},cut:{min:"2",max:"2"},area:{min:"1",max:"2"},areageodetic:{min:"1",max:"2"},length:{min:"1",max:"2"},lengthgeodetic:{min:"1",max:"2"},distancegeodetic:{min:"2",max:"3"},distance:{min:"2",max:"3"},densify:{min:"2",max:"3"},densifygeodetic:{min:"2",max:"3"},generalize:{min:"2",max:"4"},buffer:{min:"2",max:"3"},buffergeodetic:{min:"2",max:"3"},offset:{min:"2",max:"6"},rotate:{min:"2",max:"3"},issimple:{min:"1",max:"1"},simplify:{min:"1",max:"1"},centroid:{min:"1",max:"1"},isselfintersecting:{min:"1",max:"1"},multiparttosinglepart:{min:"1",max:"1"},setgeometry:{min:"2",max:"2"},portal:{min:"1",max:"1"},getuser:{min:"1",max:"2"},subtypes:{min:"1",max:"1"},subtypecode:{min:"1",max:"1"},subtypename:{min:"1",max:"1"},domain:{min:"2",max:"3"},convertdirection:{min:"3",max:"3"},schema:{min:"1",max:"1"}};for(const g in z)z[g].fmin=z[g].min,z[g].fmax=z[g].max;const we=["featureset","getuser","featuresetbyid","featuresetbyname","featuresetbyassociation","featuresetbyrelationshipname","featuresetbyurl","getfeatureset","attachments","featuresetbyportalitem"],_=["disjoint","intersects","touches","crosses","within","contains","overlaps","equals","relate","intersection","union","difference","symmetricdifference","clip","cut","area","areageodetic","length","length3d","lengthgeodetic","distance","distancegeodetic","densify","densifygeodetic","generalize","buffer","buffergeodetic","offset","rotate","issimple","simplify","multiparttosinglepart"];function ee(g){return"string"==typeof g||g instanceof String}function V(g,j){const I=z[g.name.toLowerCase()];void 0===I?z[g.name.toLowerCase()]="sync"===j?{min:g.min,max:g.max}:{fmin:g.min,fmax:g.max}:"sync"===j?(I.min=g.min,I.max=g.max):(I.fmin=g.min,I.fmax=g.max)}function se(g,j){return"0"!==g.min&&j.length<Number(g.min)||"*"!==g.max&&j.length>Number(g.max)?-2:1}function w(g,j,I){if(null!==I.localScope&&void 0!==I.localScope[g.toLowerCase()]){const Q=I.localScope[g.toLowerCase()];if("FormulaFunction"===Q.type)return void 0===Q.signature&&(Q.signature={min:"0",max:"*"}),se(Q.signature,j);if("any"===Q.type)return void 0===Q.signature&&(Q.signature={min:"0",max:"*"}),se(Q.signature,j)}if(void 0!==I.globalScope[g.toLowerCase()]){const Q=I.globalScope[g.toLowerCase()];if("FormulaFunction"===Q.type)return void 0===Q.signature&&(Q.signature={min:"0",max:"*"}),se(Q.signature,j);if("any"===Q.type)return void 0===Q.signature&&(Q.signature={min:"0",max:"*"}),se(Q.signature,j)}return-1}function Z(g,j){if(g)for(const I of g)Y(I,j)}function Y(g,j){if(g&&!1!==j(g))switch(g.type){case"ArrayExpression":Z(g.elements,j);break;case"AssignmentExpression":case"BinaryExpression":case"LogicalExpression":Y(g.left,j),Y(g.right,j);break;case"BlockStatement":case"Program":Z(g.body,j);break;case"BreakStatement":case"ContinueStatement":case"EmptyStatement":case"Identifier":case"Literal":break;case"CallExpression":Y(g.callee,j),Z(g.arguments,j);break;case"ExpressionStatement":Y(g.expression,j);break;case"ForInStatement":Y(g.left,j),Y(g.right,j),Y(g.body,j);break;case"ForStatement":Y(g.init,j),Y(g.test,j),Y(g.update,j),Y(g.body,j);break;case"FunctionDeclaration":Y(g.id,j),Z(g.params,j),Y(g.body,j);break;case"IfStatement":Y(g.test,j),Y(g.consequent,j),Y(g.alternate,j);break;case"MemberExpression":Y(g.object,j),Y(g.property,j);break;case"ObjectExpression":Z(g.properties,j);break;case"Property":Y(g.key,j),Y(g.value,j);break;case"ReturnStatement":case"UnaryExpression":case"UpdateExpression":Y(g.argument,j);break;case"VariableDeclaration":Z(g.declarations,j);break;case"VariableDeclarator":Y(g.id,j),Y(g.init,j);break;case"TemplateLiteral":Z(g.expressions,j),Z(g.quasis,j)}}function K(g,j=!0){let I=re(g,"SYNTAX","UNREOGNISED");try{switch(g.type){case"VariableDeclarator":return"Identifier"!==g.id.type?re(g,"SYNTAX","VARIABLEMUSTHAVEIDENTIFIER"):null!==g.init?K(g.init,!1):"";case"VariableDeclaration":for(let Q=0;Q<g.declarations.length;Q++)if(I=K(g.declarations[Q],j),""!==I)return I;return"";case"ForInStatement":if(I=K(g.left,j),""!==I)return I;if("VariableDeclaration"===g.left.type){if(g.left.declarations.length>1)return re(g,"SYNTAX","ONLY1VAR");if(null!==g.left.declarations[0].init)return re(g,"SYNTAX","CANNOTDECLAREVAL")}else if("Identifier"!==g.left.type)return re(g,"SYNTAX","LEFTNOTVAR");return I=K(g.right,j),""!==I?I:(I=K(g.body,j),""!==I?I:"");case"ForStatement":return null!==g.test&&(I=K(g.test,j),""!==I)||null!==g.init&&(I=K(g.init,j),""!==I)||null!==g.update&&(I=K(g.update,j),""!==I)||null!==g.body&&(I=K(g.body,j),""!==I)?I:"";case"ContinueStatement":case"EmptyStatement":case"BreakStatement":case"Literal":case"TemplateElement":return"";case"IfStatement":return I=K(g.test,j),""!==I||null!==g.consequent&&(I=K(g.consequent,!1),""!==I)||null!==g.alternate&&(I=K(g.alternate,!1),""!==I)?I:"";case"BlockStatement":{const Q=[];for(let ve=0;ve<g.body.length;ve++)"EmptyStatement"!==g.body[ve].type&&Q.push(g.body[ve]);g.body=Q;for(let ve=0;ve<g.body.length;ve++)if(I=K(g.body[ve],j),""!==I)return I;return""}case"FunctionDeclaration":return!1===j?re(g,"SYNTAX","GLOBALFUNCTIONSONLY"):"Identifier"!==g.id.type?re(g,"SYNTAX","FUNCTIONMUSTHAVEIDENTIFIER"):K(g.body,!1);case"ReturnStatement":return null!==g.argument?K(g.argument,j):"";case"UpdateExpression":return"Identifier"!==g.argument.type&&"MemberExpression"!==g.argument.type?re(g,"SYNTAX","ASSIGNMENTTOVARSONLY"):K(g.argument,j);case"AssignmentExpression":if("Identifier"!==g.left.type&&"MemberExpression"!==g.left.type)return re(g,"SYNTAX","ASSIGNMENTTOVARSONLY");if(I=K(g.left,j),""!==I)return I;switch(g.operator){case"=":case"/=":case"*=":case"%=":case"+=":case"-=":break;default:return re(g,"SYNTAX","OPERATORNOTRECOGNISED")}return K(g.right,!1);case"ExpressionStatement":return K(g.expression,!1);case"Identifier":I="";break;case"MemberExpression":return I=K(g.object,j),""!==I?I:!0===g.computed?K(g.property,j):"";case"CallExpression":if("Identifier"!==g.callee.type)return re(g,"SYNTAX","ONLYNODESSUPPORTED");I="";for(let Q=0;Q<g.arguments.length;Q++)if(I=K(g.arguments[Q],j),""!==I)return I;return"";case"UnaryExpression":I=K(g.argument,j);break;case"BinaryExpression":if(I=K(g.left,j),""!==I||(I=K(g.right,j),""!==I))return I;switch(g.operator){case"|":case"&":case">>":case"<<":case">>":case">>>":case"^":case"==":case"!=":case"<":case"<=":case">":case">=":case"+":case"-":case"*":case"/":case"%":break;default:return re(g,"SYNTAX","OPERATORNOTRECOGNISED")}return"";case"LogicalExpression":if(I=K(g.left,j),""!==I||(I=K(g.right),""!==I))return I;switch(g.operator){case"&&":case"||":break;default:return re(g,"SYNTAX","OPERATORNOTRECOGNISED")}return"";case"ArrayExpression":I="";for(let Q=0;Q<g.elements.length;Q++)if(I=K(g.elements[Q],j),""!==I)return I;return I;case"TemplateLiteral":I="";for(let Q=0;Q<g.quasis.length;Q++)if(I=K(g.quasis[Q],j),""!==I)return I;for(let Q=0;Q<g.expressions.length;Q++)if(I=K(g.expressions[Q],j),""!==I)return I;return I;case"ObjectExpression":I="";for(let Q=0;Q<g.properties.length;Q++){if(I="",null!==g.properties[Q].key&&("Literal"!==g.properties[Q].key.type&&"Identifier"!==g.properties[Q].key.type&&(I=re(g,"SYNTAX","OBJECTPROPERTYMUSTBESTRING")),"Literal"===g.properties[Q].key.type)){const ve=g.properties[Q].key,Te="value"in ve?ve.value:null;"string"==typeof Te||Te instanceof String||(I=re(g,"SYNTAX","OBJECTPROPERTYMUSTBESTRING"))}if(""===I&&(I=K(g.properties[Q],j)),""!==I)return I}return I;case"Property":return"Literal"!==g.key.type&&"Identifier"!==g.key.type?re(g,"SYNTAX","ONLYLITERAL"):("Identifier"!==g.key.type&&(I=K(g.key,j),""!==I)||(I=K(g.value,j)),I);default:return I}return I}catch(Q){throw Q}}function oe(g,j){let I=re(g,"SYNTAX","UNREOGNISED"),Q=null,ve="";try{switch(g.type){case"VariableDeclarator":{const Te=null===g.init?"":oe(g.init,j);return""!==Te?Te:("Identifier"===g.id.type&&(null===j.localScope?j.globalScope[g.id.name.toLowerCase()]={type:"any"}:j.localScope[g.id.name.toLowerCase()]={type:"any"}),"")}case"FunctionDeclaration":return Q=pe(g.id.name.toLowerCase(),g),ve=function(g,j){const I={globalScope:j.globalScope,localScope:{}};for(let Q=0;Q<g.params.length;Q++)I.localScope[g.params[Q].name.toLowerCase()]={type:"any"};return oe(g.body,I)}(g,j),""!==ve?ve:null!==j.localScope?re(g,"SYNTAX","GLOBALFUNCTIONSONLY"):(Q.isnative=!1,j.globalScope[g.id.name.toLowerCase()]={type:"FormulaFunction",signature:[Q]},"");case"VariableDeclaration":I="";for(let Te=0;Te<g.declarations.length;Te++)if(I=oe(g.declarations[Te],j),""!==I)return I;return I;case"IfStatement":return I=oe(g.test,j),""!==I?I:"AssignmentExpression"===g.test.type||"UpdateExpression"===g.test.type?re(g.test,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"):null!==g.consequent&&(I=oe(g.consequent,j),""!==I)||null!==g.alternate&&(I=oe(g.alternate,j),""!==I)?I:"";case"EmptyStatement":case"BreakStatement":case"ContinueStatement":case"Literal":case"TemplateElement":return"";case"BlockStatement":for(let Te=0;Te<g.body.length;Te++)if(I=oe(g.body[Te],j),""!==I)return I;return"";case"ReturnStatement":return null!==g.argument?oe(g.argument,j):"";case"ForInStatement":if("VariableDeclaration"===g.left.type){if(g.left.declarations.length>1)return re(g,"SYNTAX","ONLY1VAR");if(null!==g.left.declarations[0].init)return re(g,"SYNTAX","CANNOTDECLAREVAL")}else if("Identifier"!==g.left.type)return re(g,"SYNTAX","LEFTNOTVAR");return I=oe(g.left,j),""!==I?I:(I=oe(g.right,j),""!==I?I:(I=oe(g.body,j),""!==I?I:""));case"ForStatement":return null!==g.init&&(I=oe(g.init,j),""!==I)||null!==g.test&&(I=oe(g.test,j),""!==I)||null!==g.body&&(I=oe(g.body,j),""!==I)||null!==g.update&&(I=oe(g.update,j),""!==I)?I:"";case"UpdateExpression":{if("Identifier"!==g.argument.type&&"MemberExpression"!==g.argument.type)return re(g,"SYNTAX","ASSIGNMENTTOVARSONLY");let Te=!1;return"MemberExpression"===g.argument.type?oe(g.argument,j):(null!==j.localScope&&void 0!==j.localScope[g.argument.name.toLowerCase()]&&(Te=!0),void 0!==j.globalScope[g.argument.name.toLowerCase()]&&(Te=!0),!1===Te?"Identifier "+g.argument.name+" has not been declared.":"")}case"AssignmentExpression":{if("Identifier"!==g.left.type&&"MemberExpression"!==g.left.type)return re(g,"SYNTAX","ASSIGNMENTTOVARSONLY");let Te=oe(g.right,j);if(""!==Te)return Te;let Se=!1;return"MemberExpression"===g.left.type?(Te=oe(g.left,j),""!==Te?Te:""):(null!==j.localScope&&void 0!==j.localScope[g.left.name.toLowerCase()]&&(Se=!0),void 0!==j.globalScope[g.left.name.toLowerCase()]&&(Se=!0),!1===Se?"Identifier "+g.left.name+" has not been declared.":"")}case"ExpressionStatement":return oe(g.expression,j);case"Identifier":{const Te=g.name.toLowerCase();if(null!==j.localScope&&void 0!==j.localScope[Te])return"";I=void 0!==j.globalScope[Te]?"":re(g,"SYNTAX","VARIABLENOTFOUND");break}case"MemberExpression":return I=oe(g.object,j),""!==I?I:!0===g.computed?oe(g.property,j):"";case"CallExpression":{if("Identifier"!==g.callee.type)return re(g,"SYNTAX","ONLYNODESSUPPORTED");I="";for(let Se=0;Se<g.arguments.length;Se++)if(I=oe(g.arguments[Se],j),""!==I)return I;const Te=w(g.callee.name,g.arguments,j);-1===Te&&(I=re(g,"SYNTAX","NOTFOUND")),-2===Te&&(I=re(g,"SYNTAX","WRONGSIGNATURE"));break}case"UnaryExpression":I=oe(g.argument,j);break;case"BinaryExpression":return I=oe(g.left,j),""!==I?I:(I=oe(g.right,j),""!==I?I:"");case"LogicalExpression":return I=oe(g.left,j),""!==I?I:"AssignmentExpression"===g.left.type||"UpdateExpression"===g.left.type?re(g.left,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"):(I=oe(g.right,j),""!==I?I:"AssignmentExpression"===g.right.type||"UpdateExpression"===g.right.type?re(g.right,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"):"");case"ArrayExpression":I="";for(let Te=0;Te<g.elements.length;Te++)if(I=oe(g.elements[Te],j),""!==I)return I;return I;case"TemplateLiteral":I="";for(let Te=0;Te<g.quasis.length;Te++)if(I=oe(g.quasis[Te],j),""!==I)return I;for(let Te=0;Te<g.expressions.length;Te++)if(I=oe(g.expressions[Te],j),""!==I)return I;return I;case"ObjectExpression":I="";for(let Te=0;Te<g.properties.length;Te++){if(I="",null!==g.properties[Te].key&&("Literal"!==g.properties[Te].key.type&&"Identifier"!==g.properties[Te].key.type&&(I=re(g,"SYNTAX","OBJECTPROPERTYMUSTBESTRING")),"Literal"===g.properties[Te].key.type)){const Se=g.properties[Te].key,Qe="value"in Se?Se.value:null;"string"==typeof Qe||Qe instanceof String||(I=re(g,"SYNTAX","OBJECTPROPERTYMUSTBESTRING"))}if(""===I&&(I=oe(g.properties[Te],j)),""!==I)return I}return I;case"Property":return"Literal"!==g.key.type&&"Identifier"!==g.key.type?re(g,"SYNTAX","ONLYLITERAL"):("Identifier"!==g.key.type&&(I=oe(g.key,j),""!==I)||(I=oe(g.value,j)),I);default:return I}return I}catch(Te){throw Te}}function R(g,j){let I=!1;const Q=j.toLowerCase();return Y(g,ve=>!I&&("Identifier"===ve.type&&ve.name&&ve.name.toLowerCase()===Q&&(I=!0),!0)),I}function k(g,j){let I=!1;const Q=j.toLowerCase();return Y(g,ve=>!(I||"CallExpression"===ve.type&&"Identifier"===ve.callee.type&&ve.callee.name&&ve.callee.name.toLowerCase()===Q&&(I=!0,1))),I}function he(g){const j=[];return Y(g,I=>"MemberExpression"!==I.type||"Identifier"!==I.object.type||(!1===I.computed&&I.object&&I.object.name&&I.property&&"Identifier"===I.property.type&&I.property.name?j.push(I.object.name.toLowerCase()+"."+I.property.name.toLowerCase()):I.object&&I.object.name&&I.property&&"Literal"===I.property.type&&"string"==typeof I.property.value&&j.push(I.object.name.toLowerCase()+"."+I.property.value.toString().toLowerCase()),!1)),j}function de(g){const j=[];return Y(g,I=>{if("CallExpression"===I.type&&"Identifier"===I.callee.type&&"expects"===I.callee.name.toLowerCase()){let Q="";for(let ve=0;ve<(I.arguments||[]).length;ve++)0===ve?"Identifier"===I.arguments[ve].type&&(Q=I.arguments[ve].name.toLowerCase()):Q&&"Literal"===I.arguments[ve].type&&ee(I.arguments[ve].value)&&j.push(Q+"."+I.arguments[ve].value.toLowerCase());return!1}return"MemberExpression"!==I.type||"Identifier"!==I.object.type||(!1===I.computed&&I.object&&I.object.name&&I.property&&"Identifier"===I.property.type&&I.property.name?j.push(I.object.name.toLowerCase()+"."+I.property.name.toLowerCase()):I.object&&I.object.name&&I.property&&"Literal"===I.property.type&&"string"==typeof I.property.value&&j.push(I.object.name.toLowerCase()+"."+I.property.value.toString().toLowerCase()),!1)}),j}function pe(g,j){const I=[];if(null!=j.params)for(let Q=0;Q<j.params.length;Q++)I.push("any");return{name:g,return:"any",params:I}}function ce(g,j,I,Q){const ve={};null==g&&(g={}),null==I&&(I={}),ve.infinity={type:"any"},ve.textformatting={type:"any"},ve.pi={type:"any"};for(const Te in j)"sync"===Q&&void 0!==j[Te].min?ve[Te]={type:"FormulaFunction",signature:{min:j[Te].min,max:j[Te].max}}:"sync"!==Q&&void 0!==j[Te].fmin&&(ve[Te]={type:"FormulaFunction",signature:{min:j[Te].fmin,max:j[Te].fmax}});for(let Te=0;Te<I.length;Te++){const Se=I[Te];ve[Se.name]={type:"FormulaFunction",signature:Se}}for(const Te in g)ve[Te]=g[Te],ve[Te].type="any";return ve}function ne(g,j,I="async",Q=z){const ve={globalScope:ce(j.vars,Q,j.customFunctions,I),localScope:null};return oe(g.body[0].body,ve)}function De(g){return"BlockStatement"!==g.body[0].body.type?"Invalid formula content.":K(g.body[0].body)}function re(g,j,I){let Q="";Q="RUNTIME"===j?"Runtime Error: ":"Syntax Error: ";try{switch(g.type){case"IfStatement":switch(I){case"CANNOT_USE_ASSIGNMENT_IN_CONDITION":Q+=" Assignments not be made in logical tests";break;case"CANNOT_USE_NONBOOLEAN_IN_CONDITION":Q+=" Non Boolean used as Condition"}break;case"UpdateExpression":case"AssignmentExpression":switch(I){case"CANNOT_USE_ASSIGNMENT_IN_CONDITION":Q+=" Assignments not be made in logical tests";break;case"ASSIGNMENTTOVARSONLY":Q+=" Assignments can only be made to identifiers"}break;case"ExpressionStatement":Q+=" Assignments can only be made to identifiers";break;case"FunctionDeclaration":switch(I){case"GLOBALFUNCTIONSONLY":Q+=" Functions cannot be declared as variables";break;case"FUNCTIONMUSTHAVEIDENTIFIER":Q+=" Function Definition must have an identifier"}break;case"VariableDeclaration":Q+=" Only 1 variable can be declared at a time";break;case"VariableDeclarator":switch(I){case"FUNCTIONVARIABLEDECLARATOR":Q+=" Functions cannot be declared as variables";break;case"VARIABLEMUSTHAVEIDENTIFIER":Q+=" Variable Definition must have an identifier"}break;case"Identifier":Q+=" Identifier Not Found. ",Q+=g.name;break;case"ObjectExpression":"OBJECTPROPERTYMUSTBESTRING"===I&&(Q+=" Property name must be a string");break;case"ForStatement":"CANNOT_USE_NONBOOLEAN_IN_CONDITION"===I&&(Q+=" Non Boolean used as Condition");break;case"ForInStatement":switch(I){case"ONLY1VAR":Q+=" Can only declare 1 var for use with IN";break;case"CANNOTDECLAREVAL":Q+=" Can only declare value for use with IN";break;case"LEFTNOVAR":Q+="Must provide a variable to iterate with.";break;case"VARIABLENOTDECLARED":Q+="Variable must be declared before it is used..";break;case"CANNOTITERATETHISTYPE":Q+="This type cannot be used in an IN loop"}break;case"MemberExpression":switch(I){case"PROPERTYNOTFOUND":Q+="Cannot find member property. ",Q+=!1===g.computed&&"Identifier"===g.property.type?g.property.name:"";break;case"OUTOFBOUNDS":Q+="Out of Bounds. ",Q+=!1===g.computed&&"Identifier"===g.property.type?g.property.name:"";break;case"NOTFOUND":Q+="Cannot call member method on null. ",Q+=!1===g.computed&&"Identifier"===g.property.type?g.property.name:"";break;case"INVALIDTYPE":Q+="Cannot call member property on object of this type. ",Q+=!1===g.computed&&"Identifier"===g.property.type?g.property.name:""}break;case"Property":"ONLYLITERAL"===I&&(Q+="Property names must be literals or identifiers");break;case"Literal":break;case"CallExpression":switch(I){case"WRONGSIGNATURE":Q+="Function signature does not match: ",Q+="Identifier"===g.callee.type?g.callee.name:"";break;case"ONLYNODESUPPORTED":Q+="Functions must be declared.",Q+="Identifier"===g.callee.type?g.callee.name:"";break;case"NOTAFUNCTION":Q+="Not a Function: ",Q+="Identifier"===g.callee.type?g.callee.name:"";break;case"NOTFOUND":Q+="Function Not Found: "+("Identifier"===g.callee.type?g.callee.name:"")}break;case"UnaryExpression":switch(I){case"NOTSUPPORTEDUNARYOPERATOR":Q+="Operator "+g.operator+" not allowed in this context. Only ! can be used with boolean, and - with a number";break;case"NOTSUPPORTEDTYPE":Q+="Unary operator "+g.operator+" cannot be used with this argument."}case"BinaryExpression":"OPERATORNOTRECOGNISED"===I&&(Q+="Binary Operator not recognised "+g.operator);break;case"LogicalExpression":switch(I){case"ONLYBOOLEAN":Q+="Operator "+g.operator+" cannot be used. Only || or && are allowed values";break;case"ONLYORORAND":Q+="Logical Expression "+g.operator+" being applied to parameters that are not boolean."}break;case"ArrayExpression":"FUNCTIONCONTEXTILLEGAL"===I&&(Q+=" Cannot Put Function inside Array.");break;default:Q+="Expression contains unrecognised code structures."}}catch(ve){throw ve}return Q}function B(g,j,I){return{line:g.loc.start.line,character:g.loc.start.column,reason:re(g,j,I)}}function le(g,j,I,Q,ve=!0){if(null===g)throw new Error("Unnexpexted Expression Syntax");let Te=null;try{switch(g.type){case"VariableDeclarator":return"Identifier"!==g.id.type?Q.push(B(g,"SYNTAX","VARIABLEMUSTHAVEIDENTIFIER")):(g.id.name.toLowerCase(),null===j.localScope?j.globalScope[g.id.name.toLowerCase()]={type:"any"}:j.localScope[g.id.name.toLowerCase()]={type:"any"}),void(null!==g.init&&le(g.init,j,I,Q,ve));case"FunctionDeclaration":return!1===ve&&Q.push(B(g,"SYNTAX","GLOBALFUNCTIONSONLY")),"Identifier"!==g.id.type&&Q.push(B(g,"SYNTAX","FUNCTIONMUSTHAVEIDENTIFIER")),Te=pe("",g),function(g,j,I,Q){const ve={globalScope:j.globalScope,localScope:{}};for(let Te=0;Te<g.params.length;Te++)ve.localScope[g.params[Te].name.toLowerCase()]={type:"any"};le(g.body,ve,I,Q,!1)}(g,j,I,Q),null!==j.localScope&&Q.push(B(g,"SYNTAX","GLOBALFUNCTIONSONLY")),Te.isnative=!1,void("Identifier"===g.id.type&&(j.globalScope[g.id.name.toLowerCase()]={type:"FormulaFunction",signature:[Te]}));case"VariableDeclaration":for(let Se=0;Se<g.declarations.length;Se++)le(g.declarations[Se],j,I,Q,ve);return;case"IfStatement":return null!==g.test&&(le(g.test,j,I,Q,ve),"AssignmentExpression"!==g.test.type&&"UpdateExpression"!==g.test.type||Q.push(B(g.test,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"))),null!==g.consequent&&le(g.consequent,j,I,Q,ve),void(null!==g.alternate&&le(g.alternate,j,I,Q,ve));case"EmptyStatement":case"BreakStatement":case"ContinueStatement":case"Literal":case"TemplateElement":return;case"BlockStatement":if(null!==g.body)for(let Se=0;Se<g.body.length;Se++)le(g.body[Se],j,I,Q,ve);return;case"ReturnStatement":return void(null!==g.argument&&le(g.argument,j,I,Q,ve));case"ForInStatement":return"VariableDeclaration"===g.left.type?(g.left.declarations.length>1&&Q.push(B(g,"SYNTAX","ONLY1VAR")),null!==g.left.declarations[0].init&&Q.push(B(g,"SYNTAX","CANNOTDECLAREVAL"))):"Identifier"!==g.left.type&&Q.push(B(g,"SYNTAX","LEFTNOTVAR")),le(g.left,j,I,Q,ve),le(g.right,j,I,Q,ve),void le(g.body,j,I,Q,ve);case"ForStatement":return null!==g.init&&le(g.init,j,I,Q,ve),null!==g.test&&le(g.test,j,I,Q,ve),null!==g.body&&le(g.body,j,I,Q,ve),void(null!==g.update&&le(g.update,j,I,Q,ve));case"UpdateExpression":if("Identifier"!==g.argument.type&&"MemberExpression"!==g.argument.type)Q.push(B(g,"SYNTAX","ASSIGNMENTTOVARSONLY"));else{if("Identifier"===g.argument.type){let Se=!1;!1===I&&(null!==j.localScope&&void 0!==j.localScope[g.argument.name.toLowerCase()]&&(Se=!0),void 0!==j.globalScope[g.argument.name.toLowerCase()]&&(Se=!0),!1===Se&&Q.push({line:null===g?0:g.loc.start.line,character:null===g?0:g.loc.start.column,reason:"Identifier "+g.argument.name+" has not been declared."}))}"MemberExpression"===g.argument.type&&le(g.argument,j,I,Q,ve)}return;case"AssignmentExpression":{switch("Identifier"!==g.left.type&&"MemberExpression"!==g.left.type&&Q.push(B(g,"SYNTAX","ASSIGNMENTTOVARSONLY")),g.operator){case"=":case"/=":case"*=":case"%=":case"+=":case"-=":break;default:Q.push(B(g,"SYNTAX","OPERATORNOTRECOGNISED"))}le(g.right,j,I,Q,ve);let Se=!1;return"Identifier"===g.left.type&&(null!==j.localScope&&void 0!==j.localScope[g.left.name.toLowerCase()]&&(Se=!0),void 0!==j.globalScope[g.left.name.toLowerCase()]&&(Se=!0),!1===I&&!1===Se&&Q.push({line:null===g?0:g.loc.start.line,character:null===g?0:g.loc.start.column,reason:"Identifier "+g.left.name+" has not been declared."})),void("MemberExpression"===g.left.type&&le(g.left,j,I,Q,ve))}case"ExpressionStatement":return void le(g.expression,j,I,Q,ve);case"Identifier":{const Se=g.name.toLowerCase();if(null!==j.localScope&&void 0!==j.localScope[Se]||void 0!==j.globalScope[Se])return;!1===I&&Q.push(B(g,"SYNTAX","VARIABLENOTFOUND"));break}case"MemberExpression":return le(g.object,j,I,Q,ve),void(!0===g.computed&&le(g.property,j,I,Q,ve));case"CallExpression":"Identifier"!==g.callee.type&&Q.push(B(g,"SYNTAX","ONLYNODESSUPPORTED"));for(let Se=0;Se<g.arguments.length;Se++)le(g.arguments[Se],j,I,Q,ve);if("Identifier"===g.callee.type){const Se=w(g.callee.name,g.arguments,j);!1===I&&-1===Se&&Q.push(B(g,"SYNTAX","NOTFOUND")),-2===Se&&Q.push(B(g,"SYNTAX","WRONGSIGNATURE"))}return;case"UnaryExpression":return void le(g.argument,j,I,Q,ve);case"BinaryExpression":switch(le(g.left,j,I,Q,ve),le(g.right,j,I,Q,ve),g.operator){case"==":case"!=":case"<":case"<=":case">":case">=":case"+":case"-":case"*":case"/":case"%":case"&":case"|":case"^":case"<<":case">>":case">>>":break;default:Q.push(B(g,"SYNTAX","OPERATORNOTRECOGNISED"))}return;case"LogicalExpression":switch(g.operator){case"&&":case"||":break;default:Q.push(B(g,"SYNTAX","OPERATORNOTRECOGNISED"))}return le(g.left,j,I,Q,ve),"AssignmentExpression"!==g.left.type&&"UpdateExpression"!==g.left.type||Q.push(B(g,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION")),le(g.right,j,I,Q,ve),void("AssignmentExpression"!==g.right.type&&"UpdateExpression"!==g.right.type||Q.push(B(g,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION")));case"ArrayExpression":for(let Se=0;Se<g.elements.length;Se++)le(g.elements[Se],j,I,Q,ve);return;case"TemplateLiteral":for(let Se=0;Se<g.quasis.length;Se++)le(g.quasis[Se],j,I,Q,ve);for(let Se=0;Se<g.expressions.length;Se++)le(g.expressions[Se],j,I,Q,ve);return;case"ObjectExpression":for(let Se=0;Se<g.properties.length;Se++)le(g.properties[Se],j,I,Q,ve);return;case"Property":return"Literal"!==g.key.type&&"Identifier"!==g.key.type&&Q.push(B(g,"SYNTAX","ONLYLITERAL")),"Literal"===g.key.type&&le(g.key,j,I,Q,ve),void le(g.value,j,I,Q,ve);default:Q.push(B(g,"SYNTAX","UNRECOGNISED"))}return}catch(Se){Q.push({line:null===g?0:g.loc.start.line,character:null===g?0:g.loc.start.column,reason:"Unnexpected Syntax"})}}function E(g,j,I,Q="async",ve=z){const Te=[];if("BlockStatement"!==g.body[0].body.type)return[{line:0,character:0,reason:"Invalid Body"}];null==j&&(j={vars:{},customFunctions:[]});const Se={globalScope:ce(j.vars,ve,j.customFunctions,Q),localScope:null};try{le(g.body[0].body,Se,I,Te)}catch(Qe){}return Te}function J(g){const j=[];return Y(g,I=>("CallExpression"===I.type&&"Identifier"===I.callee.type&&j.push(I.callee.name.toLowerCase()),!0)),j}function Ee(g,j=[]){let I=null;if(void 0===g.usesFeatureSet){null===I&&(I=J(g)),g.usesFeatureSet=!1;for(let Q=0;Q<I.length;Q++)we.indexOf(I[Q])>-1&&(g.usesFeatureSet=!0,g.isAsync=!0);if(!1===g.usesFeatureSet&&j&&j.length>0)for(const Q of j)if(R(g,Q)){g.usesFeatureSet=!0,g.isAsync=!0;break}}if(void 0===g.usesGeometry){g.usesGeometry=!1,null===I&&(I=J(g));for(let Q=0;Q<I.length;Q++)_.indexOf(I[Q])>-1&&(g.usesGeometry=!0)}}},71655:(Ke,Re,te)=>{te.d(Re,{A:()=>ct,B:()=>Te,C:()=>j,D:()=>Pt,E:()=>sn,F:()=>nt,G:()=>At,H:()=>Zt,I:()=>B,J:()=>bt,K:()=>Xt,L:()=>mn,M:()=>ge,N:()=>re,O:()=>yt,P:()=>kt,Q:()=>qt,R:()=>O,S:()=>le,T:()=>Qt,a:()=>Se,b:()=>ot,c:()=>me,d:()=>dt,e:()=>Ft,f:()=>I,g:()=>ze,h:()=>en,i:()=>Q,j:()=>ve,k:()=>J,l:()=>tn,m:()=>Ee,n:()=>Ye,o:()=>Qe,p:()=>Ut,q:()=>tt,r:()=>$t,s:()=>Rt,t:()=>Xe,u:()=>gt,v:()=>E,w:()=>Kt,x:()=>g,y:()=>pt,z:()=>rt});var z=te(43472),we=te(94579),_=te(76184),ee=te(24781),V=te(12523),se=te(82059),w=te(40485),Z=te(99388),Y=te(27640),K=te(70393),oe=te(27876),R=te(17347),k=te(60305),he=te(43267),de=te(47995),pe=te(9017);class Fe{constructor($){this.value=$}}class ce{constructor($){this.value=$}}class ne{constructor($){this.fn=$}}class De{constructor($){this.fn=$}}const re=ne,B=ce,O=Fe,le=De,E={type:"VOID"},J={type:"BREAK"},Ee={type:"CONTINUE"};function ge(b,$,N){return""===$||null==$||$===N||$===N?b:b=b.split($).join(N)}function me(b){return b instanceof ne||b instanceof z.Z||b instanceof De}function g(b){return!!(I(b)||ve(b)||Ye(b)||Q(b)||null===b||b===E||"number"==typeof b)}function j(b,$){return void 0===b?$:b}function I(b){return"string"==typeof b||b instanceof String}function Q(b){return"boolean"==typeof b}function ve(b){return"number"==typeof b}function Te(b){return"number"==typeof b&&isFinite(b)&&Math.floor(b)===b}function Se(b){return b instanceof Array}function Qe(b){return!0===(b&&b.declaredRootClass&&"esri.arcade.featureset.support.FeatureSet"===b.declaredRootClass)}function tt(b){return!0===(b&&b.declaredRootClass&&"esri.arcade.featureSetCollection"===b.declaredRootClass)}function ot(b){return b instanceof we.Z}function Ye(b){return b instanceof Date}function Ut(b,$,N){if(b.length<$||b.length>N)throw new Error("Function called with wrong number of Parameters")}function nt(b){return b<0?-Math.round(-b):Math.round(b)}function yt(){let b=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function($){const N=(b+16*Math.random())%16|0;return b=Math.floor(b/16),("x"===$?N:3&N|8).toString(16)})}function ut(b,$){return!1===isNaN(b)?null==$||""===$?b.toString():($=ge($,"\u2030",""),$=ge($,"\xa4",""),(0,he.WU)(b,{pattern:$})):b.toString()}function wt(b,$){const N=R.ou.fromJSDate(b);return null==$||""===$?N.toISO({suppressMilliseconds:!0}):N.toFormat(Pt($),{locale:(0,pe.Kd)(),numberingSystem:"latn"})}function Pt(b){b=b.replace(/LTS|LT|LL?L?L?|l{1,4}/g,"[$&]");let $="";const N=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;for(const T of b.match(N))switch(T){case"D":$+="d";break;case"DD":$+="dd";break;case"DDD":$+="o";break;case"d":$+="c";break;case"ddd":$+="ccc";break;case"dddd":$+="cccc";break;case"M":$+="L";break;case"MM":$+="LL";break;case"MMM":$+="LLL";break;case"MMMM":$+="LLLL";break;case"YY":$+="yy";break;case"Y":case"YYYY":$+="yyyy";break;case"Q":$+="q";break;case"Z":$+="ZZ";break;case"ZZ":$+="ZZZ";break;case"S":$+="'S'";break;case"SS":$+="'SS'";break;case"SSS":$+="u";break;case"A":case"a":$+="a";break;case"m":case"mm":case"h":case"hh":case"H":case"HH":case"s":case"ss":case"X":case"x":$+=T;break;default:T.length>=2&&"["===T.slice(0,1)&&"]"===T.slice(-1)?$+=`'${T.slice(1,-1)}'`:$+=`'${T}'`}return $}function Ve(b,$,N){switch(N){case">":return b>$;case"<":return b<$;case">=":return b>=$;case"<=":return b<=$}return!1}function ze(b,$,N){if(null===b){if(null===$||$===E)return Ve(null,null,N);if(ve($))return Ve(0,$,N);if(I($)||Q($))return Ve(0,Xe($),N);if(Ye($))return Ve(0,$.getTime(),N)}if(b===E){if(null===$||$===E)return Ve(null,null,N);if(ve($))return Ve(0,$,N);if(I($)||Q($))return Ve(0,Xe($),N);if(Ye($))return Ve(0,$.getTime(),N)}else if(ve(b)){if(ve($))return Ve(b,$,N);if(Q($))return Ve(b,Xe($),N);if(null===$||$===E)return Ve(b,0,N);if(I($))return Ve(b,Xe($),N);if(Ye($))return Ve(b,$.getTime(),N)}else if(I(b)){if(I($))return Ve(dt(b),dt($),N);if(Ye($))return Ve(Xe(b),$.getTime(),N);if(ve($))return Ve(Xe(b),$,N);if(null===$||$===E)return Ve(Xe(b),0,N);if(Q($))return Ve(Xe(b),Xe($),N)}else if(Ye(b)){if(Ye($))return Ve(b,$,N);if(null===$||$===E)return Ve(b.getTime(),0,N);if(ve($))return Ve(b.getTime(),$,N);if(Q($)||I($))return Ve(b.getTime(),Xe($),N)}else if(Q(b)){if(Q($))return Ve(b,$,N);if(ve($))return Ve(Xe(b),Xe($),N);if(Ye($))return Ve(Xe(b),$.getTime(),N);if(null===$||$===E)return Ve(Xe(b),0,N);if(I($))return Ve(Xe(b),Xe($),N)}return!!Ft(b,$)&&("<="===N||">="===N)}function Ft(b,$){if(b===$||null===b&&$===E||null===$&&b===E)return!0;if(Ye(b)&&Ye($))return b.getTime()===$.getTime();if(b instanceof _.Z||b instanceof ee.Z)return b.equalityTest($);if(b instanceof Y.Z&&$ instanceof Y.Z){const N=b.cache._arcadeCacheId,T=$.cache._arcadeCacheId;if(null!=N)return N===T}return void 0!==b&&void 0!==$&&null!==b&&null!==$&&"object"==typeof b&&"object"==typeof $&&(b._arcadeCacheId===$._arcadeCacheId&&null!=b._arcadeCacheId||b._underlyingGraphic===$._underlyingGraphic&&null!=b._underlyingGraphic)}function dt(b,$){if(I(b))return b;if(null===b)return"";if(ve(b))return ut(b,$);if(Q(b))return b.toString();if(Ye(b))return wt(b,$);if(b instanceof w.Z)return JSON.stringify(b.toJSON());if(Se(b)){const N=[];for(let T=0;T<b.length;T++)N[T]=$e(b[T]);return"["+N.join(",")+"]"}if(b instanceof we.Z){const N=[];for(let T=0;T<b.length();T++)N[T]=$e(b.get(T));return"["+N.join(",")+"]"}return null!==b&&"object"==typeof b&&void 0!==b.castToText?b.castToText():me(b)?"object, Function":""}function kt(b){const $=[];if(!1===Se(b))return null;if(b instanceof we.Z){for(let N=0;N<b.length();N++)$[N]=Xe(b.get(N));return $}for(let N=0;N<b.length;N++)$[N]=Xe(b[N]);return $}function Rt(b,$){if(I(b))return b;if(null===b)return"";if(ve(b))return ut(b,$);if(Q(b))return b.toString();if(Ye(b))return wt(b,$);if(b instanceof w.Z)return b instanceof se.Z?'{"xmin":'+b.xmin.toString()+',"ymin":'+b.ymin.toString()+","+(b.hasZ?'"zmin":'+b.zmin.toString()+",":"")+(b.hasM?'"mmin":'+b.mmin.toString()+",":"")+'"xmax":'+b.xmax.toString()+',"ymax":'+b.ymax.toString()+","+(b.hasZ?'"zmax":'+b.zmax.toString()+",":"")+(b.hasM?'"mmax":'+b.mmax.toString()+",":"")+'"spatialReference":'+Ct(b.spatialReference)+"}":Ct(b.toJSON(),(N,T)=>N.key===T.key?0:"spatialReference"===N.key?1:"spatialReference"===T.key||N.key<T.key?-1:N.key>T.key?1:0);if(Se(b)){const N=[];for(let T=0;T<b.length;T++)N[T]=$e(b[T]);return"["+N.join(",")+"]"}if(b instanceof we.Z){const N=[];for(let T=0;T<b.length();T++)N[T]=$e(b.get(T));return"["+N.join(",")+"]"}return null!==b&&"object"==typeof b&&void 0!==b.castToText?b.castToText():me(b)?"object, Function":""}function $e(b){if(null===b)return"null";if(Q(b)||ve(b)||I(b))return JSON.stringify(b);if(b instanceof w.Z||b instanceof we.Z||b instanceof Array)return Rt(b);if(b instanceof Date)return JSON.stringify(wt(b,""));if(null!==b&&"object"==typeof b){if(void 0!==b.castToText)return b.castToText()}else if(b===E)return"null";return"null"}function Xe(b,$){return ve(b)?b:null===b||""===b?0:Ye(b)?NaN:Q(b)?b?1:0:Se(b)||""===b||void 0===b?NaN:void 0!==$&&I(b)?($=ge($,"\u2030",""),$=ge($,"\xa4",""),(0,he.Qc)(b,{pattern:$})):b===E?0:Number(b)}function Kt(b){if(Ye(b))return b;if(I(b)){const $=mt(b);if($)return $.toJSDate()}return null}function sn(b){return Ye(b)?R.ou.fromJSDate(b):I(b)?mt(b):null}function mt(b){const $=/ (\d\d)/;let N=R.ou.fromISO(b);return N.isValid||$.test(b)&&(b=b.replace($,"T$1"),N=R.ou.fromISO(b),N.isValid)?N:null}function gt(b){return Q(b)?b:I(b)?"true"===(b=b.toLowerCase()):!!ve(b)&&0!==b&&!isNaN(b)}function $t(b,$){return(0,k.Wi)(b)?null:(null!=b.spatialReference||(b.spatialReference=$),b)}function At(b){if(null===b)return null;if(b instanceof Y.Z)return"NaN"===b.x||null===b.x||isNaN(b.x)?null:b;if(b instanceof K.Z){if(0===b.rings.length)return null;for(const $ of b.rings)if($.length>0)return b;return null}if(b instanceof oe.Z){if(0===b.paths.length)return null;for(const $ of b.paths)if($.length>0)return b;return null}return b instanceof Z.Z?0===b.points.length?null:b:b instanceof se.Z?"NaN"===b.xmin||null===b.xmin||isNaN(b.xmin)?null:b:null}function rt(b,$){if(!b||!b.domain)return $;let N=null;if("string"===b.field.type||"esriFieldTypeString"===b.field.type)$=dt($);else{if(null==$)return null;if(""===$)return $;$=Xe($)}for(let T=0;T<b.domain.codedValues.length;T++){const G=b.domain.codedValues[T];G.code===$&&(N=G)}return null===N?$:N.name}function ct(b,$){if(!b||!b.domain)return $;let N=null;$=dt($);for(let T=0;T<b.domain.codedValues.length;T++){const G=b.domain.codedValues[T];G.name===$&&(N=G)}return null===N?$:N.code}function pt(b,$,N=null,T){if(!$||!$.fields)return null;let G,q,fe=null;for(let Ce=0;Ce<$.fields.length;Ce++){const ie=$.fields[Ce];ie.name.toLowerCase()===b.toString().toLowerCase()&&(fe=ie)}if(null===fe)throw new Error("Field not found");return T||(T=N&&$.typeIdField&&N._field($.typeIdField)),null!=T&&$.types.some(function(Ce){return Ce.id===T&&(G=Ce.domains&&Ce.domains[fe.name],G&&"inherited"===G.type&&(G=Dt(fe.name,$),q=!0),!0)}),q||G||(G=Dt(b,$)),{field:fe,domain:G}}function Dt(b,$){let N;return $.fields.some(function(T){return T.name.toLowerCase()===b.toLowerCase()&&(N=T.domain),!!N}),N}function Ct(b,$){$||($={}),"function"==typeof $&&($={cmp:$});const N="boolean"==typeof $.cycles&&$.cycles,T=$.cmp&&(G=$.cmp,function(fe){return function(Ce,ie){return G({key:Ce,value:fe[Ce]},{key:ie,value:fe[ie]})}});var G;const q=[];return function fe(Ce){if(Ce&&Ce.toJSON&&"function"==typeof Ce.toJSON&&(Ce=Ce.toJSON()),void 0===Ce)return;if("number"==typeof Ce)return isFinite(Ce)?""+Ce:"null";if("object"!=typeof Ce)return JSON.stringify(Ce);let ie,ue;if(Array.isArray(Ce)){for(ue="[",ie=0;ie<Ce.length;ie++)ie&&(ue+=","),ue+=fe(Ce[ie])||"null";return ue+"]"}if(null===Ce)return"null";if(-1!==q.indexOf(Ce)){if(N)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}const Oe=q.push(Ce)-1,Le=Object.keys(Ce).sort(T&&T(Ce));for(ue="",ie=0;ie<Le.length;ie++){const lt=Le[ie],it=fe(Ce[lt]);it&&(ue&&(ue+=","),ue+=JSON.stringify(lt)+":"+it)}return q.splice(Oe,1),"{"+ue+"}"}(b)}function Zt(b){if(null===b)return null;const $=[];for(const N of b)$.push(N&&(N.declaredClass&&"esri.arcade.Feature"===N.declaredClass||"FeatureSetReader"===N.type)?N.geometry():N);return $}function St(b,$){if(!($ instanceof Y.Z))throw new Error("Invalid Argument");b.push($.hasZ?$.hasM?[$.x,$.y,$.z,$.m]:[$.x,$.y,$.z]:[$.x,$.y])}function Xt(b,$){if(Se(b)||ot(b)){let N=!1,T=!1,G=[],q=$;if(Se(b)){for(const fe of b)St(G,fe);G.length>0&&(q=b[0].spatialReference,N=b[0].hasZ,T=b[0].hasM)}else if(b instanceof ee.Z)G=b._elements,G.length>0&&(N=b._hasZ,T=b._hasM,q=b.get(0).spatialReference);else{if(!ot(b))throw new Error("Invalid Argument");for(const fe of b.toArray())St(G,fe);G.length>0&&(q=b.get(0).spatialReference,N=!0===b.get(0).hasZ,T=!0===b.get(0).hasM)}return 0===G.length?null:(!1===(0,de.bu)(G,T,N)&&(G=G.slice(0).reverse()),new K.Z({rings:[G],spatialReference:q,hasZ:N,hasM:T}))}return b}function bt(b,$){if(Se(b)||ot(b)){let N=!1,T=!1,G=[],q=$;if(Se(b)){for(const fe of b)St(G,fe);G.length>0&&(q=b[0].spatialReference,N=!0===b[0].hasZ,T=!0===b[0].hasM)}else if(b instanceof ee.Z)G=b._elements,G.length>0&&(N=b._hasZ,T=b._hasM,q=b.get(0).spatialReference);else if(ot(b)){for(const fe of b.toArray())St(G,fe);G.length>0&&(q=b.get(0).spatialReference,N=!0===b.get(0).hasZ,T=!0===b.get(0).hasM)}return 0===G.length?null:new oe.Z({paths:[G],spatialReference:q,hasZ:N,hasM:T})}return b}function mn(b,$){if(Se(b)||ot(b)){let N=!1,T=!1,G=[],q=$;if(Se(b)){for(const fe of b)St(G,fe);G.length>0&&(q=b[0].spatialReference,N=!0===b[0].hasZ,T=!0===b[0].hasM)}else if(b instanceof ee.Z)G=b._elements,G.length>0&&(N=b._hasZ,T=b._hasM,q=b.get(0).spatialReference);else if(ot(b)){for(const fe of b.toArray())St(G,fe);G.length>0&&(q=b.get(0).spatialReference,N=!0===b.get(0).hasZ,T=!0===b.get(0).hasM)}return 0===G.length?null:new Z.Z({points:G,spatialReference:q,hasZ:N,hasM:T})}return b}function Qt(b,$=!1){const N=[];if(null===b)return N;if(!0===Se(b)){for(let T=0;T<b.length;T++){const G=dt(b[T]);""===G&&!0!==$||N.push(G)}return N}if(b instanceof we.Z){for(let T=0;T<b.length();T++){const G=dt(b.get(T));""===G&&!0!==$||N.push(G)}return N}if(g(b)){const T=dt(b);return""===T&&!0!==$||N.push(T),N}return[]}let an=0;function qt(b){return an++,an%100==0?(an=0,(0,V.Ue)($=>{setTimeout(()=>{$(b)},0)})):b}function en(b,$,N){switch(N){case"&":return b&$;case"|":return b|$;case"^":return b^$;case"<<":return b<<$;case">>":return b>>$;case">>>":return b>>>$}}var tn=Object.freeze({__proto__:null,ReturnResultE:Fe,ImplicitResultE:ce,NativeFunctionE:ne,SizzleFunctionE:De,NativeFunction:re,ImplicitResult:B,ReturnResult:O,SizzleFunction:le,voidOperation:E,breakResult:J,continueResult:Ee,multiReplace:ge,isFunctionParameter:me,isSimpleType:g,defaultUndefined:j,isString:I,isBoolean:Q,isNumber:ve,isInteger:Te,isArray:Se,isFeatureSet:Qe,isFeatureSetCollection:tt,isImmutableArray:ot,isDate:Ye,pcCheck:Ut,absRound:nt,generateUUID:yt,formatNumber:ut,formatDate:wt,standardiseDateFormat:Pt,greaterThanLessThan:ze,equalityTest:Ft,toString:dt,toNumberArray:kt,toStringExplicit:Rt,toNumber:Xe,toDate:Kt,toDateTime:sn,toBoolean:gt,fixSpatialReference:$t,fixNullGeometry:At,getDomainValue:rt,getDomainCode:ct,getDomain:pt,stableStringify:Ct,autoCastFeatureToGeometry:Zt,autoCastArrayOfPointsToPolygon:Xt,autoCastArrayOfPointsToPolyline:bt,autoCastArrayOfPointsToMultiPoint:mn,toStringArray:Qt,tick:qt,binaryOperator:en})},89977:(Ke,Re,te)=>{te.d(Re,{Y:()=>_});var z=te(60305);function we(K,oe){return K?oe?4:3:oe?3:2}function _(K,oe,R,k,he){if((0,z.Wi)(oe)||!oe.lengths.length)return null;const de="upperLeft"===(null==he?void 0:he.originPosition)?-1:1;K.lengths.length&&(K.lengths.length=0),K.coords.length&&(K.coords.length=0);const pe=K.coords,Fe=[],ce=R?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:ne,coords:De}=oe,re=we(R,k);let B=0;for(const O of ne){const le=ee(ce,De,B,O,R,k,de);le&&Fe.push(le),B+=O*re}if(Fe.sort((O,le)=>{let E=de*O[2]-de*le[2];return 0===E&&R&&(E=O[4]-le[4]),E}),Fe.length){let O=6*Fe[0][2];pe[0]=Fe[0][0]/O,pe[1]=Fe[0][1]/O,R&&(O=6*Fe[0][4],pe[2]=0!==O?Fe[0][3]/O:0),(pe[0]<ce[0]||pe[0]>ce[1]||pe[1]<ce[2]||pe[1]>ce[3]||R&&(pe[2]<ce[4]||pe[2]>ce[5]))&&(pe.length=0)}if(!pe.length){const O=oe.lengths[0]?function(K,oe,R,k,he){const de=we(k,he);let pe=0,Fe=0+de,ce=0,ne=0,De=0,re=0;for(let B=0,O=R-1;B<O;B++,pe+=de,Fe+=de){const le=K[pe],E=K[pe+1],J=K[pe+2],Ee=K[Fe],ge=K[Fe+1],me=K[Fe+2],g=k?w(le,E,J,Ee,ge,me):se(le,E,Ee,ge);if(g)if(ce+=g,k){const j=Y(le,E,J,Ee,ge,me);ne+=g*j[0],De+=g*j[1],re+=g*j[2]}else{const j=Z(le,E,Ee,ge);ne+=g*j[0],De+=g*j[1]}}return ce>0?k?[ne/ce,De/ce,re/ce]:[ne/ce,De/ce]:R>0?k?[K[0],K[1],K[2]]:[K[0],K[1]]:null}(De,0,ne[0],R,k):null;if(!O)return null;pe[0]=O[0],pe[1]=O[1],R&&O.length>2&&(pe[2]=O[2])}return K}function ee(K,oe,R,k,he,de,pe=1){const Fe=we(he,de);let ce=R,ne=R+Fe,De=0,re=0,B=0,O=0,le=0;for(let J=0,Ee=k-1;J<Ee;J++,ce+=Fe,ne+=Fe){const ge=oe[ce],me=oe[ce+1],g=oe[ce+2],j=oe[ne],I=oe[ne+1],Q=oe[ne+2];let ve=ge*I-j*me;O+=ve,De+=(ge+j)*ve,re+=(me+I)*ve,he&&(ve=ge*Q-j*g,B+=(g+Q)*ve,le+=ve),ge<K[0]&&(K[0]=ge),ge>K[1]&&(K[1]=ge),me<K[2]&&(K[2]=me),me>K[3]&&(K[3]=me),he&&(g<K[4]&&(K[4]=g),g>K[5]&&(K[5]=g))}if(O*pe>0&&(O*=-1),le*pe>0&&(le*=-1),!O)return null;const E=[De,re,.5*O];return he&&(E[3]=B,E[4]=.5*le),E}function se(K,oe,R,k){const he=R-K,de=k-oe;return Math.sqrt(he*he+de*de)}function w(K,oe,R,k,he,de){const pe=k-K,Fe=he-oe,ce=de-R;return Math.sqrt(pe*pe+Fe*Fe+ce*ce)}function Z(K,oe,R,k){return[K+.5*(R-K),oe+.5*(k-oe)]}function Y(K,oe,R,k,he,de){return[K+.5*(k-K),oe+.5*(he-oe),R+.5*(de-R)]}},17292:(Ke,Re,te)=>{te.r(Re),te.d(Re,{Dictionary:()=>_.Z,arcade:()=>Ur,arcadeFeature:()=>ee.Z,convertFeatureLayerToFeatureSet:()=>Yr,convertMapToFeatureSetCollection:()=>ur,convertServiceUrlToWorkspace:()=>Vr,createExecContext:()=>or,createFeature:()=>ki,createFunction:()=>Mi,createSyntaxTree:()=>Sn,dependsOnView:()=>zr,enableFeatureSetOperations:()=>Jr,enableGeometryOperations:()=>lr,evalSyntaxTree:()=>Bi,executeAsyncFunction:()=>Li,executeFunction:()=>Gr,extractFieldNames:()=>jr,getViewInfo:()=>Hr,hasGeometryFunctions:()=>$r,hasGeometryOperations:()=>hr,hasVariable:()=>Mt,loadScriptDependencies:()=>Wr,updateExecContext:()=>Ri});var z=te(99771),we=te(33962),_=te(96171),ee=te(67155),V=te(76184),se=te(24781),w=te(71655),Z=te(56679),Y=te(63641),K=te(54275),oe=te(54553),R=te(90470),k=te(82728),he=te(52902),de=te(39022),pe=te(12523),Fe=te(82059),ce=te(40485),ne=te(99388),De=te(27640),re=te(70393),B=te(27876),O=te(56703),le=te(46337);function J(u,o,f){try{return f(u,null,o)}catch(d){throw d}}function Ee(u){return u instanceof Error?(0,pe.d1)(u):(0,pe.d1)(new Error(u))}function ge(u,o){try{switch(o.type){case"EmptyStatement":return"lc.voidOperation";case"VariableDeclarator":return function(u,o){let f=null===o.init?null:ge(u,o.init);f===w.v&&(f=null);const d=o.id.name.toLowerCase();if(null!==u.localScope){if(void 0!==u.localScope[d])return"lscope['"+d+"']="+f+"; ";if(void 0!==u.localScope._SymbolsMap[d])return"lscope['"+u.localScope._SymbolsMap[d]+"']="+f+"; ";{const v=rt(u);return u.localScope._SymbolsMap[d]=v,u.mangleMap[d]=v,"lscope['"+v+"']="+f+"; "}}if(void 0!==u.globalScope[d])return"gscope['"+d+"']="+f+"; ";if(void 0!==u.globalScope._SymbolsMap[d])return"gscope['"+u.globalScope._SymbolsMap[d]+"']="+f+"; ";{const v=rt(u);return u.globalScope._SymbolsMap[d]=v,u.mangleMap[d]=v,"gscope['"+v+"']="+f+"; "}}(u,o);case"VariableDeclaration":return function(u,o){const f=[];for(let d=0;d<o.declarations.length;d++)f.push(ge(u,o.declarations[d]));return f.join("\n")+" \n lastStatement=  lc.voidOperation; \n"}(u,o);case"BlockStatement":return tt(u,o);case"FunctionDeclaration":return function(u,o){const f=o.id.name.toLowerCase(),d={isAsync:u.isAsync,spatialReference:u.spatialReference,console:u.console,lrucache:u.lrucache,interceptor:u.interceptor,services:u.services,symbols:u.symbols,mangleMap:u.mangleMap,localScope:{_SymbolsMap:{}},depthCounter:u.depthCounter+1,globalScope:u.globalScope};if(d.depthCounter>64)throw new Error("Exceeded maximum function depth");let v="new lc.SizzleFunction( lang.functionDepthchecker(function() { var lastStatement = lc.voidOperation; \n   var lscope = runtimeCtx.localStack[runtimeCtx.localStack.length-1];\n";for(let W=0;W<o.params.length;W++){const ye=o.params[W].name.toLowerCase(),xe=rt(u);d.localScope._SymbolsMap[ye]=xe,d.mangleMap[ye]=xe,v+="lscope['"+xe+"']=arguments["+W.toString()+"];\n"}if(!0===u.isAsync?(v+="return lang.__awaiter(this, void 0, void 0, function* () {\n",v+=tt(d,o.body)+"\n return lastStatement; ",v+="});  }",v+=", runtimeCtx))",v+="\n lastStatement = lc.voidOperation; \n"):(v+=tt(d,o.body)+"\n return lastStatement; }, runtimeCtx))",v+="\n lastStatement = lc.voidOperation; \n"),void 0!==u.globalScope[f])return"gscope['"+f+"']="+v;if(void 0!==u.globalScope._SymbolsMap[f])return"gscope['"+u.globalScope._SymbolsMap[f]+"']="+v;{const W=rt(u);return u.globalScope._SymbolsMap[f]=W,u.mangleMap[f]=W,"gscope['"+W+"']="+v}}(u,o);case"ReturnStatement":return function(u,o){return null===o.argument?"return lc.voidOperation":"return "+ge(u,o.argument)}(u,o);case"IfStatement":return function(u,o){if("AssignmentExpression"===o.test.type||"UpdateExpression"===o.test.type)throw new Error((0,Z.H5)(o.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));const f=ge(u,o.test),d=ct(u);let v="var "+d+" = "+f+";\n if ("+d+" === true) {\n"+Se(u,o.consequent)+"\n }\n";return v+=null!==o.alternate?"else if ("+d+"===false)   { \n"+Se(u,o.alternate)+"}\n":"else if ("+d+"===false) { \n lastStatement = lc.voidOperation;\n }\n",v+="else { lang.error({type: '"+o.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION'); \n}\n",v}(u,o);case"ExpressionStatement":return function(u,o){return"AssignmentExpression"===o.expression.type?"lastStatement = lc.voidOperation; "+ge(u,o.expression)+"; \n ":"lastStatement = "+ge(u,o.expression)+"; "}(u,o);case"AssignmentExpression":return function(u,o){const f=ge(u,o.right);let d=null,v="";if("MemberExpression"===o.left.type)return d=ge(u,o.left.object),v=!0===o.left.computed?ge(u,o.left.property):"'"+o.left.property.name+"'","lang.assignmember("+d+","+v+",'"+o.operator+"',"+f+")";if(d=o.left.name.toLowerCase(),null!==u.localScope){if(void 0!==u.localScope[d])return"lscope['"+d+"']=lang.assign("+f+",'"+o.operator+"', lscope['"+d+"'])";if(void 0!==u.localScope._SymbolsMap[d])return"lscope['"+u.localScope._SymbolsMap[d]+"']=lang.assign("+f+",'"+o.operator+"', lscope['"+u.localScope._SymbolsMap[d]+"'])"}if(void 0!==u.globalScope[d])return"gscope['"+d+"']=lang.assign("+f+",'"+o.operator+"', gscope['"+d+"'])";if(void 0!==u.globalScope._SymbolsMap[d])return"gscope['"+u.globalScope._SymbolsMap[d]+"']=lang.assign("+f+",'"+o.operator+"', gscope['"+u.globalScope._SymbolsMap[d]+"'])";throw new Error("Variable not recognised")}(u,o);case"UpdateExpression":return function(u,o){let f=null,d="";if("MemberExpression"===o.argument.type)return f=ge(u,o.argument.object),d=!0===o.argument.computed?ge(u,o.argument.property):"'"+o.argument.property.name+"'","lang.memberupdate("+f+","+d+",'"+o.operator+"',"+o.prefix+")";if(f=o.argument.name.toLowerCase(),null!==u.localScope){if(void 0!==u.localScope[f])return"lang.update(lscope, '"+f+"','"+o.operator+"',"+o.prefix+")";if(void 0!==u.localScope._SymbolsMap[f])return"lang.update(lscope, '"+u.localScope._SymbolsMap[f]+"','"+o.operator+"',"+o.prefix+")"}if(void 0!==u.globalScope[f])return"lang.update(gscope, '"+f+"','"+o.operator+"',"+o.prefix+")";if(void 0!==u.globalScope._SymbolsMap[f])return"lang.update(gscope, '"+u.globalScope._SymbolsMap[f]+"','"+o.operator+"',"+o.prefix+")";throw new Error("Variable not recognised")}(u,o);case"BreakStatement":return"break";case"ContinueStatement":return"continue";case"TemplateLiteral":return function(u,o){try{const f=[];let d=0;for(const v of o.quasis)f.push(v.value?JSON.stringify(v.value.cooked):JSON.stringify("")),!1===v.tail&&(f.push(o.expressions[d]?"lang.castString(lang.aCheck("+ge(u,o.expressions[d])+", 'TemplateLiteral'))":""),d++);return"(["+f.join(",")+"]).join('')"}catch(f){throw f}}(u,o);case"TemplateElement":return JSON.stringify(o.value?o.value.cooked:"");case"ForStatement":return function(u,o){let f="lastStatement = lc.voidOperation; \n";null!==o.init&&(f+=ge(u,o.init)+"; ");const d=ct(u),v=ct(u);return f+="var "+d+" = true; ",f+="\n do { ",null!==o.update&&(f+=" if ("+d+"===false) {\n "+ge(u,o.update)+"  \n}\n "+d+"=false; \n"),null!==o.test&&(f+="var "+v+" = "+ge(u,o.test)+"; ",f+="if ("+v+"===false) { break; } else if ("+v+"!==true) { lang.error({type: '"+o.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION');   }\n"),f+=ge(u,o.body),null!==o.update&&(f+="\n "+ge(u,o.update)),f+="\n"+d+" = true; \n} while(true);  lastStatement = lc.voidOperation; ",f}(u,o);case"ForInStatement":return function(u,o){const f=ct(u),d=ct(u),v=ct(u);let W="var "+f+" = "+ge(u,o.right)+";\n";"VariableDeclaration"===o.left.type&&(W+=ge(u,o.left));let ye="VariableDeclaration"===o.left.type?o.left.declarations[0].id.name:o.left.name;ye=ye.toLowerCase();let xe="";return null!==u.localScope&&(void 0!==u.localScope[ye]?xe="lscope['"+ye+"']":void 0!==u.localScope._SymbolsMap[ye]&&(xe="lscope['"+u.localScope._SymbolsMap[ye]+"']")),""===xe&&(void 0!==u.globalScope[ye]?xe="gscope['"+ye+"']":void 0!==u.globalScope._SymbolsMap[ye]&&(xe="gscope['"+u.globalScope._SymbolsMap[ye]+"']")),W+="if ("+f+"===null) {  lastStatement = lc.voidOperation; }\n ",W+="else if (lc.isArray("+f+") || lc.isString("+f+")) {",W+="var "+d+"="+f+".length; \n",W+="for(var "+v+"=0; "+v+"<"+d+"; "+v+"++) {\n",W+=xe+"="+v+";\n",W+=ge(u,o.body),W+="\n}\n",W+=" lastStatement = lc.voidOperation; \n",W+=" \n}\n",W+="else if (lc.isImmutableArray("+f+")) {",W+="var "+d+"="+f+".length(); \n",W+="for(var "+v+"=0; "+v+"<"+d+"; "+v+"++) {\n",W+=xe+"="+v+";\n",W+=ge(u,o.body),W+="\n}\n",W+=" lastStatement = lc.voidOperation; \n",W+=" \n}\n",W+="else if (( "+f+" instanceof lang.Dictionary) || ( "+f+" instanceof lang.Feature)) {",W+="var "+d+"="+f+".keys(); \n",W+="for(var "+v+"=0; "+v+"<"+d+".length; "+v+"++) {\n",W+=xe+"="+d+"["+v+"];\n",W+=ge(u,o.body),W+="\n}\n",W+=" lastStatement = lc.voidOperation; \n",W+=" \n}\n",u.isAsync&&(W+="else if (lc.isFeatureSet("+f+")) {",W+="var "+d+"="+f+".iterator(runtimeCtx.abortSignal); \n",W+="for(var "+v+"=lang. graphicToFeature( yield "+d+".next(),"+f+"); "+v+"!=null; "+v+"=lang. graphicToFeature( yield "+d+".next(),"+f+")) {\n",W+=xe+"="+v+";\n",W+=ge(u,o.body),W+="\n}\n",W+=" lastStatement = lc.voidOperation; \n",W+=" \n}\n"),W+="else { lastStatement = lc.voidOperation; } \n",W}(u,o);case"Identifier":return function(u,o){try{const f=o.name.toLowerCase();if(null!==u.localScope){if(void 0!==u.localScope[f])return"lscope['"+f+"']";if(void 0!==u.localScope._SymbolsMap[f])return"lscope['"+u.localScope._SymbolsMap[f]+"']"}if(void 0!==u.globalScope[f])return"gscope['"+f+"']";if(void 0!==u.globalScope._SymbolsMap[f])return"gscope['"+u.globalScope._SymbolsMap[f]+"']";throw new Error((0,Z.H5)(o,"RUNTIME","VARIABLENOTFOUND"))}catch(f){throw f}}(u,o);case"MemberExpression":return function(u,o){try{let f;return f=!0===o.computed?ge(u,o.property):"'"+o.property.name+"'","lang.member("+ge(u,o.object)+","+f+")"}catch(f){throw f}}(u,o);case"Literal":return null==o.value?"null":JSON.stringify(o.value);case"ThisExpression":case"ConditionalExpression":case"Array":throw new Error((0,Z.H5)(o,"RUNTIME","NOTSUPPORTED"));case"CallExpression":return function(u,o){try{if("Identifier"!==o.callee.type)throw new Error((0,Z.H5)(o,"RUNTIME","ONLYNODESSUPPORTED"));const f=o.callee.name.toLowerCase();let d="";if(null!==u.localScope&&(void 0!==u.localScope[f]?d="lscope['"+f+"']":void 0!==u.localScope._SymbolsMap[f]&&(d="lscope['"+u.localScope._SymbolsMap[f]+"']")),""===d&&(void 0!==u.globalScope[f]?d="gscope['"+f+"']":void 0!==u.globalScope._SymbolsMap[f]&&(d="gscope['"+u.globalScope._SymbolsMap[f]+"']")),""!==d){let v="[";for(let W=0;W<o.arguments.length;W++)W>0&&(v+=", "),v+=ge(u,o.arguments[W]);return v+="]",u.isAsync?"(yield lang.callfunc("+d+","+v+",runtimeCtx) )":"lang.callfunc("+d+","+v+",runtimeCtx)"}throw new Error((0,Z.H5)(o,"RUNTIME","NOTFOUND"))}catch(f){throw f}}(u,o);case"UnaryExpression":return function(u,o){try{return"lang.unary("+ge(u,o.argument)+",'"+o.operator+"')"}catch(f){throw f}}(u,o);case"BinaryExpression":return function(u,o){try{return"lang.binary("+ge(u,o.left)+","+ge(u,o.right)+",'"+o.operator+"')"}catch(f){throw f}}(u,o);case"LogicalExpression":return function(u,o){try{if("AssignmentExpression"===o.left.type||"UpdateExpression"===o.left.type)throw new Error((0,Z.H5)(o.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===o.right.type||"UpdateExpression"===o.right.type)throw new Error((0,Z.H5)(o.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("&&"===o.operator||"||"===o.operator)return"(lang.logicalCheck("+ge(u,o.left)+") "+o.operator+" lang.logicalCheck("+ge(u,o.right)+"))";throw new Error((0,Z.H5)(o,"RUNTIME","ONLYORORAND"))}catch(f){throw f}}(u,o);case"ArrayExpression":return function(u,o){try{const f=[];for(let d=0;d<o.elements.length;d++)f.push("Literal"===o.elements[d].type?ge(u,o.elements[d]):"lang.aCheck("+ge(u,o.elements[d])+",'ArrayExpression')");return"["+f.join(",")+"]"}catch(f){throw f}}(u,o);case"ObjectExpression":return function(u,o){let f="lang.dictionary([";for(let d=0;d<o.properties.length;d++){const v=o.properties[d];d>0&&(f+=","),f+="lang.strCheck("+("Identifier"===v.key.type?"'"+v.key.name+"'":ge(u,v.key))+",'ObjectExpression'),lang.aCheck("+ge(u,v.value)+", 'ObjectExpression')"}return f+="])",f}(u,o);case"Property":return function(u,o){throw new Error("Should not get here")}();default:throw new Error((0,Z.H5)(o,"RUNTIME","UNREOGNISED"))}}catch(f){throw f}}function Se(u,o){return"BlockStatement"===o.type?ge(u,o):"ReturnStatement"===o.type||"BreakStatement"===o.type||"ContinueStatement"===o.type?ge(u,o)+"; ":"UpdateExpression"===o.type?"lastStatement = "+ge(u,o)+"; ":"ExpressionStatement"===o.type?ge(u,o):"ObjectExpression"===o.type?"lastStatement = "+ge(u,o)+"; ":ge(u,o)+"; "}function tt(u,o){let f="";for(let d=0;d<o.body.length;d++)f+="ReturnStatement"===o.body[d].type||"BreakStatement"===o.body[d].type||"ContinueStatement"===o.body[d].type?ge(u,o.body[d])+"; \n":"UpdateExpression"===o.body[d].type||"ObjectExpression"===o.body[d].type?"lastStatement = "+ge(u,o.body[d])+"; \n":ge(u,o.body[d])+" \n";return f}let yt=0;const $e={};function Xe(u){return null===u?"":(0,w.a)(u)||(0,w.b)(u)?"Array":(0,w.n)(u)?"Date":(0,w.f)(u)?"String":(0,w.i)(u)?"Boolean":(0,w.j)(u)?"Number":u instanceof we.Z?"Attachment":u instanceof z.Z?"Portal":u instanceof _.Z?"Dictionary":u instanceof ee.Z?"Feature":u instanceof De.Z?"Point":u instanceof re.Z?"Polygon":u instanceof B.Z?"Polyline":u instanceof ne.Z?"Multipoint":u instanceof Fe.Z?"Extent":(0,w.c)(u)?"Function":(0,w.o)(u)?"FeatureSet":(0,w.q)(u)?"FeatureSetCollection":u===w.v?"":"number"==typeof u&&isNaN(u)?"Number":"Unrecognised Type"}function Kt(u,o,f,d){try{if((0,w.e)(o[f],d))return o[f+1];{const W=o.length-f;return 1===W?o[f]:2===W?null:3===W?o[f+2]:Kt(u,o,f+2,d)}}catch(v){throw v}}function sn(u,o,f,d){try{if(!0===d)return o[f+1];if(o.length-f==3)return o[f+2];{const v=o[f+2];if(!1===(0,w.i)(v))throw new Error("WHEN needs boolean test conditions");return sn(u,o,f+2,v)}}catch(v){throw v}}function mt(u,o){const f=u.length,d=Math.floor(f/2);return 0===f?[]:1===f?[u[0]]:function(u,o,f){const d=[];for(;u.length>0||o.length>0;)if(u.length>0&&o.length>0){let v=f(u[0],o[0]);isNaN(v)&&(v=0),v<=0?(d.push(u[0]),u=u.slice(1)):(d.push(o[0]),o=o.slice(1))}else u.length>0?(d.push(u[0]),u=u.slice(1)):o.length>0&&(d.push(o[0]),o=o.slice(1));return d}(mt(u.slice(0,d),o),mt(u.slice(d,f),o),o)}function $t(u,o){try{const f=u.length,d=Math.floor(f/2);if(0===f)return(0,pe.DB)([]);if(1===f)return(0,pe.DB)([u[0]]);const v=[$t(u.slice(0,d),o),$t(u.slice(d,f),o)];return(0,pe.$6)(v).then(W=>At(W[0],W[1],o,[]))}catch(f){return(0,pe.d1)(f)}}function At(u,o,f,d){return(0,pe.Ue)((v,W)=>{const ye=d;u.length>0||o.length>0?u.length>0&&o.length>0?f(u[0],o[0]).then(xe=>{try{isNaN(xe)&&(xe=1),xe<=0?(ye.push(u[0]),u=u.slice(1)):(ye.push(o[0]),o=o.slice(1)),At(u,o,f,d).then(_e=>{v(_e)},W)}catch(_e){W(_e)}},W):u.length>0?(ye.push(u[0]),At(u=u.slice(1),o,f,d).then(xe=>{v(xe)},W)):o.length>0&&(ye.push(o[0]),o=o.slice(1),At(u,o,f,d).then(xe=>{v(xe)},W)):v(d)})}function rt(u){return u.symbols.symbolCounter++,"_T"+u.symbols.symbolCounter.toString()}function ct(u){return u.symbols.symbolCounter++,"_Tvar"+u.symbols.symbolCounter.toString()}(0,Y.r)($e,J),(0,K.r)($e,J),(0,de.r)($e,J),(0,k.r)($e,J),(0,oe.r)($e,J),(0,he.r)($e,J),$e.typeof=function(u,o){return J(u,o,function(f,d,v){(0,w.p)(v,1,1);const W=Xe(v[0]);if("Unrecognised Type"===W)throw new Error("Unrecognised Type");return W})},$e.iif=function(u,o){try{return J(u,o,function(f,d,v){if((0,w.p)(v,3,3),!1===(0,w.i)(v[0]))throw new Error("IF Function must have a boolean test condition");return v[0]?v[1]:v[2]})}catch(f){throw f}},$e.decode=function(u,o){try{return J(u,o,function(f,d,v){if(v.length<2)throw new Error("Missing Parameters");if(2===v.length)return v[1];if((v.length-1)%2==0)throw new Error("Must have a default value result.");return Kt(u,v,1,v[0])})}catch(f){throw f}},$e.when=function(u,o){try{return J(u,o,function(f,d,v){if(v.length<3)throw new Error("Missing Parameters");if(v.length%2==0)throw new Error("Must have a default value result.");const W=v[0];if(!1===(0,w.i)(W))throw new Error("WHEN needs boolean test conditions");return sn(u,v,0,W)})}catch(f){throw f}},$e.top=function(u,o){return J(u,o,function(f,d,v){if((0,w.p)(v,2,2),(0,w.a)(v[0]))return(0,w.t)(v[1])>=v[0].length?v[0].slice(0):v[0].slice(0,(0,w.t)(v[1]));if((0,w.b)(v[0]))return(0,w.t)(v[1])>=v[0].length()?v[0].slice(0):v[0].slice(0,(0,w.t)(v[1]));throw new Error("Top cannot accept this parameter type")})},$e.first=function(u,o){return J(u,o,function(f,d,v){return(0,w.p)(v,1,1),(0,w.a)(v[0])?0===v[0].length?null:v[0][0]:(0,w.b)(v[0])?0===v[0].length()?null:v[0].get(0):null})},$e.sort=function(u,o){return J(u,o,function(f,d,v){(0,w.p)(v,1,2);let W=v[0];if((0,w.b)(W)&&(W=W.toArray()),!1===(0,w.a)(W))throw new Error("Illegal Argument");if(v.length>1){if(!1===(0,w.c)(v[1]))throw new Error("Illegal Argument");let ye=W;const xe=function(_e,Me){return N.callfunc(v[1],[_e,Me],f)};return u.isAsync?$t(ye,xe):(ye=mt(ye,function(_e,Me){return xe(_e,Me)}),ye)}{let ye=W;if(0===ye.length)return[];const xe={};for(let ke=0;ke<ye.length;ke++){const Be=Xe(ye[ke]);""!==Be&&(xe[Be]=!0)}if(!0===xe.Array||!0===xe.Dictionary||!0===xe.Feature||!0===xe.Point||!0===xe.Polygon||!0===xe.Polyline||!0===xe.Multipoint||!0===xe.Extent||!0===xe.Function)return ye.slice(0);let _e=0,Me="";for(const ke in xe)_e++,Me=ke;return ye=_e>1||"String"===Me?mt(ye,function(ke,Be){if(null==ke||ke===w.v)return null==Be||Be===w.v?0:1;if(null==Be||Be===w.v)return-1;const Lt=(0,w.d)(ke),Ht=(0,w.d)(Be);return Lt<Ht?-1:Lt===Ht?0:1}):"Number"===Me?mt(ye,function(ke,Be){return ke-Be}):"Boolean"===Me?mt(ye,function(ke,Be){return ke===Be?0:Be?-1:1}):"Date"===Me?mt(ye,function(ke,Be){return Be-ke}):ye.slice(0),ye}})};const pt={};for(const u in $e)pt[u]=new w.N($e[u]);(0,R.registerFunctions)($e,J);for(const u in $e)$e[u]=new w.N($e[u]);const Dt=function(){};Dt.prototype=$e;const Ct=function(){};function Zt(u,o,f){const d={};u||(u={}),f||(f={}),d._SymbolsMap={},d.textformatting=1,d.infinity=1,d.pi=1;for(const v in o)d[v]=1;for(const v in f)d[v]=1;for(const v in u)d[v]=1;return d}function bt(u,o){const f={mode:o,compiled:!0,functions:{},signatures:[],failDefferred:Ee,standardFunction:J,standardFunctionAsync:J,evaluateIdentifier:b};for(let d=0;d<u.length;d++)u[d].registerFunctions(f);if("sync"===o){for(const d in f.functions)$e[d]=new w.N(f.functions[d]),Dt.prototype[d]=$e[d];for(let d=0;d<f.signatures.length;d++)(0,Z.gW)(f.signatures[d],"sync")}else{for(const d in f.functions)pt[d]=new w.N(f.functions[d]),Ct.prototype[d]=pt[d];for(let d=0;d<f.signatures.length;d++)(0,Z.gW)(f.signatures[d],"async")}}function b(u,o){const f=o.name;if("_SymbolsMap"===f)throw"Illegal";if(u.localStack.length>0){if("_t"!==f.substr(0,2).toLowerCase()&&void 0!==u.localStack[u.localStack.length-1][f])return u.localStack[u.localStack.length-1][f];const v=u.mangleMap[f];if(void 0!==v&&void 0!==u.localStack[u.localStack.length-1][v])return u.localStack[u.localStack.length-1][v]}if("_t"!==f.substr(0,2).toLowerCase()&&void 0!==u.globalScope[f]||1===u.globalScope._SymbolsMap[f])return u.globalScope[f];const d=u.mangleMap[f];return void 0!==d?u.globalScope[d]:void 0}Ct.prototype=pt;let $=0;const N={error(u,o,f){throw new Error((0,Z.H5)(u,o,f))},__awaiter:(u,o,f,d)=>(0,pe.Ue)((v,W)=>{function ye(Me){try{_e(d.next(Me))}catch(ke){W(ke)}}function xe(Me){try{_e(d.throw(Me))}catch(ke){W(ke)}}function _e(Me){Me.done?v(Me.value):Me.value&&Me.value.then?Me.value.then(ye,xe):($++,$%100==0?setTimeout(()=>{$=0,ye(Me.value)},0):ye(Me.value))}_e((d=d.apply(u,o||[])).next())}),functionDepthchecker:(u,o)=>function(){if(o.depthCounter++,o.localStack.push([]),o.depthCounter>64)throw new Error("Exceeded maximum function depth");const f=u.apply(this,arguments);return(0,pe.y8)(f)?f.then(d=>(o.depthCounter--,o.localStack.length=o.localStack.length-1,d)):(o.depthCounter--,o.localStack.length=o.localStack.length-1,f)},castString:u=>(0,w.d)(u),aCheck(u,o){if((0,w.c)(u))throw new Error((0,Z.H5)({type:o},"RUNTIME","FUNCTIONCONTEXTILLEGAL"));return u===w.v?null:u},Dictionary:_.Z,Feature:ee.Z,dictionary(u){const o={};for(let d=0;d<u.length;d+=2){if((0,w.c)(u[d+1]))throw new Error("Illegal Argument");if(!1===(0,w.f)(u[d]))throw new Error("Illegal Argument");o[u[d].toString()]=u[d+1]===w.v?null:u[d+1]}const f=new _.Z(o);return f.immutable=!1,f},strCheck(u){if(!1===(0,w.f)(u))throw new Error("Illegal Argument");return u},unary(u,o){if((0,w.i)(u)){if("!"===o)return!u;if("-"===o)return-1*(0,w.t)(u);if("+"===o)return 1*(0,w.t)(u);if("~"===o)return~(0,w.t)(u);throw new Error((0,Z.H5)({type:"UnaryExpression",operator:o,prefix:null,argument:null},"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"))}if("-"===o)return-1*(0,w.t)(u);if("+"===o)return 1*(0,w.t)(u);if("~"===o)return~(0,w.t)(u);throw new Error((0,Z.H5)({type:"UnaryExpression",operator:o,prefix:null,argument:null},"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"))},logicalCheck(u){if(!1===(0,w.i)(u))throw new Error((0,Z.H5)({type:"LogicalExpression",operator:null,left:null,right:null},"RUNTIME","ONLYORORAND"));return u},logical(u,o,f){if((0,w.i)(u)&&(0,w.i)(o))switch(f){case"||":return u||o;case"&&":return u&&o;default:throw new Error((0,Z.H5)({type:"LogicalExpression",operator:null,left:null,right:null},"RUNTIME","ONLYORORAND"))}throw new Error((0,Z.H5)({type:"LogicalExpression",operator:null,left:null,right:null},"RUNTIME","ONLYORORAND"))},binary(u,o,f){switch(f){case"|":case"<<":case">>":case">>>":case"^":case"&":return(0,w.h)((0,w.t)(u),(0,w.t)(o),f);case"==":case"=":return(0,w.e)(u,o);case"!=":return!(0,w.e)(u,o);case"<":case">":case"<=":case">=":return(0,w.g)(u,o,f);case"+":return(0,w.f)(u)||(0,w.f)(o)?(0,w.d)(u)+(0,w.d)(o):(0,w.t)(u)+(0,w.t)(o);case"-":return(0,w.t)(u)-(0,w.t)(o);case"*":return(0,w.t)(u)*(0,w.t)(o);case"/":return(0,w.t)(u)/(0,w.t)(o);case"%":return(0,w.t)(u)%(0,w.t)(o);default:throw new Error((0,Z.H5)({type:"BinaryExpression",operator:f,left:u,right:o},"RUNTIME","OPERATORNOTRECOGNISED"))}},assign(u,o,f){switch(o){case"=":return u===w.v?null:u;case"/=":return(0,w.t)(f)/(0,w.t)(u);case"*=":return(0,w.t)(f)*(0,w.t)(u);case"-=":return(0,w.t)(f)-(0,w.t)(u);case"+=":return(0,w.f)(f)||(0,w.f)(u)?(0,w.d)(f)+(0,w.d)(u):(0,w.t)(f)+(0,w.t)(u);case"%=":return(0,w.t)(f)%(0,w.t)(u);default:throw new Error((0,Z.H5)({type:"AssignmentExpression",operator:o,left:null,right:null},"RUNTIME","OPERATORNOTRECOGNISED"))}},update(u,o,f,d){const v=(0,w.t)(u[o]);return u[o]="++"===f?v+1:v-1,!1===d?v:"++"===f?v+1:v-1},graphicToFeature:(u,o)=>null===u?null:ee.Z.createFromGraphicLikeObject(u.geometry,u.attributes,o),memberupdate(u,o,f,d){let v;if((0,w.a)(u)){if(!(0,w.j)(o))throw new Error("Invalid Parameter");if(o<0&&(o=u.length+o),o<0||o>=u.length)throw new Error("Assignment outside of array bounds");v=(0,w.t)(u[o]),u[o]="++"===f?v+1:v-1}else if(u instanceof _.Z){if(!1===(0,w.f)(o))throw new Error("Dictionary accessor must be a string");if(!0!==u.hasField(o))throw new Error("Invalid Parameter");v=(0,w.t)(u.field(o)),u.setField(o,"++"===f?v+1:v-1)}else{if(!(u instanceof ee.Z))throw(0,w.b)(u)?new Error("Array is Immutable"):new Error("Invalid Parameter");if(!1===(0,w.f)(o))throw new Error("Feature accessor must be a string");if(!0!==u.hasField(o))throw new Error("Invalid Parameter");v=(0,w.t)(u.field(o)),u.setField(o,"++"===f?v+1:v-1)}return!1===d?v:"++"===f?v+1:v-1},assignmember(u,o,f,d){if((0,w.a)(u)){if(!(0,w.j)(o))throw new Error("Invalid Parameter");if(o<0&&(o=u.length+o),o<0||o>u.length)throw new Error("Assignment outside of array bounds");if(o===u.length){if("="!==f)throw new Error("Invalid Parameter");u[o]=this.assign(d,f,u[o])}else u[o]=this.assign(d,f,u[o])}else if(u instanceof _.Z){if(!1===(0,w.f)(o))throw new Error("Dictionary accessor must be a string");if(!0===u.hasField(o))u.setField(o,this.assign(d,f,u.field(o)));else{if("="!==f)throw new Error("Invalid Parameter");u.setField(o,this.assign(d,f,null))}}else{if(!(u instanceof ee.Z))throw(0,w.b)(u)?new Error("Array is Immutable"):new Error("Invalid Parameter");if(!1===(0,w.f)(o))throw new Error("Feature accessor must be a string");if(!0===u.hasField(o))u.setField(o,this.assign(d,f,u.field(o)));else{if("="!==f)throw new Error("Invalid Parameter");u.setField(o,this.assign(d,f,null))}}},member(u,o){if(null===u)throw new Error((0,Z.H5)({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","NOTFOUND"));if(u instanceof le.s){if((0,w.f)(o))return u.field(o);throw new Error((0,Z.H5)({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"))}if(u instanceof _.Z||u instanceof ee.Z){if((0,w.f)(o))return u.field(o);throw new Error((0,Z.H5)({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"))}if(u instanceof ce.Z){if((0,w.f)(o))return function(u,o,f){let d;switch(o=o.toLowerCase()){case"hasz":{const v=u.hasZ;return void 0!==v&&v}case"hasm":{const v=u.hasM;return void 0!==v&&v}case"spatialreference":{let v=u.spatialReference._arcadeCacheId;if(void 0===v){let ye=!0;Object.freeze&&Object.isFrozen(u.spatialReference)&&(ye=!1),ye&&(yt++,u.spatialReference._arcadeCacheId=yt,v=yt)}const W=new _.Z({wkt:u.spatialReference.wkt,wkid:u.spatialReference.wkid});return void 0!==v&&(W._arcadeCacheId="SPREF"+v.toString()),W}}switch(u.type){case"extent":switch(o){case"xmin":case"xmax":case"ymin":case"ymax":case"zmin":case"zmax":case"mmin":case"mmax":{const v=u[o];return void 0!==v?v:null}case"type":return"Extent"}break;case"polygon":switch(o){case"rings":return d=u.cache._arcadeCacheId,void 0===d&&(yt++,d=yt,u.cache._arcadeCacheId=d),new V.Z(u.rings,u.spatialReference,!0===u.hasZ,!0===u.hasM,d);case"type":return"Polygon"}break;case"point":switch(o){case"x":case"y":case"z":case"m":return void 0!==u[o]?u[o]:null;case"type":return"Point"}break;case"polyline":switch(o){case"paths":return d=u.cache._arcadeCacheId,void 0===d&&(yt++,d=yt,u.cache._arcadeCacheId=d),new V.Z(u.paths,u.spatialReference,!0===u.hasZ,!0===u.hasM,d);case"type":return"Polyline"}break;case"multipoint":switch(o){case"points":return d=u.cache._arcadeCacheId,void 0===d&&(yt++,d=yt,u.cache._arcadeCacheId=d),new se.Z(u.points,u.spatialReference,!0===u.hasZ,!0===u.hasM,d,1);case"type":return"Multipoint"}}throw new Error((0,Z.H5)("MemberExpression","RUNTIME","PROPERTYNOTFOUND"))}(u,o);throw new Error((0,Z.H5)({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"))}if((0,w.a)(u)){if((0,w.j)(o)&&isFinite(o)&&Math.floor(o)===o){if(o<0&&(o=u.length+o),o>=u.length||o<0)throw new Error((0,Z.H5)({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return u[o]}throw new Error((0,Z.H5)({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"))}if((0,w.f)(u)){if((0,w.j)(o)&&isFinite(o)&&Math.floor(o)===o){if(o<0&&(o=u.length+o),o>=u.length||o<0)throw new Error((0,Z.H5)({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return u[o]}throw new Error((0,Z.H5)({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"))}if((0,w.b)(u)){if((0,w.j)(o)&&isFinite(o)&&Math.floor(o)===o){if(o<0&&(o=u.length()+o),o>=u.length()||o<0)throw new Error((0,Z.H5)({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return u.get(o)}throw new Error((0,Z.H5)({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"))}throw new Error((0,Z.H5)({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"))},callfunc(u,o,f){return u instanceof w.N?u.fn(f,o):u instanceof w.S?u.fn.apply(this,o):u.apply(this,o)}};function T(u){console.log(u)}function G(u,o=null,f=!1){null===o&&(o={vars:{},customfunctions:{}});const d={isAsync:f,globalScope:Zt(o.vars,f?pt:$e,o.customfunctions),localScope:null,mangleMap:{},console:T,lrucache:o.lrucache,interceptor:o.interceptor,services:o.services,symbols:{symbolCounter:0}};let v=ge(d,u.body[0].body);""===v&&(v="lc.voidOperation; ");let W="";W=f?"var runtimeCtx=this.prepare(context, true);\n var lc = this.lc;  var lang = this.lang; var gscope=runtimeCtx.globalScope; \nreturn lang.__awaiter(this, void 0, void 0, function* () {\n\n function mainBody() {\n var lastStatement=lc.voidOperation;\n return lang.__awaiter(this, void 0, void 0, function* () {\n"+v+"\n return lastStatement; }); } \n return this.postProcess(yield mainBody()); }); ":"var runtimeCtx=this.prepare(context, false);\n var lc = this.lc;  var lang = this.lang; var gscope=runtimeCtx.globalScope; \n function mainBody() {\n var lastStatement=lc.voidOperation;\n "+v+"\n return lastStatement; } \n return this.postProcess(mainBody()); ";const ye={lc:w.l,lang:N,mangles:d.mangleMap,postProcess(xe){if(xe instanceof w.R&&(xe=xe.value),xe instanceof w.I&&(xe=xe.value),xe===w.v&&(xe=null),xe===w.k)throw new Error("Cannot return BREAK");if(xe===w.m)throw new Error("Cannot return CONTINUE");if((0,w.c)(xe))throw new Error("Cannot return FUNCTION");return xe},prepare(xe,_e){let Me=xe.spatialReference;null==Me&&(Me=new O.Z({wkid:102100}));const ke=function(u,o,f){const d=f?new Ct:new Dt;u||(u={}),o||(o={});const v=new _.Z({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});v.immutable=!1,d._SymbolsMap={textformatting:1,infinity:1,pi:1},d.textformatting=v,d.infinity=Number.POSITIVE_INFINITY,d.pi=Math.PI;for(const W in o)d[W]=o[W],d._SymbolsMap[W]=1;for(const W in u)d._SymbolsMap[W]=1,d[W]=u[W]&&"esri.Graphic"===u[W].declaredClass?ee.Z.createFromGraphic(u[W]):u[W];return d}(xe.vars,xe.customfunctions,_e);return{localStack:[],isAsync:_e,mangleMap:this.mangles,spatialReference:Me,globalScope:ke,abortSignal:null==xe.abortSignal?{aborted:!1}:xe.abortSignal,localScope:null,services:xe.services,console:xe.console?xe.console:T,lrucache:xe.lrucache,interceptor:xe.interceptor,symbols:{symbolCounter:0},depthCounter:1}}};return new Function("context","spatialReference",W).bind(ye)}var fe=te(43472);function ie(u,o,f){try{return f(u,o,function(u,o){const f=[];for(let d=0;d<o.arguments.length;d++)f.push(ue(u,o.arguments[d]));return f}(u,o))}catch(d){throw d}}function ue(u,o){try{switch(o.type){case"EmptyStatement":return w.v;case"VariableDeclarator":return function(u,o){let f=null===o.init?null:ue(u,o.init);if(f===w.v&&(f=null),"Identifier"!==o.id.type)throw new Error("Can only assign a regular variable");const d=o.id.name.toLowerCase();return null!==u.localScope?u.localScope[d]={value:f,valueset:!0,node:o.init}:u.globalScope[d]={value:f,valueset:!0,node:o.init},w.v}(u,o);case"VariableDeclaration":return function(u,o){for(let f=0;f<o.declarations.length;f++)ue(u,o.declarations[f]);return w.v}(u,o);case"BlockStatement":return function(u,o){let f=w.v;for(let d=0;d<o.body.length;d++)if(f=ue(u,o.body[d]),f instanceof w.R||f===w.k||f===w.m)return f;return f}(u,o);case"FunctionDeclaration":return function(u,o){const f=o.id.name.toLowerCase();return u.globalScope[f]={valueset:!0,node:null,value:new fe.Z(o,u)},w.v}(u,o);case"ReturnStatement":return function(u,o){if(null===o.argument)return new w.R(w.v);const f=ue(u,o.argument);return new w.R(f)}(u,o);case"IfStatement":return function(u,o){if("AssignmentExpression"===o.test.type||"UpdateExpression"===o.test.type)throw new Error((0,Z.H5)(o.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));const f=ue(u,o.test);if(!0===f)return ue(u,o.consequent);if(!1===f)return null!==o.alternate?ue(u,o.alternate):w.v;throw new Error((0,Z.H5)(o,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"))}(u,o);case"ExpressionStatement":return function(u,o){if("AssignmentExpression"===o.expression.type||"UpdateExpression"===o.expression.type)return ue(u,o.expression);if("CallExpression"===o.expression.type){const f=ue(u,o.expression);return f===w.v?w.v:new w.I(f)}{const f=ue(u,o.expression);return f===w.v?w.v:new w.I(f)}}(u,o);case"AssignmentExpression":return function(u,o){const f=ue(u,o.right);let d=null,v="";if("MemberExpression"===o.left.type){if(d=ue(u,o.left.object),!0===o.left.computed?v=ue(u,o.left.property):"Identifier"===o.left.property.type&&(v=o.left.property.name),(0,w.a)(d)){if(!(0,w.j)(v))throw new Error("Invalid Parameter");if(v<0&&(v=d.length+v),v<0||v>d.length)throw new Error("Assignment outside of array bounds");if(v===d.length){if("="!==o.operator)throw new Error("Invalid Parameter");d[v]=Gt(f,o.operator,d[v],o)}else d[v]=Gt(f,o.operator,d[v],o)}else if(d instanceof _.Z){if(!1===(0,w.f)(v))throw new Error("Dictionary accessor must be a string");if(!0===d.hasField(v))d.setField(v,Gt(f,o.operator,d.field(v),o));else{if("="!==o.operator)throw new Error("Invalid Parameter");d.setField(v,Gt(f,o.operator,null,o))}}else{if(!(d instanceof ee.Z))throw(0,w.b)(d)?new Error("Array is Immutable"):new Error("Invalid Parameter");if(!1===(0,w.f)(v))throw new Error("Feature accessor must be a string");if(!0===d.hasField(v))d.setField(v,Gt(f,o.operator,d.field(v),o));else{if("="!==o.operator)throw new Error("Invalid Parameter");d.setField(v,Gt(f,o.operator,null,o))}}return w.v}if(d=o.left.name.toLowerCase(),null!==u.localScope&&void 0!==u.localScope[d])return u.localScope[d]={value:Gt(f,o.operator,u.localScope[d].value,o),valueset:!0,node:o.right},w.v;if(void 0!==u.globalScope[d])return u.globalScope[d]={value:Gt(f,o.operator,u.globalScope[d].value,o),valueset:!0,node:o.right},w.v;throw new Error("Variable not recognised")}(u,o);case"UpdateExpression":return function(u,o){let f,d=null,v="";if("MemberExpression"===o.argument.type){if(d=ue(u,o.argument.object),!0===o.argument.computed?v=ue(u,o.argument.property):"Identifier"===o.argument.property.type&&(v=o.argument.property.name),(0,w.a)(d)){if(!(0,w.j)(v))throw new Error("Invalid Parameter");if(v<0&&(v=d.length+v),v<0||v>=d.length)throw new Error("Assignment outside of array bounds");f=(0,w.t)(d[v]),d[v]="++"===o.operator?f+1:f-1}else if(d instanceof _.Z){if(!1===(0,w.f)(v))throw new Error("Dictionary accessor must be a string");if(!0!==d.hasField(v))throw new Error("Invalid Parameter");f=(0,w.t)(d.field(v)),d.setField(v,"++"===o.operator?f+1:f-1)}else{if(!(d instanceof ee.Z))throw(0,w.b)(d)?new Error("Array is Immutable"):new Error("Invalid Parameter");if(!1===(0,w.f)(v))throw new Error("Feature accessor must be a string");if(!0!==d.hasField(v))throw new Error("Invalid Parameter");f=(0,w.t)(d.field(v)),d.setField(v,"++"===o.operator?f+1:f-1)}return!1===o.prefix?f:"++"===o.operator?f+1:f-1}if(d="Identifier"===o.argument.type?o.argument.name.toLowerCase():"",!d)throw new Error("Invalid identifier");if(null!==u.localScope&&void 0!==u.localScope[d])return f=(0,w.t)(u.localScope[d].value),u.localScope[d]={value:"++"===o.operator?f+1:f-1,valueset:!0,node:o},!1===o.prefix?f:"++"===o.operator?f+1:f-1;if(void 0!==u.globalScope[d])return f=(0,w.t)(u.globalScope[d].value),u.globalScope[d]={value:"++"===o.operator?f+1:f-1,valueset:!0,node:o},!1===o.prefix?f:"++"===o.operator?f+1:f-1;throw new Error("Variable not recognised")}(u,o);case"BreakStatement":return w.k;case"ContinueStatement":return w.m;case"TemplateElement":return function(u,o){return o.value?o.value.cooked:""}(0,o);case"TemplateLiteral":return function(u,o){let f="",d=0;for(const v of o.quasis)f+=v.value?v.value.cooked:"",!1===v.tail&&(f+=o.expressions[d]?(0,w.d)(ue(u,o.expressions[d])):"",d++);return f}(u,o);case"ForStatement":return function(u,o){null!==o.init&&ue(u,o.init);const f={testResult:!0,lastAction:w.v};do{on(u,o,f)}while(!0===f.testResult);return f.lastAction instanceof w.R?f.lastAction:w.v}(u,o);case"ForInStatement":return function(u,o){const f=ue(u,o.right);"VariableDeclaration"===o.left.type&&ue(u,o.left);let d=null,v="";if("VariableDeclaration"===o.left.type){const W=o.left.declarations[0].id;"Identifier"===W.type&&(v=W.name)}else"Identifier"===o.left.type&&(v=o.left.name);if(!v)throw new Error((0,Z.H5)(o,"RUNTIME","INVALIDVARIABLE"));if(v=v.toLowerCase(),null!==u.localScope&&void 0!==u.localScope[v]&&(d=u.localScope[v]),null===d&&void 0!==u.globalScope[v]&&(d=u.globalScope[v]),null===d)throw new Error((0,Z.H5)(o,"RUNTIME","VARIABLENOTDECLARED"));if((0,w.a)(f)||(0,w.f)(f)){const W=f.length;for(let ye=0;ye<W;ye++){d.value=ye;const xe=ue(u,o.body);if(xe===w.k)break;if(xe instanceof w.R)return xe}return w.v}if((0,w.b)(f)){for(let W=0;W<f.length();W++){d.value=W;const ye=ue(u,o.body);if(ye===w.k)break;if(ye instanceof w.R)return ye}return w.v}if(!(f instanceof _.Z||f instanceof ee.Z))return w.v;{const W=f.keys();for(let ye=0;ye<W.length;ye++){d.value=W[ye];const xe=ue(u,o.body);if(xe===w.k)break;if(xe instanceof w.R)return xe}}}(u,o);case"Identifier":return On(u,o);case"MemberExpression":return function(u,o){try{const f=ue(u,o.object);if(null===f)throw new Error((0,Z.H5)(o,"RUNTIME","NOTFOUND"));if(!1===o.computed){if("Identifier"===o.property.type){if(f instanceof _.Z||f instanceof ee.Z)return f.field(o.property.name);if(f instanceof ce.Z)return pr(f,o.property.name,o)}throw new Error((0,Z.H5)(o,"RUNTIME","INVALIDTYPE"))}{let d=ue(u,o.property);if(f instanceof _.Z||f instanceof ee.Z){if((0,w.f)(d))return f.field(d);throw new Error((0,Z.H5)(o,"RUNTIME","INVALIDTYPE"))}if(f instanceof ce.Z){if((0,w.f)(d))return pr(f,d,o);throw new Error((0,Z.H5)(o,"RUNTIME","INVALIDTYPE"))}if((0,w.a)(f)){if((0,w.j)(d)&&isFinite(d)&&Math.floor(d)===d){if(d<0&&(d=f.length+d),d>=f.length||d<0)throw new Error((0,Z.H5)(o,"RUNTIME","OUTOFBOUNDS"));return f[d]}throw new Error((0,Z.H5)(o,"RUNTIME","INVALIDTYPE"))}if((0,w.f)(f)){if((0,w.j)(d)&&isFinite(d)&&Math.floor(d)===d){if(d<0&&(d=f.length+d),d>=f.length||d<0)throw new Error((0,Z.H5)(o,"RUNTIME","OUTOFBOUNDS"));return f[d]}throw new Error((0,Z.H5)(o,"RUNTIME","INVALIDTYPE"))}if((0,w.b)(f)){if((0,w.j)(d)&&isFinite(d)&&Math.floor(d)===d){if(d<0&&(d=f.length()+d),d>=f.length()||d<0)throw new Error((0,Z.H5)(o,"RUNTIME","OUTOFBOUNDS"));return f.get(d)}throw new Error((0,Z.H5)(o,"RUNTIME","INVALIDTYPE"))}throw new Error((0,Z.H5)(o,"RUNTIME","INVALIDTYPE"))}}catch(f){throw f}}(u,o);case"Literal":return o.value;case"CallExpression":return function(u,o){try{if("Identifier"!==o.callee.type)throw new Error((0,Z.H5)(o,"RUNTIME","ONLYNODESSUPPORTED"));if(null!==u.localScope&&void 0!==u.localScope[o.callee.name.toLowerCase()]){const f=u.localScope[o.callee.name.toLowerCase()];if(f.value instanceof w.N)return f.value.fn(u,o);if(f.value instanceof fe.Z)return Hn(u,o,f.value.definition);throw new Error((0,Z.H5)(o,"RUNTIME","NOTAFUNCTION"))}if(void 0!==u.globalScope[o.callee.name.toLowerCase()]){const f=u.globalScope[o.callee.name.toLowerCase()];if(f.value instanceof w.N)return f.value.fn(u,o);if(f.value instanceof fe.Z)return Hn(u,o,f.value.definition);throw new Error((0,Z.H5)(o,"RUNTIME","NOTAFUNCTION"))}throw new Error((0,Z.H5)(o,"RUNTIME","NOTFOUND"))}catch(f){throw f}}(u,o);case"UnaryExpression":return function(u,o){try{const f=ue(u,o.argument);if((0,w.i)(f)){if("!"===o.operator)return!f;if("-"===o.operator)return-1*(0,w.t)(f);if("+"===o.operator)return 1*(0,w.t)(f);if("~"===o.operator)return~(0,w.t)(f);throw new Error((0,Z.H5)(o,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"))}if("~"===o.operator)return~(0,w.t)(f);if("-"===o.operator)return-1*(0,w.t)(f);if("+"===o.operator)return 1*(0,w.t)(f);throw new Error((0,Z.H5)(o,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"))}catch(f){throw f}}(u,o);case"BinaryExpression":return function(u,o){try{const f=[ue(u,o.left),ue(u,o.right)],d=f[0],v=f[1];switch(o.operator){case"|":case"<<":case">>":case">>>":case"^":case"&":return(0,w.h)((0,w.t)(d),(0,w.t)(v),o.operator);case"==":return(0,w.e)(d,v);case"!=":return!(0,w.e)(d,v);case"<":case">":case"<=":case">=":return(0,w.g)(d,v,o.operator);case"+":return(0,w.f)(d)||(0,w.f)(v)?(0,w.d)(d)+(0,w.d)(v):(0,w.t)(d)+(0,w.t)(v);case"-":return(0,w.t)(d)-(0,w.t)(v);case"*":return(0,w.t)(d)*(0,w.t)(v);case"/":return(0,w.t)(d)/(0,w.t)(v);case"%":return(0,w.t)(d)%(0,w.t)(v);default:throw new Error((0,Z.H5)(o,"RUNTIME","OPERATORNOTRECOGNISED"))}}catch(f){throw f}}(u,o);case"LogicalExpression":return function(u,o){try{if("AssignmentExpression"===o.left.type||"UpdateExpression"===o.left.type)throw new Error((0,Z.H5)(o.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===o.right.type||"UpdateExpression"===o.right.type)throw new Error((0,Z.H5)(o.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));const f=ue(u,o.left);if((0,w.i)(f))switch(o.operator){case"||":if(!0===f)return f;{const d=ue(u,o.right);if((0,w.i)(d))return d;throw new Error((0,Z.H5)(o,"RUNTIME","ONLYORORAND"))}case"&&":if(!1===f)return f;{const d=ue(u,o.right);if((0,w.i)(d))return d;throw new Error((0,Z.H5)(o,"RUNTIME","ONLYORORAND"))}default:throw new Error((0,Z.H5)(o,"RUNTIME","ONLYORORAND"))}throw new Error((0,Z.H5)(o,"RUNTIME","ONLYBOOLEAN"))}catch(f){throw f}}(u,o);case"ArrayExpression":return function(u,o){try{const f=[];for(let d=0;d<o.elements.length;d++){const v=ue(u,o.elements[d]);if((0,w.c)(v))throw new Error((0,Z.H5)(o,"RUNTIME","FUNCTIONCONTEXTILLEGAL"));f.push(v===w.v?null:v)}return f}catch(f){throw f}}(u,o);case"ObjectExpression":return function(u,o){const f={};for(let v=0;v<o.properties.length;v++){const W=ue(u,o.properties[v]);if((0,w.c)(W.value))throw new Error("Illegal Argument");if(!1===(0,w.f)(W.key))throw new Error("Illegal Argument");f[W.key.toString()]=W.value===w.v?null:W.value}const d=new _.Z(f);return d.immutable=!1,d}(u,o);case"Property":return function(u,o){return{key:"Identifier"===o.key.type?o.key.name:ue(u,o.key),value:ue(u,o.value)}}(u,o);default:throw new Error((0,Z.H5)(o,"RUNTIME","UNREOGNISED"))}}catch(f){throw f}}function on(u,o,f){if(null!==o.test){if(f.testResult=ue(u,o.test),!1===f.testResult)return;if(!0!==f.testResult)throw new Error((0,Z.H5)(o,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"))}f.lastAction=ue(u,o.body),f.lastAction!==w.k?f.lastAction instanceof w.R?f.testResult=!1:null!==o.update&&ue(u,o.update):f.testResult=!1}function Gt(u,o,f,d){switch(o){case"=":return u===w.v?null:u;case"/=":return(0,w.t)(f)/(0,w.t)(u);case"*=":return(0,w.t)(f)*(0,w.t)(u);case"-=":return(0,w.t)(f)-(0,w.t)(u);case"+=":return(0,w.f)(f)||(0,w.f)(u)?(0,w.d)(f)+(0,w.d)(u):(0,w.t)(f)+(0,w.t)(u);case"%=":return(0,w.t)(f)%(0,w.t)(u);default:throw new Error((0,Z.H5)(d,"RUNTIME","OPERATORNOTRECOGNISED"))}}let jt=0;function pr(u,o,f){let d;switch(o=o.toLowerCase()){case"hasz":{const v=u.hasZ;return void 0!==v&&v}case"hasm":{const v=u.hasM;return void 0!==v&&v}case"spatialreference":{let v=u.spatialReference._arcadeCacheId;if(void 0===v){let ye=!0;Object.freeze&&Object.isFrozen(u.spatialReference)&&(ye=!1),ye&&(jt++,u.spatialReference._arcadeCacheId=jt,v=jt)}const W=new _.Z({wkt:u.spatialReference.wkt,wkid:u.spatialReference.wkid});return void 0!==v&&(W._arcadeCacheId="SPREF"+v.toString()),W}}switch(u.type){case"extent":switch(o){case"xmin":case"xmax":case"ymin":case"ymax":case"zmin":case"zmax":case"mmin":case"mmax":{const v=u[o];return void 0!==v?v:null}case"type":return"Extent"}break;case"polygon":switch(o){case"rings":return d=u.cache._arcadeCacheId,void 0===d&&(jt++,d=jt,u.cache._arcadeCacheId=d),new V.Z(u.rings,u.spatialReference,!0===u.hasZ,!0===u.hasM,d);case"type":return"Polygon"}break;case"point":switch(o){case"x":case"y":case"z":case"m":return void 0!==u[o]?u[o]:null;case"type":return"Point"}break;case"polyline":switch(o){case"paths":return d=u.cache._arcadeCacheId,void 0===d&&(jt++,d=jt,u.cache._arcadeCacheId=d),new V.Z(u.paths,u.spatialReference,!0===u.hasZ,!0===u.hasM,d);case"type":return"Polyline"}break;case"multipoint":switch(o){case"points":return d=u.cache._arcadeCacheId,void 0===d&&(jt++,d=jt,u.cache._arcadeCacheId=d),new se.Z(u.points,u.spatialReference,!0===u.hasZ,!0===u.hasM,d,1);case"type":return"Multipoint"}}throw new Error((0,Z.H5)(f,"RUNTIME","PROPERTYNOTFOUND"))}function On(u,o){let f;try{const d=o.name.toLowerCase();if(null!==u.localScope&&void 0!==u.localScope[d])return f=u.localScope[d],!0===f.valueset||(f.value=ue(u,f.node),f.valueset=!0),f.value;if(void 0!==u.globalScope[d])return f=u.globalScope[d],!0===f.valueset||(f.value=ue(u,f.node),f.valueset=!0),f.value;throw new Error((0,Z.H5)(o,"RUNTIME","VARIABLENOTFOUND"))}catch(d){throw d}}const st={};function Yt(u){return null==u?"":(0,w.a)(u)||(0,w.b)(u)?"Array":(0,w.n)(u)?"Date":(0,w.f)(u)?"String":(0,w.i)(u)?"Boolean":(0,w.j)(u)?"Number":u instanceof we.Z?"Attachment":u instanceof z.Z?"Portal":u instanceof _.Z?"Dictionary":u instanceof ee.Z?"Feature":u instanceof De.Z?"Point":u instanceof re.Z?"Polygon":u instanceof B.Z?"Polyline":u instanceof ne.Z?"Multipoint":u instanceof Fe.Z?"Extent":(0,w.c)(u)?"Function":(0,w.o)(u)?"FeatureSet":(0,w.q)(u)?"FeatureSetCollection":u===w.v?"":"number"==typeof u&&isNaN(u)?"Number":"Unrecognised Type"}function Gn(u,o,f,d){try{const v=ue(u,o.arguments[f]);if((0,w.e)(v,d))return ue(u,o.arguments[f+1]);{const W=o.arguments.length-f;return 1===W?ue(u,o.arguments[f]):2===W?null:3===W?ue(u,o.arguments[f+2]):Gn(u,o,f+2,d)}}catch(v){throw v}}function jn(u,o,f,d){try{if(!0===d)return ue(u,o.arguments[f+1]);if(o.arguments.length-f==3)return ue(u,o.arguments[f+2]);{const v=ue(u,o.arguments[f+2]);if(!1===(0,w.i)(v))throw new Error("WHEN needs boolean test conditions");return jn(u,o,f+2,v)}}catch(v){throw v}}function nn(u,o){const f=u.length,d=Math.floor(f/2);return 0===f?[]:1===f?[u[0]]:function(u,o,f){const d=[];for(;u.length>0||o.length>0;)if(u.length>0&&o.length>0){let v=f(u[0],o[0]);isNaN(v)&&(v=0),v<=0?(d.push(u[0]),u=u.slice(1)):(d.push(o[0]),o=o.slice(1))}else u.length>0?(d.push(u[0]),u=u.slice(1)):o.length>0&&(d.push(o[0]),o=o.slice(1));return d}(nn(u.slice(0,d),o),nn(u.slice(d,f),o),o)}function zn(u,o,f){try{const d=u.body;if(f.length!==u.params.length)throw new Error("Invalid Parameter calls to function.");for(let W=0;W<f.length;W++)o.localScope[u.params[W].name.toLowerCase()]={value:f[W],valueset:!0,node:null};const v=ue(o,d);if(v instanceof w.R)return v.value;if(v===w.k)throw new Error("Cannot Break from a Function");if(v===w.m)throw new Error("Cannot Continue from a Function");return v instanceof w.I?v.value:v}catch(d){throw d}}function Hn(u,o,f){return ie(u,o,function(d,v,W){const ye={spatialReference:u.spatialReference,globalScope:u.globalScope,depthCounter:u.depthCounter+1,console:u.console,lrucache:u.lrucache,interceptor:u.interceptor,localScope:{}};if(ye.depthCounter>64)throw new Error("Exceeded maximum function depth");return zn(f,ye,W)})}function at(u){return function(){const f={spatialReference:u.context.spatialReference,console:u.context.console,lrucache:u.context.lrucache,interceptor:u.context.interceptor,localScope:{},depthCounter:u.context.depthCounter+1,globalScope:u.context.globalScope};if(f.depthCounter>64)throw new Error("Exceeded maximum function depth");return zn(u.definition,f,arguments)}}(0,Y.r)(st,ie),(0,K.r)(st,ie),(0,de.r)(st,ie),(0,k.r)(st,ie),(0,oe.r)(st,ie),(0,he.r)(st,ie),(0,R.registerFunctions)(st,ie),st.typeof=function(u,o){return ie(u,o,function(f,d,v){(0,w.p)(v,1,1);const W=Yt(v[0]);if("Unrecognised Type"===W)throw new Error("Unrecognised Type");return W})},st.iif=function(u,o){try{(0,w.p)(null===o.arguments?[]:o.arguments,3,3);const f=ue(u,o.arguments[0]);if(!1===(0,w.i)(f))throw new Error("IF Function must have a boolean test condition");const d=ue(u,o.arguments[1]),v=ue(u,o.arguments[2]);return!0===f?d:v}catch(f){throw f}},st.decode=function(u,o){try{if(o.arguments.length<2)throw new Error("Missing Parameters");if(2===o.arguments.length)return ue(u,o.arguments[1]);if((o.arguments.length-1)%2==0)throw new Error("Must have a default value result.");return Gn(u,o,1,ue(u,o.arguments[0]))}catch(f){throw f}},st.when=function(u,o){try{if(o.arguments.length<3)throw new Error("Missing Parameters");if(o.arguments.length%2==0)throw new Error("Must have a default value result.");const f=ue(u,o.arguments[0]);if(!1===(0,w.i)(f))throw new Error("WHEN needs boolean test conditions");return jn(u,o,0,f)}catch(f){throw f}},st.top=function(u,o){return ie(u,o,function(f,d,v){if((0,w.p)(v,2,2),(0,w.a)(v[0]))return(0,w.t)(v[1])>=v[0].length?v[0].slice(0):v[0].slice(0,(0,w.t)(v[1]));if((0,w.b)(v[0]))return(0,w.t)(v[1])>=v[0].length()?v[0].slice(0):v[0].slice(0,(0,w.t)(v[1]));throw new Error("Top cannot accept this parameter type")})},st.first=function(u,o){return ie(u,o,function(f,d,v){return(0,w.p)(v,1,1),(0,w.a)(v[0])?0===v[0].length?null:v[0][0]:(0,w.b)(v[0])?0===v[0].length()?null:v[0].get(0):null})},st.sort=function(u,o){return ie(u,o,function(f,d,v){(0,w.p)(v,1,2);let W=v[0];if((0,w.b)(W)&&(W=W.toArray()),!1===(0,w.a)(W))throw new Error("Illegal Argument");if(v.length>1){if(!1===(0,w.c)(v[1]))throw new Error("Illegal Argument");let ye=W;const xe=at(v[1]);return ye=nn(ye,function(_e,Me){return xe(_e,Me)}),ye}{let ye=W;if(0===ye.length)return[];const xe={};for(let ke=0;ke<ye.length;ke++){const Be=Yt(ye[ke]);""!==Be&&(xe[Be]=!0)}if(!0===xe.Array||!0===xe.Dictionary||!0===xe.Feature||!0===xe.Point||!0===xe.Polygon||!0===xe.Polyline||!0===xe.Multipoint||!0===xe.Extent||!0===xe.Function)return ye.slice(0);let _e=0,Me="";for(const ke in xe)_e++,Me=ke;return ye=_e>1||"String"===Me?nn(ye,function(ke,Be){if(null==ke||ke===w.v)return null==Be||Be===w.v?0:1;if(null==Be||Be===w.v)return-1;const Lt=(0,w.d)(ke),Ht=(0,w.d)(Be);return Lt<Ht?-1:Lt===Ht?0:1}):"Number"===Me?nn(ye,function(ke,Be){return ke-Be}):"Boolean"===Me?nn(ye,function(ke,Be){return ke===Be?0:Be?-1:1}):"Date"===Me?nn(ye,function(ke,Be){return Be-ke}):ye.slice(0),ye}})};for(const u in st)st[u]={value:new w.N(st[u]),valueset:!0,node:null};const xn=function(){};function Vn(u,o){const f=new xn;u||(u={}),o||(o={});const d=new _.Z({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});d.immutable=!1,f.textformatting={value:d,valueset:!0,node:null};for(const v in o)f[v]={value:new w.N(o[v]),native:!0,valueset:!0,node:null};for(const v in u)f[v]=u[v]&&"esri.Graphic"===u[v].declaredClass?{value:ee.Z.createFromGraphic(u[v]),valueset:!0,node:null}:{value:u[v],valueset:!0,node:null};return f}function Yn(u){console.log(u)}function _n(u,o){let f=o.spatialReference;null==f&&(f=new O.Z({wkid:102100}));let d=ue({spatialReference:f,globalScope:Vn(o.vars,o.customfunctions),localScope:null,console:o.console?o.console:Yn,lrucache:o.lrucache,interceptor:o.interceptor,depthCounter:1},u.body[0].body);if(d instanceof w.R&&(d=d.value),d instanceof w.I&&(d=d.value),d===w.v&&(d=null),d===w.k)throw new Error("Cannot return BREAK");if(d===w.m)throw new Error("Cannot return CONTINUE");if(d instanceof fe.Z)throw new Error("Cannot return FUNCTION");if(d instanceof w.N)throw new Error("Cannot return FUNCTION");return d}(xn.prototype=st).infinity={value:Number.POSITIVE_INFINITY,valueset:!0,node:null},xn.prototype.pi={value:Math.PI,valueset:!0,node:null};class kn{constructor(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}insertInnerComments(o,f){if("BlockStatement"===o.type&&0===o.body.length){const d=[];for(let v=this.leading.length-1;v>=0;--v){const W=this.leading[v];f.end.offset>=W.start&&(d.unshift(W.comment),this.leading.splice(v,1),this.trailing.splice(v,1))}d.length&&(o.innerComments=d)}}findTrailingComments(o){let f=[];if(this.trailing.length>0){for(let v=this.trailing.length-1;v>=0;--v){const W=this.trailing[v];W.start>=o.end.offset&&f.unshift(W.comment)}return this.trailing.length=0,f}const d=this.stack[this.stack.length-1];if(d&&d.node.trailingComments){const v=d.node.trailingComments[0];v&&v.range[0]>=o.end.offset&&(f=d.node.trailingComments,delete d.node.trailingComments)}return f}findLeadingComments(o){const f=[];let d;for(;this.stack.length>0;){const v=this.stack[this.stack.length-1];if(!(v&&v.start>=o.start.offset))break;d=v.node,this.stack.pop()}if(d){for(let v=(d.leadingComments?d.leadingComments.length:0)-1;v>=0;--v){const W=d.leadingComments[v];W.range[1]<=o.start.offset&&(f.unshift(W),d.leadingComments.splice(v,1))}return d.leadingComments&&0===d.leadingComments.length&&delete d.leadingComments,f}for(let v=this.leading.length-1;v>=0;--v){const W=this.leading[v];W.start<=o.start.offset&&(f.unshift(W.comment),this.leading.splice(v,1))}return f}visitNode(o,f){if("Program"===o.type&&o.body.length>0)return;this.insertInnerComments(o,f);const d=this.findTrailingComments(f),v=this.findLeadingComments(f);v.length>0&&(o.leadingComments=v),d.length>0&&(o.trailingComments=d),this.stack.push({node:o,start:f.start.offset})}visitComment(o,f){if(this.comments.push(o),this.attach){const d={comment:{type:o.type,value:o.value,range:[f.start.offset,f.end.offset]},start:f.start.offset};o.loc&&(d.comment.loc=o.loc),this.leading.push(d),this.trailing.push(d)}}visit(o,f){"Line"===o.type||"Block"===o.type?this.visitComment(o,f):this.attach&&this.visitNode(o,f)}}function gn(u,o){if(!u)throw new Error("ASSERT: "+o)}class oi{constructor(){this.errors=[],this.tolerant=!1}recordError(o){this.errors.push(o)}tolerate(o){if(!this.tolerant)throw o;this.recordError(o)}constructError(o,f){let d=new Error(o);try{throw d}catch(v){Object.create&&Object.defineProperty&&(d=Object.create(v),Object.defineProperty(d,"column",{value:f}))}return d}createError(o,f,d,v){const ye=this.constructError("Line "+f+": "+v,d);return ye.index=o,ye.lineNumber=f,ye.description=v,ye}throwError(o,f,d,v){throw this.createError(o,f,d,v)}tolerateError(o,f,d,v){const W=this.createError(o,f,d,v);if(!this.tolerant)throw W;this.recordError(W)}}class qe{}class ft extends qe{constructor(o,f){super(),this.type=o,this.value=f}}class yn extends qe{constructor(o){super(),this.elements=o,this.type="ArrayExpression"}}const ln=["=","/=","*=","%=","+=","-="];class Dn extends qe{constructor(o,f,d){super(),this.operator=o,this.left=f,this.right=d,this.type="AssignmentExpression"}}const Dr=["||","&&"];class Rn extends qe{constructor(o,f,d){super(),this.operator=o,this.left=f,this.right=d,this.type=Dr.includes(o)?"LogicalExpression":"BinaryExpression"}}class Wn extends qe{constructor(o){super(),this.body=o,this.type="BlockStatement"}}class Jn extends qe{constructor(){super(...arguments),this.type="BreakStatement"}}class li extends qe{constructor(o,f){super(),this.callee=o,this.args=f,this.type="CallExpression",this.arguments=f}}class Er extends qe{constructor(o,f){super(),this.object=o,this.property=f,this.type="MemberExpression",this.computed=!0}}class vr extends qe{constructor(o,f){super(),this.object=o,this.property=f,this.type="MemberExpression",this.computed=!1}}class ci extends qe{constructor(){super(...arguments),this.type="ContinueStatement"}}class Kn extends qe{constructor(){super(...arguments),this.type="EmptyStatement"}}class xr extends qe{constructor(o){super(),this.expression=o,this.type="ExpressionStatement"}}class Ar extends qe{constructor(o,f,d){super(),this.left=o,this.right=f,this.body=d,this.type="ForInStatement",this.each=!1}}class fi extends qe{constructor(o,f,d,v){super(),this.init=o,this.test=f,this.update=d,this.body=v,this.type="ForStatement"}}class En extends qe{constructor(o,f,d){super(),this.id=o,this.params=f,this.body=d,this.type="FunctionDeclaration",this.generator=!1,this.expression=!1,this.async=!1}}class cn extends qe{constructor(o){super(),this.name=o,this.type="Identifier"}}class fn extends qe{constructor(o,f,d){super(),this.test=o,this.consequent=f,this.alternate=d,this.type="IfStatement"}}class Wt extends qe{constructor(o,f){super(),this.value=o,this.raw=f,this.type="Literal"}}class Cr extends qe{constructor(o){super(),this.properties=o,this.type="ObjectExpression"}}class hi extends qe{constructor(o,f,d,v,W,ye){super(),this.kind=o,this.key=f,this.computed=d,this.value=v,this.method=W,this.shorthand=ye,this.type="Property"}}class di extends qe{constructor(o){super(),this.argument=o,this.type="ReturnStatement"}}class mi extends qe{constructor(o){super(),this.body=o,this.type="Program"}}class wr extends qe{constructor(o,f){super(),this.value=o,this.tail=f,this.type="TemplateElement"}}class $n extends qe{constructor(o,f){super(),this.quasis=o,this.expressions=f,this.type="TemplateLiteral"}}class pi extends qe{constructor(o,f){super(),this.operator=o,this.argument=f,this.type="UnaryExpression",this.prefix=!0}}class Fr extends qe{constructor(o,f,d){super(),this.operator=o,this.argument=f,this.prefix=d,this.type="UpdateExpression"}}class Xn extends qe{constructor(o,f){super(),this.declarations=o,this.kind=f,this.type="VariableDeclaration"}}class gi extends qe{constructor(o,f){super(),this.id=o,this.init=f,this.type="VariableDeclarator"}}const Qn={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDEC0-\uDEEB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D3-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDF00-\uDF1C\uDF27\uDF30-\uDF50\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD46\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E\uDC5F\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},Ze={fromCodePoint:u=>u<65536?String.fromCharCode(u):String.fromCharCode(55296+(u-65536>>10))+String.fromCharCode(56320+(u-65536&1023)),isWhiteSpace:u=>32===u||9===u||11===u||12===u||160===u||u>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(u)>=0,isLineTerminator:u=>10===u||13===u||8232===u||8233===u,isIdentifierStart:u=>36===u||95===u||u>=65&&u<=90||u>=97&&u<=122||92===u||u>=128&&Qn.NonAsciiIdentifierStart.test(Ze.fromCodePoint(u)),isIdentifierPart:u=>36===u||95===u||u>=65&&u<=90||u>=97&&u<=122||u>=48&&u<=57||92===u||u>=128&&Qn.NonAsciiIdentifierPart.test(Ze.fromCodePoint(u)),isDecimalDigit:u=>u>=48&&u<=57,isHexDigit:u=>u>=48&&u<=57||u>=65&&u<=70||u>=97&&u<=102,isOctalDigit:u=>u>=48&&u<=55};function Sr(u){return"0123456789abcdef".indexOf(u.toLowerCase())}function qn(u){return"01234567".indexOf(u)}class yi{constructor(o,f){this.source=o,this.errorHandler=f,this.trackComment=!1,this.isModule=!1,this.length=o.length,this.index=0,this.lineNumber=o.length>0?1:0,this.lineStart=0,this.curlyStack=[]}saveState(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart,curlyStack:this.curlyStack.slice()}}restoreState(o){this.index=o.index,this.lineNumber=o.lineNumber,this.lineStart=o.lineStart,this.curlyStack=o.curlyStack}eof(){return this.index>=this.length}throwUnexpectedToken(o="Unexpected token ILLEGAL"){return this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,o)}tolerateUnexpectedToken(o="Unexpected token ILLEGAL"){this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,o)}skipSingleLineComment(o){let f=[],d=0,v=null;for(this.trackComment&&(f=[],d=this.index-o,v={start:{line:this.lineNumber,column:this.index-this.lineStart-o},end:{line:0,column:0}});!this.eof();){const W=this.source.charCodeAt(this.index);if(++this.index,Ze.isLineTerminator(W))return v&&(v.end={line:this.lineNumber,column:this.index-this.lineStart-1},f.push({multiLine:!1,slice:[d+o,this.index-1],range:[d,this.index-1],loc:v})),13===W&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,f}return v&&(v.end={line:this.lineNumber,column:this.index-this.lineStart},f.push({multiLine:!1,slice:[d+o,this.index],range:[d,this.index],loc:v})),f}skipMultiLineComment(){const o=[];let f=0,d=null;for(this.trackComment&&(f=this.index-2,d={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{line:0,column:0}});!this.eof();){const v=this.source.charCodeAt(this.index);if(Ze.isLineTerminator(v))13===v&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(42===v){if(47===this.source.charCodeAt(this.index+1))return this.index+=2,d&&(d.end={line:this.lineNumber,column:this.index-this.lineStart},o.push({multiLine:!0,slice:[f+2,this.index-2],range:[f,this.index],loc:d})),o;++this.index}else++this.index}return d&&(d.end={line:this.lineNumber,column:this.index-this.lineStart},o.push({multiLine:!0,slice:[f+2,this.index],range:[f,this.index],loc:d})),this.tolerateUnexpectedToken(),o}scanComments(){let o=null;this.trackComment&&(o=[]);let f=0===this.index;for(;!this.eof();){let d=this.source.charCodeAt(this.index);if(Ze.isWhiteSpace(d))++this.index;else if(Ze.isLineTerminator(d))++this.index,13===d&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,f=!0;else if(47===d)if(d=this.source.charCodeAt(this.index+1),47===d){this.index+=2;const v=this.skipSingleLineComment(2);o&&(o=o.concat(v)),f=!0}else{if(42!==d)break;{this.index+=2;const v=this.skipMultiLineComment();o&&(o=o.concat(v))}}else if(f&&45===d){if(45!==this.source.charCodeAt(this.index+1)||62!==this.source.charCodeAt(this.index+2))break;{this.index+=3;const v=this.skipSingleLineComment(3);o&&(o=o.concat(v))}}else{if(60!==d||this.isModule||"!--"!==this.source.slice(this.index+1,this.index+4))break;{this.index+=4;const v=this.skipSingleLineComment(4);o&&(o=o.concat(v))}}}return o}isKeyword(o){switch((o=o.toLowerCase()).length){case 2:return"if"===o||"in"===o;case 3:return"var"===o||"for"===o;case 4:return"else"===o;case 5:return"break"===o;case 6:return"return"===o;case 8:return"function"===o||"continue"===o;default:return!1}}codePointAt(o){let f=this.source.charCodeAt(o);if(f>=55296&&f<=56319){const d=this.source.charCodeAt(o+1);d>=56320&&d<=57343&&(f=1024*(f-55296)+d-56320+65536)}return f}scanHexEscape(o){const f="u"===o?4:2;let d=0;for(let v=0;v<f;++v){if(this.eof()||!Ze.isHexDigit(this.source.charCodeAt(this.index)))return null;d=16*d+Sr(this.source[this.index++])}return String.fromCharCode(d)}scanUnicodeCodePointEscape(){let o=this.source[this.index],f=0;for("}"===o&&this.throwUnexpectedToken();!this.eof()&&(o=this.source[this.index++],Ze.isHexDigit(o.charCodeAt(0)));)f=16*f+Sr(o);return(f>1114111||"}"!==o)&&this.throwUnexpectedToken(),Ze.fromCodePoint(f)}getIdentifier(){const o=this.index++;for(;!this.eof();){const f=this.source.charCodeAt(this.index);if(92===f)return this.index=o,this.getComplexIdentifier();if(f>=55296&&f<57343)return this.index=o,this.getComplexIdentifier();if(!Ze.isIdentifierPart(f))break;++this.index}return this.source.slice(o,this.index)}getComplexIdentifier(){let o,f=this.codePointAt(this.index),d=Ze.fromCodePoint(f);for(this.index+=d.length,92===f&&(117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,o=this.scanUnicodeCodePointEscape()):(o=this.scanHexEscape("u"),null!==o&&"\\"!==o&&Ze.isIdentifierStart(o.charCodeAt(0))||this.throwUnexpectedToken()),d=o);!this.eof()&&(f=this.codePointAt(this.index),Ze.isIdentifierPart(f));)o=Ze.fromCodePoint(f),d+=o,this.index+=o.length,92===f&&(d=d.substr(0,d.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,o=this.scanUnicodeCodePointEscape()):(o=this.scanHexEscape("u"),null!==o&&"\\"!==o&&Ze.isIdentifierPart(o.charCodeAt(0))||this.throwUnexpectedToken()),d+=o);return d}octalToDecimal(o){let f="0"!==o,d=qn(o);return!this.eof()&&Ze.isOctalDigit(this.source.charCodeAt(this.index))&&(f=!0,d=8*d+qn(this.source[this.index++]),"0123".indexOf(o)>=0&&!this.eof()&&Ze.isOctalDigit(this.source.charCodeAt(this.index))&&(d=8*d+qn(this.source[this.index++]))),{code:d,octal:f}}scanIdentifier(){let o;const f=this.index,d=92===this.source.charCodeAt(f)?this.getComplexIdentifier():this.getIdentifier();if(o=1===d.length?3:this.isKeyword(d)?4:"null"===d.toLowerCase()?5:"true"===d.toLowerCase()||"false"===d.toLowerCase()?1:3,3!==o&&f+d.length!==this.index){const v=this.index;this.index=f,this.tolerateUnexpectedToken("Keyword must not contain escaped characters"),this.index=v}return{type:o,value:d,lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}}scanPunctuator(){const o=this.index;let f=this.source[this.index];switch(f){case"(":case"{":"{"===f&&this.curlyStack.push("{"),++this.index;break;case".":case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;case"}":++this.index,this.curlyStack.pop();break;default:f=this.source.substr(this.index,4),">>>="===f?this.index+=4:(f=f.substr(0,3),"==="===f||"!=="===f||">>>"===f||"<<="===f||">>="===f||"**="===f?this.index+=3:(f=f.substr(0,2),"&&"===f||"||"===f||"=="===f||"!="===f||"+="===f||"-="===f||"*="===f||"/="===f||"++"===f||"--"===f||"<<"===f||">>"===f||"&="===f||"|="===f||"^="===f||"%="===f||"<="===f||">="===f||"=>"===f||"**"===f?this.index+=2:(f=this.source[this.index],"<>=!+-*%&|^/".indexOf(f)>=0&&++this.index)))}return this.index===o&&this.throwUnexpectedToken(),{type:7,value:f,lineNumber:this.lineNumber,lineStart:this.lineStart,start:o,end:this.index}}scanHexLiteral(o){let f="";for(;!this.eof()&&Ze.isHexDigit(this.source.charCodeAt(this.index));)f+=this.source[this.index++];return 0===f.length&&this.throwUnexpectedToken(),Ze.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+f,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:o,end:this.index}}scanBinaryLiteral(o){let f="";for(;!this.eof();){const d=this.source[this.index];if("0"!==d&&"1"!==d)break;f+=this.source[this.index++]}if(0===f.length&&this.throwUnexpectedToken(),!this.eof()){const d=this.source.charCodeAt(this.index);(Ze.isIdentifierStart(d)||Ze.isDecimalDigit(d))&&this.throwUnexpectedToken()}return{type:6,value:parseInt(f,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:o,end:this.index}}scanOctalLiteral(o,f){let d="",v=!1;for(Ze.isOctalDigit(o.charCodeAt(0))?(v=!0,d="0"+this.source[this.index++]):++this.index;!this.eof()&&Ze.isOctalDigit(this.source.charCodeAt(this.index));)d+=this.source[this.index++];return v||0!==d.length||this.throwUnexpectedToken(),(Ze.isIdentifierStart(this.source.charCodeAt(this.index))||Ze.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(d,8),octal:v,lineNumber:this.lineNumber,lineStart:this.lineStart,start:f,end:this.index}}scanNumericLiteral(){const o=this.index;let f=this.source[o];gn(Ze.isDecimalDigit(f.charCodeAt(0))||"."===f,"Numeric literal must start with a decimal digit or a decimal point");let d="";if("."!==f){if(d=this.source[this.index++],f=this.source[this.index],"0"===d){if("x"===f||"X"===f)return++this.index,this.scanHexLiteral(o);if("b"===f||"B"===f)return++this.index,this.scanBinaryLiteral(o);if("o"===f||"O"===f)return this.scanOctalLiteral(f,o)}for(;Ze.isDecimalDigit(this.source.charCodeAt(this.index));)d+=this.source[this.index++];f=this.source[this.index]}if("."===f){for(d+=this.source[this.index++];Ze.isDecimalDigit(this.source.charCodeAt(this.index));)d+=this.source[this.index++];f=this.source[this.index]}if("e"===f||"E"===f)if(d+=this.source[this.index++],f=this.source[this.index],"+"!==f&&"-"!==f||(d+=this.source[this.index++]),Ze.isDecimalDigit(this.source.charCodeAt(this.index)))for(;Ze.isDecimalDigit(this.source.charCodeAt(this.index));)d+=this.source[this.index++];else this.throwUnexpectedToken();return Ze.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(d),lineNumber:this.lineNumber,lineStart:this.lineStart,start:o,end:this.index}}scanStringLiteral(){const o=this.index;let f=this.source[o];gn("'"===f||'"'===f,"String literal must starts with a quote"),++this.index;let d=!1,v="";for(;!this.eof();){let W=this.source[this.index++];if(W===f){f="";break}if("\\"===W)if(W=this.source[this.index++],W&&Ze.isLineTerminator(W.charCodeAt(0)))++this.lineNumber,"\r"===W&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(W){case"u":if("{"===this.source[this.index])++this.index,v+=this.scanUnicodeCodePointEscape();else{const ye=this.scanHexEscape(W);null===ye&&this.throwUnexpectedToken(),v+=ye}break;case"x":{const ye=this.scanHexEscape(W);null===ye&&this.throwUnexpectedToken("Invalid hexadecimal escape sequence"),v+=ye;break}case"n":v+="\n";break;case"r":v+="\r";break;case"t":v+="\t";break;case"b":v+="\b";break;case"f":v+="\f";break;case"v":v+="\v";break;case"8":case"9":v+=W,this.tolerateUnexpectedToken();break;default:if(W&&Ze.isOctalDigit(W.charCodeAt(0))){const ye=this.octalToDecimal(W);d=ye.octal||d,v+=String.fromCharCode(ye.code)}else v+=W}else{if(Ze.isLineTerminator(W.charCodeAt(0)))break;v+=W}}return""!==f&&(this.index=o,this.throwUnexpectedToken()),{type:8,value:v,octal:d,lineNumber:this.lineNumber,lineStart:this.lineStart,start:o,end:this.index}}scanTemplate(){let o="",f=!1;const d=this.index,v="`"===this.source[d];let W=!1,ye=2;for(++this.index;!this.eof();){let xe=this.source[this.index++];if("`"===xe){ye=1,W=!0,f=!0;break}if("$"===xe){if("{"===this.source[this.index]){this.curlyStack.push("${"),++this.index,f=!0;break}o+=xe}else if("\\"===xe)if(xe=this.source[this.index++],Ze.isLineTerminator(xe.charCodeAt(0)))++this.lineNumber,"\r"===xe&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(xe){case"n":o+="\n";break;case"r":o+="\r";break;case"t":o+="\t";break;case"u":if("{"===this.source[this.index])++this.index,o+=this.scanUnicodeCodePointEscape();else{const _e=this.index,Me=this.scanHexEscape(xe);null!==Me?o+=Me:(this.index=_e,o+=xe)}break;case"x":{const _e=this.scanHexEscape(xe);null===_e&&this.throwUnexpectedToken("Invalid hexadecimal escape sequence"),o+=_e;break}case"b":o+="\b";break;case"f":o+="\f";break;case"v":o+="\v";break;default:"0"===xe?(Ze.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken("Octal literals are not allowed in template strings."),o+="\0"):Ze.isOctalDigit(xe.charCodeAt(0))?this.throwUnexpectedToken("Octal literals are not allowed in template strings."):o+=xe}else Ze.isLineTerminator(xe.charCodeAt(0))?(++this.lineNumber,"\r"===xe&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index,o+="\n"):o+=xe}return f||this.throwUnexpectedToken(),v||this.curlyStack.pop(),{type:10,value:this.source.slice(d+1,this.index-ye),cooked:o,head:v,tail:W,lineNumber:this.lineNumber,lineStart:this.lineStart,start:d,end:this.index}}testRegExp(o,f){let v=o;f.indexOf("u")>=0&&(v=v.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,(W,ye,xe)=>{const _e=parseInt(ye||xe,16);return _e>1114111&&this.throwUnexpectedToken("Invalid regular expression"),_e<=65535?String.fromCharCode(_e):"\uffff"}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"\uffff"));try{RegExp(v)}catch(W){this.throwUnexpectedToken("Invalid regular expression")}try{return new RegExp(o,f)}catch(W){return null}}scanRegExpBody(){let o=this.source[this.index];gn("/"===o,"Regular expression literal must start with a slash");let f=this.source[this.index++],d=!1,v=!1;for(;!this.eof();)if(o=this.source[this.index++],f+=o,"\\"===o)o=this.source[this.index++],Ze.isLineTerminator(o.charCodeAt(0))&&this.throwUnexpectedToken("Invalid regular expression: missing /"),f+=o;else if(Ze.isLineTerminator(o.charCodeAt(0)))this.throwUnexpectedToken("Invalid regular expression: missing /");else if(d)"]"===o&&(d=!1);else{if("/"===o){v=!0;break}"["===o&&(d=!0)}return v||this.throwUnexpectedToken("Invalid regular expression: missing /"),f.substr(1,f.length-2)}scanRegExpFlags(){let o="",f="";for(;!this.eof();){let d=this.source[this.index];if(!Ze.isIdentifierPart(d.charCodeAt(0)))break;if(++this.index,"\\"!==d||this.eof())f+=d,o+=d;else if(d=this.source[this.index],"u"===d){++this.index;let v=this.index;const W=this.scanHexEscape("u");if(null!==W)for(f+=W,o+="\\u";v<this.index;++v)o+=this.source[v];else this.index=v,f+="u",o+="\\u";this.tolerateUnexpectedToken()}else o+="\\",this.tolerateUnexpectedToken()}return f}scanRegExp(){const o=this.index,f=this.scanRegExpBody(),d=this.scanRegExpFlags();return{type:9,value:"",pattern:f,flags:d,regex:this.testRegExp(f,d),lineNumber:this.lineNumber,lineStart:this.lineStart,start:o,end:this.index}}lex(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};const o=this.source.charCodeAt(this.index);return Ze.isIdentifierStart(o)?this.scanIdentifier():40===o||41===o||59===o?this.scanPunctuator():39===o||34===o?this.scanStringLiteral():46===o?Ze.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():Ze.isDecimalDigit(o)?this.scanNumericLiteral():96===o||125===o&&"${"===this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():o>=55296&&o<57343&&Ze.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()}}const Di={1:"Boolean",2:"<end>",3:"Identifier",4:"Keyword",5:"Null",6:"Numeric",7:"Punctuator",8:"String",9:"RegularExpression",10:"Template"};class Ei{constructor(o,f={},d){this.config={range:"boolean"==typeof f.range&&f.range,loc:"boolean"==typeof f.loc&&f.loc,source:null,tokens:"boolean"==typeof f.tokens&&f.tokens,comment:"boolean"==typeof f.comment&&f.comment,tolerant:"boolean"==typeof f.tolerant&&f.tolerant,globalReturn:!!f.globalReturn},this.config.loc&&f.source&&null!==f.source&&(this.config.source=String(f.source)),this.delegate=d,this.errorHandler=new oi,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new yi(o,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={allowIn:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,curlyParsing:"asObject"},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}tolerateError(o,...f){const d=f.slice(),v=o.replace(/%(\d)/g,(_e,Me)=>(gn(Me<d.length,"Message reference must be in range"),d[Me]));this.errorHandler.tolerateError(this.lastMarker.index,this.scanner.lineNumber,this.lastMarker.column+1,v)}unexpectedTokenError(o,f){let d,v=f||"Unexpected token %0";return o?(f||(v=2===o.type?"Unexpected end of input":3===o.type?"Unexpected identifier":6===o.type?"Unexpected number":8===o.type?"Unexpected string":10===o.type?"Unexpected quasi %0":"Unexpected token %0"),d=o.value.toString()):d="ILLEGAL",v=v.replace("%0",d),o&&"number"==typeof o.lineNumber?this.errorHandler.createError(o.start,o.lineNumber,o.start-(this.lastMarker.index-this.lastMarker.column)+1,v):this.errorHandler.createError(this.lastMarker.index,this.lastMarker.line,this.lastMarker.column+1,v)}throwUnexpectedToken(o,f){throw this.unexpectedTokenError(o,f)}tolerateUnexpectedToken(o,f){this.errorHandler.tolerate(this.unexpectedTokenError(o,f))}collectComments(){if(this.config.comment){const o=this.scanner.scanComments();if(o&&o.length>0&&this.delegate)for(let f=0;f<o.length;++f){const d=o[f],v=new ft(d.multiLine?"Block":"Line",this.scanner.source.slice(d.slice[0],d.slice[1]));this.config.range&&(v.range=d.range),this.config.loc&&(v.loc=d.loc),this.delegate(v,{start:{line:d.loc.start.line,column:d.loc.start.column,offset:d.range[0]},end:{line:d.loc.end.line,column:d.loc.end.column,offset:d.range[1]}})}}else this.scanner.scanComments()}peekAhead(o){const d=this.scanner.saveState();o.call(this,()=>(this.scanner.scanComments(),this.scanner.lex())),this.scanner.restoreState(d)}getTokenRaw(o){return this.scanner.source.slice(o.start,o.end)}convertToken(o){const f={type:Di[o.type],value:this.getTokenRaw(o)};return this.config.range&&(f.range=[o.start,o.end]),this.config.loc&&(f.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),9===o.type&&(f.regex={pattern:o.pattern,flags:o.flags}),f}nextToken(){const o=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);const f=this.scanner.lex();return this.hasLineTerminator=o.lineNumber!==f.lineNumber,this.lookahead=f,this.config.tokens&&2!==f.type&&this.tokens.push(this.convertToken(f)),o}createNode(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}}startNode(o,f=0){let d=o.start-o.lineStart,v=o.lineNumber;return d<0&&(d+=f,v--),{index:o.start,line:v,column:d}}finalize(o,f){return this.config.range&&(f.range=[o.index,this.lastMarker.index]),this.config.loc&&(f.loc={start:{line:o.line,column:o.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(f.loc.source=this.config.source)),this.delegate&&this.delegate(f,{start:{line:o.line,column:o.column,offset:o.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}}),f}expect(o){const f=this.nextToken();7===f.type&&f.value===o||this.throwUnexpectedToken(f)}expectCommaSeparator(){if(this.config.tolerant){const o=this.lookahead;7===o.type&&","===o.value?this.nextToken():7===o.type&&";"===o.value?(this.nextToken(),this.tolerateUnexpectedToken(o)):this.tolerateUnexpectedToken(o,"Unexpected token %0")}else this.expect(",")}expectKeyword(o){const f=this.nextToken();4===f.type&&f.value.toString().toLowerCase()===o.toLowerCase()||this.throwUnexpectedToken(f)}match(o){return 7===this.lookahead.type&&this.lookahead.value===o}matchKeyword(o){return 4===this.lookahead.type&&this.lookahead.value.toLowerCase()===o.toLowerCase()}matchContextualKeyword(o){return 3===this.lookahead.type&&this.lookahead.value===o}matchAssign(){return 7===this.lookahead.type&&ln.includes(this.lookahead.value)}isolateCoverGrammar(o){const f=this.context.isBindingElement,d=this.context.isAssignmentTarget,v=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;const W=o.call(this);return null!==this.context.firstCoverInitializedNameError&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=f,this.context.isAssignmentTarget=d,this.context.firstCoverInitializedNameError=v,W}inheritCoverGrammar(o){const f=this.context.isBindingElement,d=this.context.isAssignmentTarget,v=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;const W=o.call(this);return this.context.isBindingElement=this.context.isBindingElement&&f,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&d,this.context.firstCoverInitializedNameError=v||this.context.firstCoverInitializedNameError,W}consumeSemicolon(){this.match(";")?this.nextToken():this.hasLineTerminator||(2===this.lookahead.type||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)}parsePrimaryExpression(){const o=this.createNode();let f,d,v;switch(this.lookahead.type){case 3:f=this.finalize(o,new cn(this.nextToken().value));break;case 6:case 8:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,d=this.nextToken(),v=this.getTokenRaw(d),f=this.finalize(o,new Wt(d.value,v));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,d=this.nextToken(),v=this.getTokenRaw(d),f=this.finalize(o,new Wt("true"===d.value.toString().toLowerCase(),v));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,d=this.nextToken(),v=this.getTokenRaw(d),f=this.finalize(o,new Wt(null,v));break;case 10:f=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,f=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":f=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":f=this.inheritCoverGrammar(this.parseObjectInitializer);break;default:f=this.throwUnexpectedToken(this.nextToken())}break;case 4:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,f=this.throwUnexpectedToken(this.nextToken());break;default:f=this.throwUnexpectedToken(this.nextToken())}return f}parseArrayInitializer(){const o=this.createNode(),f=[];for(this.expect("[");!this.match("]");)this.match(",")?(this.nextToken(),f.push(null)):(f.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(","));return this.expect("]"),this.finalize(o,new yn(f))}parseObjectPropertyKey(){const o=this.createNode(),f=this.nextToken();let d;switch(f.type){case 8:case 6:d=this.finalize(o,new Wt(f.value,this.getTokenRaw(f)));break;case 3:case 1:case 5:case 4:d=this.finalize(o,new cn(f.value));break;default:d=this.throwUnexpectedToken(f)}return d}parseObjectProperty(){const o=this.createNode(),f=this.lookahead;let d=!1,W=!1,ye=null;if(3===f.type){const Me=f.value;this.nextToken(),d=this.match("["),ye=this.finalize(o,new cn(Me))}else this.match("*")?this.nextToken():(d=this.match("["),ye=this.parseObjectPropertyKey());ye||this.throwUnexpectedToken(this.lookahead);let xe=null;return this.match(":")?(this.nextToken(),xe=this.inheritCoverGrammar(this.parseAssignmentExpression)):3===f.type?(W=!0,xe=this.finalize(o,new cn(f.value))):this.throwUnexpectedToken(this.nextToken()),this.finalize(o,new hi("init",ye,d,xe,!1,W))}parseObjectInitializer(){const o=this.createNode();this.expect("{");const f=[];for(;!this.match("}");)f.push(this.parseObjectProperty()),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(o,new Cr(f))}parseTemplateHead(){gn(this.lookahead.head,"Template literal must start with a template head");const o=this.createNode(),f=this.nextToken();return this.finalize(o,new wr({raw:f.value,cooked:f.cooked},f.tail))}parseTemplateElement(){10!==this.lookahead.type&&this.throwUnexpectedToken();const o=this.createNode(),f=this.nextToken();return this.finalize(o,new wr({raw:f.value,cooked:f.cooked},f.tail))}parseTemplateLiteral(){const o=this.createNode(),f=[],d=[];let v=this.parseTemplateHead();for(d.push(v);!v.tail;)f.push(this.parseExpression()),v=this.parseTemplateElement(),d.push(v);return this.finalize(o,new $n(d,f))}parseGroupExpression(){this.expect("("),this.context.isBindingElement=!0;const o=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.expect(")"),this.context.isBindingElement=!1,o}parseArguments(){this.expect("(");const o=[];if(!this.match(")"))for(;;){const f=this.isolateCoverGrammar(this.parseAssignmentExpression);if(o.push(f),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),o}isIdentifierName(o){return 3===o.type||4===o.type||1===o.type||5===o.type}parseIdentifierName(){const o=this.createNode(),f=this.nextToken();return this.isIdentifierName(f)||this.throwUnexpectedToken(f),this.finalize(o,new cn(f.value))}parseLeftHandSideExpressionAllowCall(){const o=this.lookahead,f=this.context.allowIn;this.context.allowIn=!0;let d=this.inheritCoverGrammar(this.parsePrimaryExpression);for(;;)if(this.match("(")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;const v=this.parseArguments();d=this.finalize(this.startNode(o),new li(d,v))}else if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");const v=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),d=this.finalize(this.startNode(o),new Er(d,v))}else{if(!this.match("."))break;{this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");const v=this.parseIdentifierName();d=this.finalize(this.startNode(o),new vr(d,v))}}return this.context.allowIn=f,d}parseLeftHandSideExpression(){gn(this.context.allowIn,"callee of new expression always allow in keyword.");const o=this.startNode(this.lookahead);let f=this.inheritCoverGrammar(this.parsePrimaryExpression);for(;;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");const d=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),f=this.finalize(o,new Er(f,d))}else{if(!this.match("."))break;{this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");const d=this.parseIdentifierName();f=this.finalize(o,new vr(f,d))}}return f}parseUpdateExpression(){let o;const f=this.lookahead;if(this.match("++")||this.match("--")){const d=this.startNode(f),v=this.nextToken();o=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.isAssignmentTarget||this.tolerateError("Invalid left-hand side in assignment"),o=this.finalize(d,new Fr(v.value,o,!0)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(o=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&7===this.lookahead.type&&(this.match("++")||this.match("--"))){this.context.isAssignmentTarget||this.tolerateError("Invalid left-hand side in assignment"),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;const d=this.nextToken().value,v=!1;o=this.finalize(this.startNode(f),new Fr(d,o,v))}return o}parseUnaryExpression(){let o;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")){const f=this.startNode(this.lookahead),d=this.nextToken();o=this.inheritCoverGrammar(this.parseUnaryExpression),o=this.finalize(f,new pi(d.value,o)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else o=this.parseUpdateExpression();return o}binaryPrecedence(o){const f=o.value;let d;return d=7===o.type?this.operatorPrecedence[f]||0:4===o.type&&this.context.allowIn&&"in"===f?12:0,d}parseBinaryExpression(){const o=this.lookahead;let f=this.inheritCoverGrammar(this.parseUnaryExpression);const d=this.lookahead;let v=this.binaryPrecedence(d);if(v>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;const W=[o,this.lookahead];let ye=f,xe=this.inheritCoverGrammar(this.parseUnaryExpression);const _e=[ye,d.value,xe],Me=[v];for(;v=this.binaryPrecedence(this.lookahead),!(v<=0);){for(;_e.length>2&&v<=Me[Me.length-1];){xe=_e.pop();const Lt=_e.pop();Me.pop(),ye=_e.pop(),W.pop();const Ht=W[W.length-1],Un=this.startNode(Ht,Ht.lineStart);_e.push(this.finalize(Un,new Rn(Lt,ye,xe)))}_e.push(this.nextToken().value),Me.push(v),W.push(this.lookahead),_e.push(this.inheritCoverGrammar(this.parseUnaryExpression))}let ke=_e.length-1;f=_e[ke];let Be=W.pop();for(;ke>1;){const Lt=W.pop();if(!Lt)break;const Un=this.startNode(Lt,Be&&Be.lineStart);f=this.finalize(Un,new Rn(_e[ke-1],_e[ke-2],f)),ke-=2,Be=Lt}}return f}parseAssignmentExpression(){const o=this.lookahead;let f=o,d=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.matchAssign()){this.context.isAssignmentTarget||this.tolerateError("Invalid left-hand side in assignment"),this.match("=")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1),f=this.nextToken();const v=f.value,W=this.isolateCoverGrammar(this.parseAssignmentExpression);d=this.finalize(this.startNode(o),new Dn(v,d,W)),this.context.firstCoverInitializedNameError=null}return d}parseExpression(){return this.isolateCoverGrammar(this.parseAssignmentExpression)}parseStatementListItem(){let o;return this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,o=4===this.lookahead.type&&"function"===this.lookahead.value?this.parseFunctionDeclaration():this.parseStatement(),o}parseBlock(){const o=this.createNode();this.expect("{");const f=[];for(;!this.match("}");)f.push(this.parseStatementListItem());return this.expect("}"),this.finalize(o,new Wn(f))}parseObjectStatement(){const o=this.createNode(),f=this.parseObjectInitializer();return this.finalize(o,new xr(f))}parseBlockOrObjectStatement(){let o="asObject"===this.context.curlyParsing;return"asObjectOrBlock"===this.context.curlyParsing&&this.peekAhead(f=>{let d=f();3!==d.type&&8!==d.type||(d=f(),7===d.type&&":"===d.value&&(o=!0))}),o?this.parseObjectStatement():this.parseBlock()}parseVariableIdentifier(){const o=this.createNode(),f=this.nextToken();return 3!==f.type&&this.throwUnexpectedToken(f,"Identifier expected"),this.finalize(o,new cn(f.value))}parseVariableDeclaration(o){const f=this.createNode(),d=this.parseVariableIdentifier();let v=null;return this.match("=")?(this.nextToken(),v=this.isolateCoverGrammar(this.parseAssignmentExpression)):"Identifier"===d.type||o.inFor||this.expect("="),this.finalize(f,new gi(d,v))}parseVariableDeclarationList(o){const f=[this.parseVariableDeclaration(o)];for(;this.match(",");)this.nextToken(),f.push(this.parseVariableDeclaration(o));return f}parseVariableStatement(){const o=this.createNode();this.expectKeyword("var");const f=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(o,new Xn(f,"var"))}parseEmptyStatement(){const o=this.createNode();return this.expect(";"),this.finalize(o,new Kn)}parseExpressionStatement(){const o=this.createNode(),f=this.parseExpression();return this.consumeSemicolon(),this.finalize(o,new xr(f))}parseIfClause(){const o=this.context.curlyParsing;this.context.curlyParsing="asObjectOrBlock";const f=this.parseStatement();return this.context.curlyParsing=o,f}parseIfStatement(){const o=this.createNode();let f,d=null;this.expectKeyword("if"),this.expect("(");const v=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),f=this.finalize(this.createNode(),new Kn)):(this.expect(")"),f=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),d=this.parseIfClause())),this.finalize(o,new fn(v,f,d))}parseForStatement(){let o=null,f=null,d=null,v=null,W=null;const ye=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){const _e=this.createNode();this.nextToken();const Me=this.context.allowIn;this.context.allowIn=!1;const ke=this.parseVariableDeclarationList({inFor:!0});this.context.allowIn=Me,1===ke.length&&this.matchKeyword("in")?(ke[0].init&&this.tolerateError("%0 loop variable declaration may not have an initializer","for-in"),v=this.finalize(_e,new Xn(ke,"var")),this.nextToken(),W=this.parseExpression()):(o=this.finalize(_e,new Xn(ke,"var")),this.expect(";"))}else{const _e=this.context.isBindingElement,Me=this.context.isAssignmentTarget,ke=this.context.firstCoverInitializedNameError,Be=this.context.allowIn;this.context.allowIn=!1,o=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=Be,this.matchKeyword("in")?(this.context.isAssignmentTarget&&"AssignmentExpression"!==o.type||this.tolerateError("Invalid left-hand side in for-in"),this.nextToken(),v=o,W=this.parseExpression(),o=null):(this.context.isBindingElement=_e,this.context.isAssignmentTarget=Me,this.context.firstCoverInitializedNameError=ke,this.expect(";"))}let xe;if(v||(this.match(";")||(f=this.isolateCoverGrammar(this.parseExpression)),this.expect(";"),this.match(")")||(d=this.isolateCoverGrammar(this.parseExpression))),!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),xe=this.finalize(this.createNode(),new Kn);else{this.expect(")");const _e=this.context.inIteration,Me=this.context.curlyParsing;this.context.inIteration=!0,this.context.curlyParsing="asObjectOrBlock",xe=this.isolateCoverGrammar(this.parseStatement),this.context.curlyParsing=Me,this.context.inIteration=_e}return this.finalize(ye,v&&W?new Ar(v,W,xe):new fi(o,f,d,xe))}parseContinueStatement(){const o=this.createNode();return this.expectKeyword("continue"),this.consumeSemicolon(),this.finalize(o,new ci)}parseBreakStatement(){const o=this.createNode();return this.expectKeyword("break"),this.consumeSemicolon(),this.finalize(o,new Jn)}parseReturnStatement(){this.config.globalReturn||this.context.inFunctionBody||this.tolerateError("Illegal return statement");const o=this.createNode();this.expectKeyword("return");const f=(this.match(";")||this.match("}")||this.hasLineTerminator||2===this.lookahead.type)&&8!==this.lookahead.type&&10!==this.lookahead.type?null:this.parseExpression();return this.consumeSemicolon(),this.finalize(o,new di(f))}parseStatement(){let o;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 3:o=this.parseExpressionStatement();break;case 7:{const f=this.lookahead.value;o="{"===f?this.parseBlockOrObjectStatement():"("===f?this.parseExpressionStatement():";"===f?this.parseEmptyStatement():this.parseExpressionStatement();break}case 4:switch(this.lookahead.value.toLowerCase()){case"break":o=this.parseBreakStatement();break;case"continue":o=this.parseContinueStatement();break;case"for":o=this.parseForStatement();break;case"function":o=this.parseFunctionDeclaration();break;case"if":o=this.parseIfStatement();break;case"return":o=this.parseReturnStatement();break;case"var":o=this.parseVariableStatement();break;default:o=this.parseExpressionStatement()}break;default:o=this.throwUnexpectedToken(this.lookahead)}return o}parseFunctionSourceElements(){const o=this.createNode();this.expect("{");const f=this.context.inIteration,d=this.context.inFunctionBody;this.context.inIteration=!1,this.context.inFunctionBody=!0;const v=[];for(;2!==this.lookahead.type&&!this.match("}");)v.push(this.parseStatementListItem());return this.expect("}"),this.context.inIteration=f,this.context.inFunctionBody=d,this.finalize(o,new Wn(v))}parseFormalParameters(){const o=[];if(this.expect("("),!this.match(")"))for(;2!==this.lookahead.type&&(o.push(this.parseVariableIdentifier()),!this.match(")"))&&(this.expect(","),!this.match(")")););return this.expect(")"),o}parseFunctionDeclaration(){const o=this.createNode();this.expectKeyword("function");const f=this.parseVariableIdentifier(),d=this.parseFormalParameters(),v=this.parseFunctionSourceElements();return this.finalize(o,new En(f,d,v))}parseScript(){const o=this.createNode(),f=[];for(;2!==this.lookahead.type;)f.push(this.parseStatementListItem());return this.finalize(o,new mi(f))}}function Tr(u,o,f){let d=null;const v=(Me,ke)=>{f&&f(Me,ke),d&&d.visit(Me,ke)};let W="function"==typeof f?v:void 0,ye=!1;if(o){ye="boolean"==typeof o.comment&&o.comment;const Me="boolean"==typeof o.attachComment&&o.attachComment;(ye||Me)&&(d=new kn,d.attach=Me,o.comment=!0,W=v)}const xe=new Ei(u,o,W),_e=xe.parseScript();return ye&&d&&(_e.comments=d.comments),xe.config.tokens&&(_e.tokens=xe.tokens),xe.config.tolerant&&(_e.errors=xe.errorHandler.errors),_e}function br(u,o=[]){const f=Tr("function _() { "+u+"\n}");if(null==f.body)throw new Error("No formula provided.");if(0===f.body.length)throw new Error("No formula provided.");if(0===f.body.length)throw new Error("No formula provided.");if("BlockStatement"!==f.body[0].body.type)throw new Error("Invalid formula content.");const d=(0,Z.UA)(f);if(""!==d)throw new Error(d);return(0,Z.dN)(f,o),f}var er=te(67474);const Fi=["feature","angle","bearing","centroid","envelopeintersects","extent","geometry","isselfintersecting","ringisclockwise"],Ir=function(){if((0,er.Z)("csp-restrictions"))return!1;try{return new Function("function* test() {}; return true")()}catch(u){return!1}}();let Nr=!1,Tt=!1,Et=null,tr=[];function hn(u,o){return!0===o.useAsync||!0===u.isAsync?function(u,o){if(null===Et)throw new Error("Async Arcade must be enabled for this script");return(0,er.Z)("csp-restrictions")||!1===Ir?function(f){return Et.executeScript(u,f)}:G(u,o,!0)}(u,o):(0,er.Z)("csp-restrictions")?function(f){return _n(u,f)}:G(u,o)}function nr(u,o=[]){return br(u,o)}function Jt(u,o){if(!0===o.useAsync||!0===u.isAsync){if(null===Et)throw new Error("Async Arcade must be enabled for this script");return Et.executeScript(u,o)}return _n(u,o)}function rn(u,o){return function(u,o){return(0,Z.bV)(u,o)}(u,o)}function vn(u){return function(u){return(0,Z.Kq)(u)}(u)}function Cn(u,o=[]){return void 0===u.usesGeometry&&(0,Z.dN)(u,o),!0===u.usesGeometry}let rr=null;function ir(){return rr||(rr=(0,pe.$6)([Promise.all([te.e(6536),te.e(8592),te.e(7951)]).then(te.bind(te,67951)),Promise.resolve().then(te.bind(te,90470))]).then(([u,o])=>(Tt=!0,o.setGeometryEngine(u),!0)),rr)}let wn=null;function Bn(){return null!==wn||(wn=te.e(3789).then(te.bind(te,33789)).then(u=>(bt([u],"async"),!0)).then(()=>Promise.all([te.e(3789),te.e(9013)]).then(te.bind(te,49013))).then(u=>{Et=u;for(const o of tr)Et.extend(o),bt(o,"async");return tr=null,!0})),wn}function _r(){return Nr}function Mr(){return!!Et}function Ot(){return Tt}let sr=null;function Je(){return sr||(sr=Bn().then(()=>(0,pe.$6)([Promise.all([te.e(1122),te.e(4233),te.e(5949)]).then(te.bind(te,65949)),Promise.all([te.e(1122),te.e(4233),te.e(5949),te.e(524)]).then(te.bind(te,20524)),Promise.all([te.e(1122),te.e(4233),te.e(7346)]).then(te.bind(te,97346)),Promise.all([te.e(1122),te.e(9485)]).then(te.bind(te,89485)),te.e(3445).then(te.bind(te,83445))]).then(([u,o,f,d,v])=>(_t=u,Et.extend([o,f,d,v]),bt([o,f,d,v],"async"),Nr=!0,!0))),sr)}function kr(u,o=[]){return void 0===u.usesFeatureSet&&(0,Z.dN)(u,o),!0===u.usesFeatureSet}function Lr(u,o,f=[],d=!1){return(0,pe.Ue)((v,W)=>{const ye="string"==typeof u?nr(u):u,xe=[];ye&&(!1===Ot()&&(Cn(ye)||d)&&xe.push(ir()),!1===Mr()&&(!0===ye.isAsync||o)&&xe.push(Bn()),!1===_r()&&(kr(ye)||function(u,o){if(o){for(const f of o)if(rn(u,f))return!0;return!1}return!1}(ye,f))&&xe.push(Je())),xe.length?(0,pe.$6)(xe).then(()=>{v(!0)},W):v(!0)})}function ar(u){if(Cn(u))return!0;const o=(0,Z.Vf)(u);let f=!1;for(let d=0;d<o.length;d++)if(Fi.indexOf(o[d])>-1){f=!0;break}return f}let _t=null;function Fn(){return _t}var Ur=Object.freeze({__proto__:null,compileScript:hn,extend:function(u){(function(u){const o={mode:"sync",compiled:!1,functions:{},signatures:[],standardFunction:ie,evaluateIdentifier:On,arcadeCustomFunctionHandler:at};for(let f=0;f<u.length;f++)u[f].registerFunctions(o);for(const f in o.functions)st[f]={value:new w.N(o.functions[f]),valueset:!0,node:null},xn.prototype[f]=st[f];for(let f=0;f<o.signatures.length;f++)(0,Z.gW)(o.signatures[f],"async")})(u),bt(u,"sync"),null===Et?tr.push(u):(bt(u,"async"),Et.extend(u))},parseScript:nr,validateScript:function(u,o,f=""){return function(u,o,f){return(0,Z.FS)(u,o,f)}(u,o,f)},scriptCheck:function(u,o,f,d=""){return function(u,o,f,d,v){const W=[],ye="function _() { \n".length-1,xe="function _() { \n"+u+"\n}";try{const _e=Tr(xe,{tolerant:!0,loc:!0,range:!0}),Me=_e.errors;if(Me.length>0)for(let Be=0;Be<Me.length;Be++)W.push({line:Me[Be].lineNumber-2,character:Me[Be].column,reason:Me[Be].description});const ke=(0,Z.AA)(_e,o,f,d,void 0);for(let Be=0;Be<ke.length;Be++)ke[Be].line=ke[Be].line-2,ke[Be].range&&(ke[Be].range=[ke[Be][0]-ye,ke[Be][1]-ye]),ke[Be].loc&&(ke[Be].loc.start.line=ke[Be].loc.start.line-2,ke[Be].loc.end.line=ke[Be].loc.end.line-2),W.push(ke[Be])}catch(_e){try{if("Unexpected token }"===_e.description){const Me=xe.split("\n").length;_e.lineNumber===Me?(_e.index=xe.length-1,W.push({line:_e.lineNumber-4,character:_e.column,reason:"Unexpected end of script"})):(_e.index=xe.length-1,W.push({line:_e.lineNumber-2,character:_e.column,reason:"Unexpected end of script"}))}else W.push({line:_e.lineNumber-2,character:_e.column,reason:_e.description})}catch(Me){}}return W}(u,o,f,d)},parseAndExecuteScript:function(u,o,f=[]){return Jt(br(u,f),o)},executeScript:Jt,referencesMember:rn,referencesFunction:function(u,o){return function(u,o){return(0,Z.w8)(u,o)}(u,o)},extractFieldLiterals:function(u,o=!1){return function(u,o){return(0,Z.mb)(u)}(u)},extractExpectedFieldLiterals:vn,scriptUsesGeometryEngine:Cn,enableGeometrySupport:ir,enableAsyncSupport:Bn,isFeatureSetSupportEnabled:_r,isAsyncEnabled:Mr,isGeometryEnabled:Ot,enableFeatureSetSupport:Je,scriptUsesFeatureSet:kr,scriptIsAsync:function(u,o=[]){return void 0===u.isAsync&&(0,Z.dN)(u,o),!0===u.isAsync},loadScriptDependencies:Lr,scriptTouchesGeometry:ar,featureSetUtils:Fn}),Ni=te(85071),Pr=te(89333);const Zr=/^\$(feature|aggregatedFeatures)\./i,Oi={vars:{$feature:"any",$view:"any"},spatialReference:null};function _i(u){return u.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}function Sn(u){if(!u)return null;try{return nr(u)}catch(o){}return null}function Mi(u,o){const f="string"==typeof u?Sn(u):u;if(!f)return null;try{return hn(f,o=o||(0,Ni.d9)(Oi))}catch(d){}return null}function or(u,o){return{vars:{$feature:null==u?new ee.Z:ee.Z.createFromGraphic(u),$view:o&&o.view},spatialReference:o&&o.sr}}function ki(u,o,f){return ee.Z.createFromGraphicLikeObject(o,u,f)}function Ri(u,o){u.vars.$feature=o}function Bi(u,o){let f;try{f=Jt(u,o)}catch(d){f=null}return f}function Gr(u,o){let f;try{f=u?u(o):null}catch(d){f=null}return f}function Li(u,o){try{return u?u(o):Promise.resolve(null)}catch(f){return Promise.resolve(null)}}function jr(u,o){if(!u)return[];const f="string"==typeof u?Sn(u):u;if(!f)return[];const d=vn(f);let v=new Array;d.forEach(ye=>{Zr.test(ye)&&(ye=ye.replace(Zr,""),v.push(ye))});const W=v.filter(ye=>ye.includes("*"));return v=v.filter(ye=>!W.includes(ye)),o&&W.forEach(ye=>{const xe=new RegExp(`^${ye.split(/\*+/).map(_i).join(".*")}$`,"i");o.forEach(_e=>xe.test(_e)?v.push(_e):null)}),[...new Set(v.sort())]}function zr(u){return rn(u,"$view")}function Mt(u,o){return!!u&&rn(u,o)}function Hr(u){if(u&&(null!=u.spatialReference||null!=u.scale&&null!=u.viewingMode))return{view:u.viewingMode&&null!=u.scale?new _.Z({viewingMode:u.viewingMode,scale:u.scale}):null,sr:u.spatialReference}}function Vr({url:u,spatialReference:o,lrucache:f,interceptor:d}){const v=Fn();return v?v.createFeatureSetCollectionFromService(u,o,f,d):null}function Yr({layer:u,spatialReference:o,outFields:f,returnGeometry:d,lrucache:v,interceptor:W}){if(null===u)return null;const ye=Fn();return ye?ye.constructFeatureSet(u,o,f,null==d||d,v,W):null}function ur(u){if(null===(null==u?void 0:u.map))return null;const o=Fn();return o?o.createFeatureSetCollectionFromMap(u.map,u.spatialReference,u.lrucache,u.interceptor):null}function Wr(u,o,f=[]){return Lr(u,o,f)}function lr(){return ir()}function Jr(){return Je()}function cr(u,o){if(!u)return!1;if("string"==typeof u)return o(u);const f=u;if(function(u){return"simple"===u.type||"class-breaks"===u.type||"unique-value"===u.type||"dot-density"===u.type||"dictionary"===u.type}(f)){if("dot-density"===f.type){const W=f.attributes.some(ye=>o(ye.valueExpression));if(W)return W}const d=f.visualVariables,v=!!d&&d.some(W=>{let ye=o(W.valueExpression);return"size"===W.type&&((0,Pr.iY)(W.minSize)&&(ye=ye||o(W.minSize.valueExpression)),(0,Pr.iY)(W.maxSize)&&(ye=ye||o(W.maxSize.valueExpression))),ye});return!(!("valueExpression"in f)||!o(f.valueExpression))||v}if(function(u){return"esri.layers.support.LabelClass"===u.declaredClass}(f)){const d=f.labelExpressionInfo&&f.labelExpressionInfo.expression;return!(!d||!o(d))||!1}return!!function(u){return"esri.PopupTemplate"===u.declaredClass}(f)&&!!f.expressionInfos&&f.expressionInfos.some(d=>o(d.expression))}function fr(u){const o=Sn(u);return!!o&&ar(o)}function $r(u){return cr(u,fr)}function Ln(u){const o=Sn(u);return!!o&&Cn(o)}function hr(u){return cr(u,Ln)}},46337:(Ke,Re,te)=>{te.d(Re,{s:()=>re}),te(73513);var Y,K,we=te(67474),_=te(60305),ee=te(89977),V=te(90097),se=te(82490),w=te(2679),Z=te(52917);let oe=0;const R=null!=(Y=(0,we.Z)("featurelayer-simplify-thresholds"))?Y:[.5,.5,.5,.5],k=R[0],he=R[1],de=R[2],pe=R[3],Fe=null!=(K=(0,we.Z)("featurelayer-simplify-payload-size-factors"))?K:[1,2,4],ce=Fe[0],ne=Fe[1],De=Fe[2];class re{constructor(O){this.type="FeatureSetReader",this.seen=!1,this.instance=0,this._tx=0,this._ty=0,this._sx=1,this._sy=1,this._deleted=null,this._joined=[],this._objectIdToIndex=null,this._level=0,this.instance=O}static createInstance(){return oe++,oe=oe>65535?0:oe,oe}get isEmpty(){return(0,_.pC)(this._deleted)&&this._deleted.countSet()===this.getSize()}set level(O){this._level=O}getAreaSimplificationThreshold(O,le){let E=1;le>4e6?E=De:le>1e6?E=ne:le>5e5&&(E=ce);let J=0;O>4e3?J=pe*E:O>2e3?J=de*E:O>100?J=he:O>15&&(J=k);let Ee=8;return this._level<4?Ee=1:this._level<5?Ee=2:this._level<6&&(Ee=4),J*Ee}setArcadeSpatialReference(O){this._arcadeSpatialReference=O}attachStorage(O){this._storage=O}getQuantizationTransform(){throw new Error("Unable to find transform for featureSet")}getStorage(){return this._storage}getComputedNumeric(O){return this.getComputedNumericAtIndex(0)}setComputedNumeric(O,le){return this.setComputedNumericAtIndex(le,0)}getComputedString(O){return this.getComputedStringAtIndex(0)}setComputedString(O,le){return this.setComputedStringAtIndex(0,le)}getComputedNumericAtIndex(O){return this._storage.getComputedNumericAtIndex(this.getDisplayId(),O)}setComputedNumericAtIndex(O,le){this._storage.setComputedNumericAtIndex(this.getDisplayId(),O,le)}getComputedStringAtIndex(O){return this._storage.getComputedStringAtIndex(this.getDisplayId(),O)}setComputedStringAtIndex(O,le){return this._storage.setComputedStringAtIndex(this.getDisplayId(),O,le)}transform(O,le,E,J){const Ee=this.copy();return Ee._tx+=O,Ee._ty+=le,Ee._sx*=E,Ee._sy*=J,Ee}readAttribute(O,le=!1){const E=this._readAttribute(O,le);if(void 0!==E)return E;for(const J of this._joined){J.setIndex(this.getIndex());const Ee=J._readAttribute(O,le);if(void 0!==Ee)return Ee}}readAttributes(){const O=this._readAttributes();for(const le of this._joined){le.setIndex(this.getIndex());const E=le._readAttributes();for(const J of Object.keys(E))O[J]=E[J]}return O}joinAttributes(O){this._joined.push(O)}readArcadeFeature(){return this}geometry(){const O=this.readHydratedGeometry(),le=(0,V.di)(O,this.geometryType,this.hasZ,this.hasM),E=(0,Z.im)(le);return E&&(E.spatialReference=this._arcadeSpatialReference),E}field(O){return this.readAttribute(O,!0)}hasField(O){return!0}setField(O,le){}keys(){return[]}castToText(){return""}removeIds(O){if((0,_.Wi)(this._objectIdToIndex)){const E=new Map,J=this.getCursor();for(;J.next();)E.set(J.getObjectId(),J.getIndex());this._objectIdToIndex=E}const le=this._objectIdToIndex;for(const E of O)le.has(E)&&this.removeAtIndex(le.get(E))}removeAtIndex(O){(0,_.Wi)(this._deleted)&&(this._deleted=w.p.create(this.getSize())),this._deleted.set(O)}readGeometryForDisplay(){return this.readUnquantizedGeometry(!0)}readLegacyGeometryForDisplay(){return this.readLegacyGeometry(!0)}*features(){const O=this.getCursor();for(;O.next();)yield O.readOptimizedFeature()}_getExists(){return(0,_.Wi)(this._deleted)||!this._deleted.has(this.getIndex())}_computeCentroid(){if("esriGeometryPolygon"!==this.geometryType)return null;const O=this.readUnquantizedGeometry();if(!O||O.hasIndeterminateRingOrder)return null;const le=(0,_.Pt)(this.getQuantizationTransform(),null);return(0,ee.Y)(new se.Z,O,this.hasM,this.hasZ,le)}copyInto(O){O.seen=this.seen,O._storage=this._storage,O._arcadeSpatialReference=this._arcadeSpatialReference,O._joined=this._joined,O._tx=this._tx,O._ty=this._ty,O._sx=this._sx,O._sy=this._sy,O._deleted=this._deleted,O._objectIdToIndex=this._objectIdToIndex}}},2679:(Ke,Re,te)=>{te.d(Re,{p:()=>z});class z{constructor(_,ee){this._mask=0,this._buf=_,this._mask=ee}static fromBuffer(_,ee){return new z(_,ee)}static create(_,ee=4294967295){const V=new Uint32Array(Math.ceil(_/32));return new z(V,ee)}_getIndex(_){return Math.floor(_/32)}has(_){const ee=this._mask&_;return!!(this._buf[this._getIndex(ee)]&1<<ee%32)}hasRange(_,ee){let V=_,se=ee;for(;V%32&&V!==se;){if(this.has(V))return!0;V++}for(;se%32&&V!==se;){if(this.has(V))return!0;se--}if(V===se)return!1;for(let w=V/32;w!==se/32;w++)if(this._buf[w])return!0;return!1}set(_){const ee=this._mask&_,V=this._getIndex(ee);this._buf[V]|=1<<ee%32}setRange(_,ee){let V=_,se=ee;for(;V%32&&V!==se;)this.set(V++);for(;se%32&&V!==se;)this.set(se--);if(V!==se)for(let w=V/32;w!==se/32;w++)this._buf[w]=4294967295}unset(_){const ee=this._mask&_,V=this._getIndex(ee);this._buf[V]&=4294967295^1<<ee%32}resize(_){const ee=this._buf,V=new Uint32Array(Math.ceil(_/32));V.set(ee),this._buf=V}or(_){for(let ee=0;ee<this._buf.length;ee++)this._buf[ee]|=_._buf[ee];return this}and(_){for(let ee=0;ee<this._buf.length;ee++)this._buf[ee]&=_._buf[ee];return this}xor(_){for(let ee=0;ee<this._buf.length;ee++)this._buf[ee]^=_._buf[ee];return this}ior(_){for(let ee=0;ee<this._buf.length;ee++)this._buf[ee]|=~_._buf[ee];return this}iand(_){for(let ee=0;ee<this._buf.length;ee++)this._buf[ee]&=~_._buf[ee];return this}ixor(_){for(let ee=0;ee<this._buf.length;ee++)this._buf[ee]^=~_._buf[ee];return this}any(){for(let _=0;_<this._buf.length;_++)if(this._buf[_])return!0;return!1}copy(_){for(let ee=0;ee<this._buf.length;ee++)this._buf[ee]=_._buf[ee];return this}clone(){return new z(this._buf.slice(),this._mask)}clear(){for(let _=0;_<this._buf.length;_++)this._buf[_]=0}forEachSet(_){for(let ee=0;ee<this._buf.length;ee++){let V=this._buf[ee],se=32*ee;if(V)for(;V;)1&V&&_(se),V>>>=1,se++}}countSet(){let _=0;return this.forEachSet(ee=>{_++}),_}}}}]);