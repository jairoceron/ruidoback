"use strict";var Ze=Object.defineProperty,Je=Object.defineProperties,Ye=Object.getOwnPropertyDescriptors,We=Object.getOwnPropertySymbols,He=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable,_e=Math.pow,ze=(Pe,ke,te)=>ke in Pe?Ze(Pe,ke,{enumerable:!0,configurable:!0,writable:!0,value:te}):Pe[ke]=te,Le=(Pe,ke)=>{for(var te in ke||(ke={}))He.call(ke,te)&&ze(Pe,te,ke[te]);if(We)for(var te of We(ke))Xe.call(ke,te)&&ze(Pe,te,ke[te]);return Pe},Ge=(Pe,ke)=>Je(Pe,Ye(ke));(self.webpackChunkdashboard=self.webpackChunkdashboard||[]).push([[4786],{83148:(Pe,ke,te)=>{te.d(ke,{J:()=>me});var ae,ye,pe,de={exports:{}};ae=de,void 0!==(pe=function(){function fe(c){this.message="JPEG error: "+c}return(fe.prototype=new Error).name="JpegError",fe.constructor=fe,fe}(),ye=function(){if(!self||!self.Uint8ClampedArray)return null;var fe=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),c=4017,Z=799,H=3406,X=2276,B=1567,$=5793;function oe(){this.decodeTransform=null,this.colorTransform=-1}function ue(G,F){for(var m,x,o=0,S=[],g=16;g>0&&!G[g-1];)g--;S.push({children:[],index:0});var L,h=S[0];for(m=0;m<g;m++){for(x=0;x<G[m];x++){for((h=S.pop()).children[h.index]=F[o];h.index>0;)h=S.pop();for(h.index++,S.push(h);S.length<=m;)S.push(L={children:[],index:0}),h.children[h.index]=L.children,h=L;o++}m+1<g&&(S.push(L={children:[],index:0}),h.children[h.index]=L.children,h=L)}return S[0].children}function we(G,F,m){return 64*((G.blocksPerLine+1)*F+m)}function ce(G,F,m,x,o,S,g,L,h){var T=m.mcusPerLine,b=F,l=0,p=0;function v(){if(p>0)return p--,l>>p&1;if(255===(l=G[F++])){var O=G[F++];if(O)throw new pe("unexpected marker "+(l<<8|O).toString(16))}return p=7,l>>>7}function R(O){for(var W=O;;){if("number"==typeof(W=W[v()]))return W;if("object"!=typeof W)throw new pe("invalid huffman sequence")}}function I(O){for(var W=0;O>0;)W=W<<1|v(),O--;return W}function _(O){if(1===O)return 1===v()?1:-1;var W=I(O);return W>=1<<O-1?W:W+(-1<<O)+1}var d,E=0,t=0;function r(O,W,q,ee,J){W(O,we(O,(q/T|0)*O.v+ee,q%T*O.h+J))}var s,u,a,i,n,y,w=x.length;y=m.progressive?0===S?0===L?function(O,W){var q=R(O.huffmanTableDC),ee=0===q?0:_(q)<<h;O.blockData[W]=O.pred+=ee}:function(O,W){O.blockData[W]|=v()<<h}:0===L?function(O,W){if(E>0)E--;else for(var q=S,ee=g;q<=ee;){var J=R(O.huffmanTableAC),z=15&J,K=J>>4;if(0!==z){var ne=fe[q+=K];O.blockData[W+ne]=_(z)*(1<<h),q++}else{if(K<15){E=I(K)+(1<<K)-1;break}q+=16}}}:function(O,W){for(var q,ee,J=S,z=g,K=0;J<=z;){var ne=fe[J];switch(t){case 0:if(K=(ee=R(O.huffmanTableAC))>>4,0==(q=15&ee))K<15?(E=I(K)+(1<<K),t=4):(K=16,t=1);else{if(1!==q)throw new pe("invalid ACn encoding");d=_(q),t=K?2:3}continue;case 1:case 2:O.blockData[W+ne]?O.blockData[W+ne]+=v()<<h:0==--K&&(t=2===t?3:0);break;case 3:O.blockData[W+ne]?O.blockData[W+ne]+=v()<<h:(O.blockData[W+ne]=d<<h,t=0);break;case 4:O.blockData[W+ne]&&(O.blockData[W+ne]+=v()<<h)}J++}4===t&&0==--E&&(t=0)}:function(O,W){var q=R(O.huffmanTableDC),ee=0===q?0:_(q);O.blockData[W]=O.pred+=ee;for(var J=1;J<64;){var z=R(O.huffmanTableAC),K=15&z,ne=z>>4;if(0!==K){var le=fe[J+=ne];O.blockData[W+le]=_(K),J++}else{if(ne<15)break;J+=16}}};var U,N,Y,V,O,q,A=0;for(N=1===w?x[0].blocksPerLine*x[0].blocksPerColumn:T*m.mcusPerColumn;A<N;){var Q=o?Math.min(N-A,o):N;for(u=0;u<w;u++)x[u].pred=0;if(E=0,1===w)for(s=x[0],n=0;n<Q;n++)y(O=s,we(O,(q=A)/O.blocksPerLine|0,q%O.blocksPerLine)),A++;else for(n=0;n<Q;n++){for(u=0;u<w;u++)for(Y=(s=x[u]).h,V=s.v,a=0;a<V;a++)for(i=0;i<Y;i++)r(s,y,A,a,i);A++}p=0,(U=Ce(G,F))&&U.invalid&&(console.log("decodeScan - unexpected MCU data, next marker is: "+U.invalid),F=U.offset);var j=U&&U.marker;if(!j||j<=65280)throw new pe("marker was not found");if(!(j>=65488&&j<=65495))break;F+=2}return(U=Ce(G,F))&&U.invalid&&(console.log("decodeScan - unexpected Scan data, next marker is: "+U.invalid),F=U.offset),F-b}function Te(G,F,m){var x,o,S,g,L,h,T,P,b,l,p,v,R,I,_,D,C,k=G.quantizationTable,E=G.blockData;if(!k)throw new pe("missing required Quantization Table.");for(var M=0;M<64;M+=8)b=E[F+M],b*=k[M],0!=((l=E[F+M+1])|(p=E[F+M+2])|(v=E[F+M+3])|(R=E[F+M+4])|(I=E[F+M+5])|(_=E[F+M+6])|(D=E[F+M+7]))?(o=(x=(x=$*b+128>>8)+(o=$*(R*=k[M+4])+128>>8)+1>>1)-o,C=3784*(S=p*=k[M+2])+(g=_*=k[M+6])*B+128>>8,S=S*B-3784*g+128>>8,T=(L=(L=2896*((l*=k[M+1])-(D*=k[M+7]))+128>>8)+(T=(I*=k[M+5])<<4)+1>>1)-T,h=(P=(P=2896*(l+D)+128>>8)+(h=(v*=k[M+3])<<4)+1>>1)-h,g=(x=x+(g=C)+1>>1)-g,S=(o=o+S+1>>1)-S,C=L*X+P*H+2048>>12,L=L*H-P*X+2048>>12,P=C,C=h*Z+T*c+2048>>12,h=h*c-T*Z+2048>>12,T=C,m[M]=x+P,m[M+7]=x-P,m[M+1]=o+T,m[M+6]=o-T,m[M+2]=S+h,m[M+5]=S-h,m[M+3]=g+L,m[M+4]=g-L):(m[M]=C=$*b+512>>10,m[M+1]=C,m[M+2]=C,m[M+3]=C,m[M+4]=C,m[M+5]=C,m[M+6]=C,m[M+7]=C);for(var d=0;d<8;++d)b=m[d],0!=((l=m[d+8])|(p=m[d+16])|(v=m[d+24])|(R=m[d+32])|(I=m[d+40])|(_=m[d+48])|(D=m[d+56]))?(o=(x=4112+((x=$*b+2048>>12)+(o=$*R+2048>>12)+1>>1))-o,C=3784*(S=p)+(g=_)*B+2048>>12,S=S*B-3784*g+2048>>12,g=C,T=(L=(L=2896*(l-D)+2048>>12)+(T=I)+1>>1)-T,h=(P=(P=2896*(l+D)+2048>>12)+(h=v)+1>>1)-h,C=L*X+P*H+2048>>12,L=L*H-P*X+2048>>12,P=C,C=h*Z+T*c+2048>>12,h=h*c-T*Z+2048>>12,b=(b=(x=x+g+1>>1)+P)<16?0:b>=4080?255:b>>4,l=(l=(o=o+S+1>>1)+(T=C))<16?0:l>=4080?255:l>>4,p=(p=(S=o-S)+h)<16?0:p>=4080?255:p>>4,v=(v=(g=x-g)+L)<16?0:v>=4080?255:v>>4,R=(R=g-L)<16?0:R>=4080?255:R>>4,I=(I=S-h)<16?0:I>=4080?255:I>>4,_=(_=o-T)<16?0:_>=4080?255:_>>4,D=(D=x-P)<16?0:D>=4080?255:D>>4,E[F+d]=b,E[F+d+8]=l,E[F+d+16]=p,E[F+d+24]=v,E[F+d+32]=R,E[F+d+40]=I,E[F+d+48]=_,E[F+d+56]=D):(C=(C=$*b+8192>>14)<-2040?0:C>=2024?255:C+2056>>4,E[F+d]=C,E[F+d+8]=C,E[F+d+16]=C,E[F+d+24]=C,E[F+d+32]=C,E[F+d+40]=C,E[F+d+48]=C,E[F+d+56]=C)}function ve(G,F){for(var m=F.blocksPerLine,x=F.blocksPerColumn,o=new Int16Array(64),S=0;S<x;S++)for(var g=0;g<m;g++)Te(F,we(F,S,g),o);return F.blockData}function Ce(G,F,m){function x(h){return G[h]<<8|G[h+1]}var o=G.length-1,S=m<F?m:F;if(F>=o)return null;var g=x(F);if(g>=65472&&g<=65534)return{invalid:null,marker:g,offset:F};for(var L=x(S);!(L>=65472&&L<=65534);){if(++S>=o)return null;L=x(S)}return{invalid:g.toString(16),marker:L,offset:S}}return oe.prototype={parse:function(G){function F(){var O=G[g]<<8|G[g+1];return g+=2,O}function m(){var O=F(),W=g+O-2,q=Ce(G,W,g);q&&q.invalid&&(console.log("readDataBlock - incorrect length, next marker is: "+q.invalid),W=q.offset);var ee=G.subarray(g,W);return g+=ee.length,ee}function x(O){for(var W=Math.ceil(O.samplesPerLine/8/O.maxH),q=Math.ceil(O.scanLines/8/O.maxV),ee=0;ee<O.components.length;ee++){n=O.components[ee];var J=Math.ceil(Math.ceil(O.samplesPerLine/8)*n.h/O.maxH),z=Math.ceil(Math.ceil(O.scanLines/8)*n.v/O.maxV);n.blockData=new Int16Array(q*n.v*64*(W*n.h+1)),n.blocksPerLine=J,n.blocksPerColumn=z}O.mcusPerLine=W,O.mcusPerColumn=q}var o,S,g=0,L=null,h=null,T=[],P=[],b=[],l=F();if(65496!==l)throw new pe("SOI not found");for(l=F();65497!==l;){var p,v,R;switch(l){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var I=m();65504===l&&74===I[0]&&70===I[1]&&73===I[2]&&70===I[3]&&0===I[4]&&(L={version:{major:I[5],minor:I[6]},densityUnits:I[7],xDensity:I[8]<<8|I[9],yDensity:I[10]<<8|I[11],thumbWidth:I[12],thumbHeight:I[13],thumbData:I.subarray(14,14+3*I[12]*I[13])}),65518===l&&65===I[0]&&100===I[1]&&111===I[2]&&98===I[3]&&101===I[4]&&(h={version:I[5]<<8|I[6],flags0:I[7]<<8|I[8],flags1:I[9]<<8|I[10],transformCode:I[11]});break;case 65499:for(var _=F()+g-2;g<_;){var D=G[g++],C=new Uint16Array(64);if(D>>4==0)for(v=0;v<64;v++)C[fe[v]]=G[g++];else{if(D>>4!=1)throw new pe("DQT - invalid table spec");for(v=0;v<64;v++)C[fe[v]]=F()}T[15&D]=C}break;case 65472:case 65473:case 65474:if(o)throw new pe("Only single frame JPEGs supported");F(),(o={}).extended=65473===l,o.progressive=65474===l,o.precision=G[g++],o.scanLines=F(),o.samplesPerLine=F(),o.components=[],o.componentIds={};var k,E=G[g++],M=0,d=0;for(p=0;p<E;p++){k=G[g];var t=G[g+1]>>4,e=15&G[g+1];M<t&&(M=t),d<e&&(d=e),R=o.components.push({h:t,v:e,quantizationId:G[g+2],quantizationTable:null}),o.componentIds[k]=R-1,g+=3}o.maxH=M,o.maxV=d,x(o);break;case 65476:var f=F();for(p=2;p<f;){var s=G[g++],u=new Uint8Array(16),a=0;for(v=0;v<16;v++,g++)a+=u[v]=G[g];var i=new Uint8Array(a);for(v=0;v<a;v++,g++)i[v]=G[g];p+=17+a,(s>>4==0?b:P)[15&s]=ue(u,i)}break;case 65501:F(),S=F();break;case 65498:F();var n,y=G[g++],w=[];for(p=0;p<y;p++){var U=o.componentIds[G[g++]],N=G[g++];(n=o.components[U]).huffmanTableDC=b[N>>4],n.huffmanTableAC=P[15&N],w.push(n)}var Y=G[g++],V=G[g++],A=G[g++],Q=ce(G,g,o,w,S,Y,V,A>>4,15&A);g+=Q;break;case 65535:255!==G[g]&&g--;break;default:if(255===G[g-3]&&G[g-2]>=192&&G[g-2]<=254){g-=3;break}throw new pe("unknown marker "+l.toString(16))}l=F()}for(this.width=o.samplesPerLine,this.height=o.scanLines,this.jfif=L,this.eof=g,this.adobe=h,this.components=[],p=0;p<o.components.length;p++){var j=T[(n=o.components[p]).quantizationId];j&&(n.quantizationTable=j),this.components.push({output:ve(0,n),scaleX:n.h/o.maxH,scaleY:n.v/o.maxV,blocksPerLine:n.blocksPerLine,blocksPerColumn:n.blocksPerColumn})}this.numComponents=this.components.length},_getLinearizedBlockData:function(G,F){var m,x,o,S,g,L,h,T,P,b,l,p=this.width/G,v=this.height/F,R=0,I=this.components.length,_=G*F*I,D=new Uint8ClampedArray(_),C=new Uint32Array(G),k=4294967288;for(h=0;h<I;h++){for(x=(m=this.components[h]).scaleX*p,o=m.scaleY*v,R=h,l=m.output,S=m.blocksPerLine+1<<3,g=0;g<G;g++)C[g]=((T=0|g*x)&k)<<3|7&T;for(L=0;L<F;L++)for(b=S*((T=0|L*o)&k)|(7&T)<<3,g=0;g<G;g++)D[R]=l[b+C[g]],R+=I}var E=this.decodeTransform;if(E)for(h=0;h<_;)for(T=0,P=0;T<I;T++,h++,P+=2)D[h]=(D[h]*E[P]>>8)+E[P+1];return D},_isColorConversionNeeded:function(){return this.adobe?!!this.adobe.transformCode:3===this.numComponents?0!==this.colorTransform:1===this.colorTransform},_convertYccToRgb:function(G){for(var F,m,x,o=0,S=G.length;o<S;o+=3)m=G[o+1],G[o]=(F=G[o])-179.456+1.402*(x=G[o+2]),G[o+1]=F+135.459-.344*m-.714*x,G[o+2]=F-226.816+1.772*m;return G},_convertYcckToRgb:function(G){for(var F,m,x,o,S=0,g=0,L=G.length;g<L;g+=4)G[S++]=(m=G[g+1])*(-660635669420364e-19*m+.000437130475926232*(x=G[g+2])-54080610064599e-18*(F=G[g])+.00048449797120281*(o=G[g+3])-.154362151871126)-122.67195406894+x*(-.000957964378445773*x+.000817076911346625*F-.00477271405408747*o+1.53380253221734)+F*(.000961250184130688*F-.00266257332283933*o+.48357088451265)+o*(-.000336197177618394*o+.484791561490776),G[S++]=107.268039397724+m*(219927104525741e-19*m-.000640992018297945*x+.000659397001245577*F+.000426105652938837*o-.176491792462875)+x*(-.000778269941513683*x+.00130872261408275*F+.000770482631801132*o-.151051492775562)+F*(.00126935368114843*F-.00265090189010898*o+.25802910206845)+o*(-.000318913117588328*o-.213742400323665),G[S++]=m*(-.000570115196973677*m-263409051004589e-19*x+.0020741088115012*F-.00288260236853442*o+.814272968359295)-20.810012546947+x*(-153496057440975e-19*x-.000132689043961446*F+.000560833691242812*o-.195152027534049)+F*(.00174418132927582*F-.00255243321439347*o+.116935020465145)+o*(-.000343531996510555*o+.24165260232407);return G},_convertYcckToCmyk:function(G){for(var F,m,x,o=0,S=G.length;o<S;o+=4)m=G[o+1],G[o]=434.456-(F=G[o])-1.402*(x=G[o+2]),G[o+1]=119.541-F+.344*m+.714*x,G[o+2]=481.816-F-1.772*m;return G},_convertCmykToRgb:function(G){for(var F,m,x,o,S=0,g=1/255,L=0,h=G.length;L<h;L+=4)G[S++]=255+(F=G[L]*g)*(-4.387332384609988*F+54.48615194189176*(m=G[L+1]*g)+18.82290502165302*(x=G[L+2]*g)+212.25662451639585*(o=G[L+3]*g)-285.2331026137004)+m*(1.7149763477362134*m-5.6096736904047315*x-17.873870861415444*o-5.497006427196366)+x*(-2.5217340131683033*x-21.248923337353073*o+17.5119270841813)-o*(21.86122147463605*o+189.48180835922747),G[S++]=255+F*(8.841041422036149*F+60.118027045597366*m+6.871425592049007*x+31.159100130055922*o-79.2970844816548)+m*(-15.310361306967817*m+17.575251261109482*x+131.35250912493976*o-190.9453302588951)+x*(4.444339102852739*x+9.8632861493405*o-24.86741582555878)-o*(20.737325471181034*o+187.80453709719578),G[S++]=255+F*(.8842522430003296*F+8.078677503112928*m+30.89978309703729*x-.23883238689178934*o-14.183576799673286)+m*(10.49593273432072*m+63.02378494754052*x+50.606957656360734*o-112.23884253719248)+x*(.03296041114873217*x+115.60384449646641*o-193.58209356861505)-o*(22.33816807309886*o+180.12613974708367);return G},getData:function(G,F,m){if(this.numComponents>4)throw new pe("Unsupported color mode");var x=this._getLinearizedBlockData(G,F);if(1===this.numComponents&&m){for(var o=x.length,S=new Uint8ClampedArray(3*o),g=0,L=0;L<o;L++){var h=x[L];S[g++]=h,S[g++]=h,S[g++]=h}return S}if(3===this.numComponents&&this._isColorConversionNeeded())return this._convertYccToRgb(x);if(4===this.numComponents){if(this._isColorConversionNeeded())return m?this._convertYcckToRgb(x):this._convertYcckToCmyk(x);if(m)return this._convertCmykToRgb(x)}return x}},oe}())&&(ae.exports=ye);var me=de.exports},10338:(Pe,ke,te)=>{te.d(ke,{d:()=>c});var ae=te(22791),ge={};ge.defaultNoDataValue=(0,ae.oK)(-1/0),ge.decode=function(Z,H){var X=(H=H||{}).encodedMaskData||null===H.encodedMaskData,B=pe(Z,H.inputOffset||0,X),ie=null!=H.noDataValue?(0,ae.oK)(H.noDataValue):ge.defaultNoDataValue,$=ye(B,H.pixelType||Float32Array,H.encodedMaskData,ie,H.returnMask),re={width:B.width,height:B.height,pixelData:$.resultPixels,minValue:B.pixels.minValue,maxValue:B.pixels.maxValue,noDataValue:ie};return $.resultMask&&(re.maskData=$.resultMask),H.returnEncodedMask&&B.mask&&(re.encodedMaskData=B.mask.bitset?B.mask.bitset:null),H.returnFileInfo&&(re.fileInfo=de(B,ie),H.computeUsedBitDepths&&(re.fileInfo.bitDepths=me(B))),re};var ye=function(Z,H,X,B,ie){var $,re,oe=0,ue=Z.pixels.numBlocksX,we=Z.pixels.numBlocksY,ce=Math.floor(Z.width/ue),Te=Math.floor(Z.height/we),ve=2*Z.maxZError;X=X||(Z.mask?Z.mask.bitset:null),$=new H(Z.width*Z.height),ie&&X&&(re=new Uint8Array(Z.width*Z.height));for(var Ce,G,F=new Float32Array(ce*Te),m=0;m<=we;m++){var x=m!==we?Te:Z.height%we;if(0!==x)for(var o=0;o<=ue;o++){var S=o!==ue?ce:Z.width%ue;if(0!==S){var g,L,h,T,P=m*Z.width*Te+o*ce,b=Z.width-S,l=Z.pixels.blocks[oe];if(l.encoding<2?(0===l.encoding?g=l.rawData:(fe(l.stuffedData,l.bitsPerPixel,l.numValidPixels,l.offset,ve,F,Z.pixels.maxValue),g=F),L=0):h=2===l.encoding?0:l.offset,X)for(G=0;G<x;G++){for(7&P&&(T=X[P>>3],T<<=7&P),Ce=0;Ce<S;Ce++)7&P||(T=X[P>>3]),128&T?(re&&(re[P]=1),$[P++]=l.encoding<2?g[L++]:h):(re&&(re[P]=0),$[P++]=B),T<<=1;P+=b}else if(l.encoding<2)for(G=0;G<x;G++){for(Ce=0;Ce<S;Ce++)$[P++]=g[L++];P+=b}else for(G=0;G<x;G++)if($.fill)$.fill(h,P,P+S),P+=S+b;else{for(Ce=0;Ce<S;Ce++)$[P++]=h;P+=b}if(1===l.encoding&&L!==l.numValidPixels)throw"Block and Mask do not match";oe++}}}return{resultPixels:$,resultMask:re}},de=function(Z,H){return{fileIdentifierString:Z.fileIdentifierString,fileVersion:Z.fileVersion,imageType:Z.imageType,height:Z.height,width:Z.width,maxZError:Z.maxZError,eofOffset:Z.eofOffset,mask:Z.mask?{numBlocksX:Z.mask.numBlocksX,numBlocksY:Z.mask.numBlocksY,numBytes:Z.mask.numBytes,maxValue:Z.mask.maxValue}:null,pixels:{numBlocksX:Z.pixels.numBlocksX,numBlocksY:Z.pixels.numBlocksY,numBytes:Z.pixels.numBytes,maxValue:Z.pixels.maxValue,minValue:Z.pixels.minValue,noDataValue:H}}},me=function(Z){for(var H=Z.pixels.numBlocksX*Z.pixels.numBlocksY,X={},B=0;B<H;B++){var ie=Z.pixels.blocks[B];0===ie.encoding?X.float32=!0:1===ie.encoding?X[ie.bitsPerPixel]=!0:X[0]=!0}return Object.keys(X)},pe=function(Z,H,X){var B={},ie=new Uint8Array(Z,H,10);if(B.fileIdentifierString=String.fromCharCode.apply(null,ie),"CntZImage"!=B.fileIdentifierString.trim())throw"Unexpected file identifier string: "+B.fileIdentifierString;H+=10;var $=new DataView(Z,H,24);if(B.fileVersion=$.getInt32(0,!0),B.imageType=$.getInt32(4,!0),B.height=$.getUint32(8,!0),B.width=$.getUint32(12,!0),B.maxZError=$.getFloat64(16,!0),H+=24,!X)if($=new DataView(Z,H,16),B.mask={},B.mask.numBlocksY=$.getUint32(0,!0),B.mask.numBlocksX=$.getUint32(4,!0),B.mask.numBytes=$.getUint32(8,!0),B.mask.maxValue=$.getFloat32(12,!0),H+=16,B.mask.numBytes>0){var re=new Uint8Array(Math.ceil(B.width*B.height/8)),oe=($=new DataView(Z,H,B.mask.numBytes)).getInt16(0,!0),ue=2,we=0;do{if(oe>0)for(;oe--;)re[we++]=$.getUint8(ue++);else{var ce=$.getUint8(ue++);for(oe=-oe;oe--;)re[we++]=ce}oe=$.getInt16(ue,!0),ue+=2}while(ue<B.mask.numBytes);if(-32768!==oe||we<re.length)throw"Unexpected end of mask RLE encoding";B.mask.bitset=re,H+=B.mask.numBytes}else 0==(B.mask.numBytes|B.mask.numBlocksY|B.mask.maxValue)&&(re=new Uint8Array(Math.ceil(B.width*B.height/8)),B.mask.bitset=re);$=new DataView(Z,H,16),B.pixels={},B.pixels.numBlocksY=$.getUint32(0,!0),B.pixels.numBlocksX=$.getUint32(4,!0),B.pixels.numBytes=$.getUint32(8,!0),B.pixels.maxValue=$.getFloat32(12,!0),H+=16;var Te=B.pixels.numBlocksX,ve=B.pixels.numBlocksY,Ce=Te+(B.width%Te>0?1:0),G=ve+(B.height%ve>0?1:0);B.pixels.blocks=new Array(Ce*G);for(var F=1e9,m=0,x=0;x<G;x++)for(var o=0;o<Ce;o++){var S=0;$=new DataView(Z,H,Math.min(10,Z.byteLength-H));var L={};B.pixels.blocks[m++]=L;var h=$.getUint8(0);if(S++,L.encoding=63&h,L.encoding>3)throw"Invalid block encoding ("+L.encoding+")";if(2!==L.encoding){if(0!==h&&2!==h){if(L.offsetType=h>>=6,2===h)L.offset=$.getInt8(1),S++;else if(1===h)L.offset=$.getInt16(1,!0),S+=2;else{if(0!==h)throw"Invalid block offset type";L.offset=$.getFloat32(1,!0),S+=4}if(F=Math.min(L.offset,F),1===L.encoding)if(h=$.getUint8(S),S++,L.bitsPerPixel=63&h,L.numValidPixelsType=h>>=6,2===h)L.numValidPixels=$.getUint8(S),S++;else if(1===h)L.numValidPixels=$.getUint16(S,!0),S+=2;else{if(0!==h)throw"Invalid valid pixel count type";L.numValidPixels=$.getUint32(S,!0),S+=4}}var T;if(H+=S,3!=L.encoding)if(0===L.encoding){var P=(B.pixels.numBytes-1)/4;if(P!==Math.floor(P))throw"uncompressed block has invalid length";T=new ArrayBuffer(4*P),new Uint8Array(T).set(new Uint8Array(Z,H,4*P));for(var b=new Float32Array(T),l=0;l<b.length;l++)F=Math.min(F,b[l]);L.rawData=b,H+=4*P}else if(1===L.encoding){var p=Math.ceil(L.numValidPixels*L.bitsPerPixel/8),v=Math.ceil(p/4);T=new ArrayBuffer(4*v),new Uint8Array(T).set(new Uint8Array(Z,H,p)),L.stuffedData=new Uint32Array(T),H+=p}}else H++,F=Math.min(F,0)}return B.pixels.minValue=F,B.eofOffset=H,B},fe=function(Z,H,X,B,ie,$,re){var oe,ue,we,ce=(1<<H)-1,Te=0,ve=0,Ce=Math.ceil((re-B)/ie),G=4*Z.length-Math.ceil(H*X/8);for(Z[Z.length-1]<<=8*G,oe=0;oe<X;oe++){if(0===ve&&(we=Z[Te++],ve=32),ve>=H)ue=we>>>ve-H&ce,ve-=H;else{var F=H-ve;ue=(we&ce)<<F&ce,ue+=(we=Z[Te++])>>>(ve=32-F)}$[oe]=ue<Ce?B+ue*ie:re}return $};const c=ge.decode},44263:(Pe,ke,te)=>{te.d(ke,{L:()=>ue,a:()=>d,b:()=>k,c:()=>l,d:()=>M,g:()=>p,i:()=>v,p:()=>C});var ae=te(44005),ge=te(83148);function de(){const t=[];for(let e=0;e<=257;e++)t[e]=[e];return t}function me(t,e){for(let r=0;r<e.length;r++)t.push(e[r])}const pe=new Set;function fe(t,e,r,f=!0){const s=function(t,e,r,f=!0){if(e%4!=0||r%4!=0){const s=new ArrayBuffer(4*Math.ceil(r/4)),u=new Uint8Array(s),a=new Uint8Array(t,e,r);if(f)for(let i=0;i<u.length;i+=4)u[i]=a[i+3],u[i+1]=a[i+2],u[i+2]=a[i+1],u[i+3]=a[i];else u.set(a);return new Uint32Array(u.buffer)}if(f){const s=new Uint8Array(t,e,r),u=new Uint8Array(s.length);for(let a=0;a<u.length;a+=4)u[a]=s[a+3],u[a+1]=s[a+2],u[a+2]=s[a+1],u[a+3]=s[a];return new Uint32Array(u.buffer)}return new Uint32Array(t,e,r/4)}(t,e,r,f);let u=9,a=de(),i=32,n=a.length,y=[],w=1,U=s[0],N=0;const Y=s.length,V=8*(4*Y-r),A=[];for(;null!=U;){if(i>=u)i-=u,N=U>>>32-u,U<<=u;else{N=U>>>32-i,U=s[w++];const j=u-i;i=32-j,N=(N<<j)+(U>>>i),U<<=j}if(257===N)break;if(256===N){u=9,a=de(),n=a.length,y=[];continue}const Q=a[N];if(null==Q){if(N>a.length)throw"data integrity issue: code does not exist on code page";y.push(y[0]),a[n++]=y.slice(),me(A,y)}else me(A,Q),y.push(Q[0]),y.length>1&&(a[n++]=y.slice()),y=Q.slice();if(pe.has(n)&&u++,0===i&&(U=s[w++],i=32),w>Y||w===Y&&i<=V)break}return new Uint8Array(A)}pe.add(511),pe.add(1023),pe.add(2047),pe.add(4095),pe.add(8191);var X,B,ie,re,c=te(28281),Z=te(23823),H=te(40284),oe={exports:{}};X={unstuff:function(t,e,r,f,s,u,a,i){var n,y,w,U,N,Y=(1<<r)-1,V=0,A=0,Q=4*t.length-Math.ceil(r*f/8);if(t[t.length-1]<<=8*Q,s)for(n=0;n<f;n++)0===A&&(w=t[V++],A=32),A>=r?(y=w>>>A-r&Y,A-=r):(y=(w&Y)<<(U=r-A)&Y,y+=(w=t[V++])>>>(A=32-U)),e[n]=s[y];else for(N=Math.ceil((i-u)/a),n=0;n<f;n++)0===A&&(w=t[V++],A=32),A>=r?(y=w>>>A-r&Y,A-=r):(y=(w&Y)<<(U=r-A)&Y,y+=(w=t[V++])>>>(A=32-U)),e[n]=y<N?u+y*a:i},unstuffLUT:function(t,e,r,f,s,u){var a,i=(1<<e)-1,n=0,y=0,w=0,U=0,N=0,Y=[],V=4*t.length-Math.ceil(e*r/8);t[t.length-1]<<=8*V;var A=Math.ceil((u-f)/s);for(y=0;y<r;y++)0===U&&(a=t[n++],U=32),U>=e?(N=a>>>U-e&i,U-=e):(N=(a&i)<<(w=e-U)&i,N+=(a=t[n++])>>>(U=32-w)),Y[y]=N<A?f+N*s:u;return Y.unshift(f),Y},unstuff2:function(t,e,r,f,s,u,a,i){var n,y,w,U,N=(1<<r)-1,Y=0,V=0,A=0;if(s)for(n=0;n<f;n++)0===V&&(w=t[Y++],V=32,A=0),V>=r?(y=w>>>A&N,V-=r,A+=r):(y=w>>>A&N,V=32-(U=r-V),y|=((w=t[Y++])&(1<<U)-1)<<r-U,A=U),e[n]=s[y];else{var Q=Math.ceil((i-u)/a);for(n=0;n<f;n++)0===V&&(w=t[Y++],V=32,A=0),V>=r?(y=w>>>A&N,V-=r,A+=r):(y=w>>>A&N,V=32-(U=r-V),y|=((w=t[Y++])&(1<<U)-1)<<r-U,A=U),e[n]=y<Q?u+y*a:i}return e},unstuffLUT2:function(t,e,r,f,s,u){var a,i=(1<<e)-1,n=0,y=0,w=0,U=0,N=0,Y=0,V=[],A=Math.ceil((u-f)/s);for(y=0;y<r;y++)0===U&&(a=t[n++],U=32,Y=0),U>=e?(N=a>>>Y&i,U-=e,Y+=e):(N=a>>>Y&i,U=32-(w=e-U),N|=((a=t[n++])&(1<<w)-1)<<e-w,Y=w),V[y]=N<A?f+N*s:u;return V.unshift(f),V},originalUnstuff:function(t,e,r,f){var s,u,a,i,n=(1<<r)-1,y=0,w=0,U=4*t.length-Math.ceil(r*f/8);for(t[t.length-1]<<=8*U,s=0;s<f;s++)0===w&&(a=t[y++],w=32),w>=r?(u=a>>>w-r&n,w-=r):(u=(a&n)<<(i=r-w)&n,u+=(a=t[y++])>>>(w=32-i)),e[s]=u;return e},originalUnstuff2:function(t,e,r,f){var s,u,a,i,n=(1<<r)-1,y=0,w=0,U=0;for(s=0;s<f;s++)0===w&&(a=t[y++],w=32,U=0),w>=r?(u=a>>>U&n,w-=r,U+=r):(u=a>>>U&n,w=32-(i=r-w),u|=((a=t[y++])&(1<<i)-1)<<r-i,U=i),e[s]=u;return e}},B={HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(t){for(var e=65535,r=65535,f=t.length,s=Math.floor(f/2),u=0;s;){var a=s>=359?359:s;s-=a;do{e+=t[u++]<<8,r+=e+=t[u++]}while(--a);e=(65535&e)+(e>>>16),r=(65535&r)+(r>>>16)}return 1&f&&(r+=e+=t[u]<<8),((r=(65535&r)+(r>>>16))<<16|(e=(65535&e)+(e>>>16)))>>>0},readHeaderInfo:function(t,e){var r=e.ptr,f=new Uint8Array(t,r,6),s={};if(s.fileIdentifierString=String.fromCharCode.apply(null,f),0!==s.fileIdentifierString.lastIndexOf("Lerc2",0))throw"Unexpected file identifier string (expect Lerc2 ): "+s.fileIdentifierString;r+=6;var a=new DataView(t,r,8),i=a.getInt32(0,!0);if(s.fileVersion=i,r+=4,i>=3&&(s.checksum=a.getUint32(4,!0),r+=4),a=new DataView(t,r,12),s.height=a.getUint32(0,!0),s.width=a.getUint32(4,!0),r+=8,i>=4?(s.numDims=a.getUint32(8,!0),r+=4):s.numDims=1,a=new DataView(t,r,40),s.numValidPixel=a.getUint32(0,!0),s.microBlockSize=a.getInt32(4,!0),s.blobSize=a.getInt32(8,!0),s.imageType=a.getInt32(12,!0),s.maxZError=a.getFloat64(16,!0),s.zMin=a.getFloat64(24,!0),s.zMax=a.getFloat64(32,!0),r+=40,e.headerInfo=s,e.ptr=r,i>=3&&this.computeChecksumFletcher32(new Uint8Array(t,r-(i>=4?52:48),s.blobSize-14))!==s.checksum)throw"Checksum failed.";return!0},checkMinMaxRanges:function(t,e){var r=e.headerInfo,f=this.getDataTypeArray(r.imageType),s=r.numDims*this.getDataTypeSize(r.imageType),u=this.readSubArray(t,e.ptr,f,s),a=this.readSubArray(t,e.ptr+s,f,s);e.ptr+=2*s;var i,n=!0;for(i=0;i<r.numDims;i++)if(u[i]!==a[i]){n=!1;break}return r.minValues=u,r.maxValues=a,n},readSubArray:function(t,e,r,f){var s;if(r===Uint8Array)s=new Uint8Array(t,e,f);else{var u=new ArrayBuffer(f);new Uint8Array(u).set(new Uint8Array(t,e,f)),s=new r(u)}return s},readMask:function(t,e){var r,f,s=e.ptr,u=e.headerInfo,a=u.width*u.height,i=u.numValidPixel,n=new DataView(t,s,4),y={};if(y.numBytes=n.getUint32(0,!0),s+=4,(0===i||a===i)&&0!==y.numBytes)throw"invalid mask";if(0===i)r=new Uint8Array(Math.ceil(a/8)),y.bitset=r,f=new Uint8Array(a),e.pixels.resultMask=f,s+=y.numBytes;else if(y.numBytes>0){r=new Uint8Array(Math.ceil(a/8));var w=(n=new DataView(t,s,y.numBytes)).getInt16(0,!0),U=2,N=0,Y=0;do{if(w>0)for(;w--;)r[N++]=n.getUint8(U++);else for(Y=n.getUint8(U++),w=-w;w--;)r[N++]=Y;w=n.getInt16(U,!0),U+=2}while(U<y.numBytes);if(-32768!==w||N<r.length)throw"Unexpected end of mask RLE encoding";f=new Uint8Array(a);var V=0,A=0;for(A=0;A<a;A++)7&A?(V=r[A>>3],V<<=7&A):V=r[A>>3],128&V&&(f[A]=1);e.pixels.resultMask=f,y.bitset=r,s+=y.numBytes}return e.ptr=s,e.mask=y,!0},readDataOneSweep:function(t,e,r,f){var s,u=e.ptr,a=e.headerInfo,i=a.numDims,n=a.width*a.height,w=a.numValidPixel*B.getDataTypeSize(a.imageType)*i,U=e.pixels.resultMask;if(r===Uint8Array)s=new Uint8Array(t,u,w);else{var N=new ArrayBuffer(w);new Uint8Array(N).set(new Uint8Array(t,u,w)),s=new r(N)}if(s.length===n*i)e.pixels.resultPixels=f?B.swapDimensionOrder(s,n,i,r,!0):s;else{e.pixels.resultPixels=new r(n*i);var Y=0,V=0,A=0,Q=0;if(i>1){if(f){for(V=0;V<n;V++)if(U[V])for(Q=V,A=0;A<i;A++,Q+=n)e.pixels.resultPixels[Q]=s[Y++]}else for(V=0;V<n;V++)if(U[V])for(Q=V*i,A=0;A<i;A++)e.pixels.resultPixels[Q+A]=s[Y++]}else for(V=0;V<n;V++)U[V]&&(e.pixels.resultPixels[V]=s[Y++])}return e.ptr=u+=w,!0},readHuffmanTree:function(t,e){var r=this.HUFFMAN_LUT_BITS_MAX,f=new DataView(t,e.ptr,16);if(e.ptr+=16,f.getInt32(0,!0)<2)throw"unsupported Huffman version";var s=f.getInt32(4,!0),u=f.getInt32(8,!0),a=f.getInt32(12,!0);if(u>=a)return!1;var i=new Uint32Array(a-u);B.decodeBits(t,e,i);var n,y,w,U,N=[];for(n=u;n<a;n++)N[y=n-(n<s?0:s)]={first:i[n-u],second:null};var Y=t.byteLength-e.ptr,V=Math.ceil(Y/4),A=new ArrayBuffer(4*V);new Uint8Array(A).set(new Uint8Array(t,e.ptr,Y));var Q,j=new Uint32Array(A),O=0,W=0;for(Q=j[0],n=u;n<a;n++)(U=N[y=n-(n<s?0:s)].first)>0&&(N[y].second=Q<<O>>>32-U,32-O>=U?32===(O+=U)&&(O=0,Q=j[++W]):(Q=j[++W],N[y].second|=Q>>>32-(O+=U-32)));var ee,q=0,J=new ie;for(n=0;n<N.length;n++)void 0!==N[n]&&(q=Math.max(q,N[n].first));ee=q>=r?r:q;var z,K,ne,le,se,be=[];for(n=u;n<a;n++)if((U=N[y=n-(n<s?0:s)].first)>0)if(z=[U,y],U<=ee)for(K=N[y].second<<ee-U,ne=1<<ee-U,w=0;w<ne;w++)be[K|w]=z;else for(K=N[y].second,se=J,le=U-1;le>=0;le--)K>>>le&1?(se.right||(se.right=new ie),se=se.right):(se.left||(se.left=new ie),se=se.left),0!==le||se.val||(se.val=z[1]);return{decodeLut:be,numBitsLUTQick:ee,numBitsLUT:q,tree:J,stuffedData:j,srcPtr:W,bitPos:O}},readHuffman:function(t,e,r,f){var s,u,a,i,n,y,w,U,N,Y=e.headerInfo.numDims,V=e.headerInfo.height,A=e.headerInfo.width,Q=A*V,j=this.readHuffmanTree(t,e),O=j.decodeLut,W=j.tree,q=j.stuffedData,ee=j.srcPtr,J=j.bitPos,z=j.numBitsLUTQick,K=j.numBitsLUT,ne=0===e.headerInfo.imageType?128:0,le=e.pixels.resultMask,se=0;J>0&&(ee++,J=0);var be,Ie=q[ee],Me=1===e.encodeMode,De=new r(Q*Y),he=De;if(Y<2||Me){for(be=0;be<Y;be++)if(Y>1&&(he=new r(De.buffer,Q*be,Q),se=0),e.headerInfo.numValidPixel===A*V)for(U=0,y=0;y<V;y++)for(w=0;w<A;w++,U++){if(u=0,n=i=Ie<<J>>>32-z,32-J<z&&(n=i|=q[ee+1]>>>64-J-z),O[n])u=O[n][1],J+=O[n][0];else for(n=i=Ie<<J>>>32-K,32-J<K&&(n=i|=q[ee+1]>>>64-J-K),s=W,N=0;N<K;N++)if(!(s=i>>>K-N-1&1?s.right:s.left).left&&!s.right){u=s.val,J=J+N+1;break}J>=32&&(J-=32,Ie=q[++ee]),a=u-ne,Me?(a+=w>0?se:y>0?he[U-A]:se,he[U]=a&=255,se=a):he[U]=a}else for(U=0,y=0;y<V;y++)for(w=0;w<A;w++,U++)if(le[U]){if(u=0,n=i=Ie<<J>>>32-z,32-J<z&&(n=i|=q[ee+1]>>>64-J-z),O[n])u=O[n][1],J+=O[n][0];else for(n=i=Ie<<J>>>32-K,32-J<K&&(n=i|=q[ee+1]>>>64-J-K),s=W,N=0;N<K;N++)if(!(s=i>>>K-N-1&1?s.right:s.left).left&&!s.right){u=s.val,J=J+N+1;break}J>=32&&(J-=32,Ie=q[++ee]),a=u-ne,Me?(a+=w>0&&le[U-1]?se:y>0&&le[U-A]?he[U-A]:se,he[U]=a&=255,se=a):he[U]=a}}else for(U=0,y=0;y<V;y++)for(w=0;w<A;w++)if(U=y*A+w,!le||le[U])for(be=0;be<Y;be++,U+=Q){if(u=0,n=i=Ie<<J>>>32-z,32-J<z&&(n=i|=q[ee+1]>>>64-J-z),O[n])u=O[n][1],J+=O[n][0];else for(n=i=Ie<<J>>>32-K,32-J<K&&(n=i|=q[ee+1]>>>64-J-K),s=W,N=0;N<K;N++)if(!(s=i>>>K-N-1&1?s.right:s.left).left&&!s.right){u=s.val,J=J+N+1;break}J>=32&&(J-=32,Ie=q[++ee]),he[U]=a=u-ne}e.ptr=e.ptr+4*(ee+1)+(J>0?4:0),e.pixels.resultPixels=De,Y>1&&!f&&(e.pixels.resultPixels=B.swapDimensionOrder(De,Q,Y,r))},decodeBits:function(t,e,r,f,s){var u=e.headerInfo,a=u.fileVersion,i=0,y=new DataView(t,e.ptr,t.byteLength-e.ptr>=5?5:t.byteLength-e.ptr),w=y.getUint8(0);i++;var U=w>>6,N=0===U?4:3-U,Y=(32&w)>0,V=31&w,A=0;if(1===N)A=y.getUint8(i),i++;else if(2===N)A=y.getUint16(i,!0),i+=2;else{if(4!==N)throw"Invalid valid pixel count type";A=y.getUint32(i,!0),i+=4}var Q,j,O,W,q,ee,J,z,K,ne=2*u.maxZError,le=u.numDims>1?u.maxValues[s]:u.zMax;if(Y){for(e.counter.lut++,z=y.getUint8(i),i++,W=Math.ceil((z-1)*V/8),q=Math.ceil(W/4),j=new ArrayBuffer(4*q),O=new Uint8Array(j),e.ptr+=i,O.set(new Uint8Array(t,e.ptr,W)),J=new Uint32Array(j),e.ptr+=W,K=0;z-1>>>K;)K++;W=Math.ceil(A*K/8),q=Math.ceil(W/4),j=new ArrayBuffer(4*q),(O=new Uint8Array(j)).set(new Uint8Array(t,e.ptr,W)),Q=new Uint32Array(j),e.ptr+=W,ee=a>=3?X.unstuffLUT2(J,V,z-1,f,ne,le):X.unstuffLUT(J,V,z-1,f,ne,le),a>=3?X.unstuff2(Q,r,K,A,ee):X.unstuff(Q,r,K,A,ee)}else e.counter.bitstuffer++,K=V,e.ptr+=i,K>0&&(W=Math.ceil(A*K/8),q=Math.ceil(W/4),j=new ArrayBuffer(4*q),(O=new Uint8Array(j)).set(new Uint8Array(t,e.ptr,W)),Q=new Uint32Array(j),e.ptr+=W,a>=3?null==f?X.originalUnstuff2(Q,r,K,A):X.unstuff2(Q,r,K,A,!1,f,ne,le):null==f?X.originalUnstuff(Q,r,K,A):X.unstuff(Q,r,K,A,!1,f,ne,le))},readTiles:function(t,e,r,f){var s=e.headerInfo,u=s.width,a=s.height,i=u*a,n=s.microBlockSize,y=s.imageType,w=B.getDataTypeSize(y),U=Math.ceil(u/n),N=Math.ceil(a/n);e.pixels.numBlocksY=N,e.pixels.numBlocksX=U,e.pixels.ptr=0;var Y,V,A,Q,j,O,W,q,ee,J,z=0,K=0,ne=0,le=0,se=0,be=0,Me=0,De=0,he=0,Ae=0,Ue=0,Fe=0,Se=0,xe=0,Oe=new r(n*n),Ne=a%n||n,Ve=u%n||n,Be=s.numDims,Ee=e.pixels.resultMask,Re=e.pixels.resultPixels,Ke=s.fileVersion>=5?14:15,je=s.zMax;for(ne=0;ne<N;ne++)for(se=ne!==N-1?n:Ne,le=0;le<U;le++)for(he=ne*u*n+le*n,Ae=u-(be=le!==U-1?n:Ve),q=0;q<Be;q++){if(Be>1?(J=Re,he=ne*u*n+le*n,Re=new r(e.pixels.resultPixels.buffer,i*q*w,i),je=s.maxValues[q]):J=null,V={},xe=0,Me=(Y=new DataView(t,e.ptr,Math.min(10,t.byteLength-e.ptr))).getUint8(0),xe++,ee=s.fileVersion>=5?4&Me:0,De=Me>>6&255,(Me>>2&Ke)!=(le*n>>3&Ke)||ee&&0===q)throw"integrity issue";if((j=3&Me)>3)throw e.ptr+=xe,"Invalid block encoding ("+j+")";if(2!==j)if(0===j){if(ee)throw"integrity issue";if(e.counter.uncompressed++,e.ptr+=xe,Ue=(Ue=se*be*w)<(Fe=t.byteLength-e.ptr)?Ue:Fe,A=new ArrayBuffer(Ue%w==0?Ue:Ue+w-Ue%w),new Uint8Array(A).set(new Uint8Array(t,e.ptr,Ue)),Q=new r(A),Se=0,Ee)for(z=0;z<se;z++){for(K=0;K<be;K++)Ee[he]&&(Re[he]=Q[Se++]),he++;he+=Ae}else for(z=0;z<se;z++){for(K=0;K<be;K++)Re[he++]=Q[Se++];he+=Ae}e.ptr+=Se*w}else if(O=B.getDataTypeUsed(ee&&y<6?4:y,De),W=B.getOnePixel(V,xe,O,Y),xe+=B.getDataTypeSize(O),3===j)if(e.ptr+=xe,e.counter.constantoffset++,Ee)for(z=0;z<se;z++){for(K=0;K<be;K++)Ee[he]&&(Re[he]=ee?Math.min(je,J[he]+W):W),he++;he+=Ae}else for(z=0;z<se;z++){for(K=0;K<be;K++)Re[he]=ee?Math.min(je,J[he]+W):W,he++;he+=Ae}else if(e.ptr+=xe,B.decodeBits(t,e,Oe,W,q),xe=0,ee)if(Ee)for(z=0;z<se;z++){for(K=0;K<be;K++)Ee[he]&&(Re[he]=Oe[xe++]+J[he]),he++;he+=Ae}else for(z=0;z<se;z++){for(K=0;K<be;K++)Re[he]=Oe[xe++]+J[he],he++;he+=Ae}else if(Ee)for(z=0;z<se;z++){for(K=0;K<be;K++)Ee[he]&&(Re[he]=Oe[xe++]),he++;he+=Ae}else for(z=0;z<se;z++){for(K=0;K<be;K++)Re[he++]=Oe[xe++];he+=Ae}else{if(ee)if(Ee)for(z=0;z<se;z++)for(K=0;K<be;K++)Ee[he]&&(Re[he]=J[he]),he++;else for(z=0;z<se;z++)for(K=0;K<be;K++)Re[he]=J[he],he++;e.counter.constant++,e.ptr+=xe}}Be>1&&!f&&(e.pixels.resultPixels=B.swapDimensionOrder(e.pixels.resultPixels,i,Be,r))},formatFileInfo:function(t){return{fileIdentifierString:t.headerInfo.fileIdentifierString,fileVersion:t.headerInfo.fileVersion,imageType:t.headerInfo.imageType,height:t.headerInfo.height,width:t.headerInfo.width,numValidPixel:t.headerInfo.numValidPixel,microBlockSize:t.headerInfo.microBlockSize,blobSize:t.headerInfo.blobSize,maxZError:t.headerInfo.maxZError,pixelType:B.getPixelType(t.headerInfo.imageType),eofOffset:t.eofOffset,mask:t.mask?{numBytes:t.mask.numBytes}:null,pixels:{numBlocksX:t.pixels.numBlocksX,numBlocksY:t.pixels.numBlocksY,maxValue:t.headerInfo.zMax,minValue:t.headerInfo.zMin,noDataValue:t.noDataValue}}},constructConstantSurface:function(t,e){var r=t.headerInfo.zMax,f=t.headerInfo.zMin,s=t.headerInfo.maxValues,u=t.headerInfo.numDims,a=t.headerInfo.height*t.headerInfo.width,i=0,n=0,y=0,w=t.pixels.resultMask,U=t.pixels.resultPixels;if(w)if(u>1){if(e)for(i=0;i<u;i++)for(y=i*a,r=s[i],n=0;n<a;n++)w[n]&&(U[y+n]=r);else for(n=0;n<a;n++)if(w[n])for(y=n*u,i=0;i<u;i++)U[y+u]=s[i]}else for(n=0;n<a;n++)w[n]&&(U[n]=r);else if(u>1&&f!==r)if(e)for(i=0;i<u;i++)for(y=i*a,r=s[i],n=0;n<a;n++)U[y+n]=r;else for(n=0;n<a;n++)for(y=n*u,i=0;i<u;i++)U[y+i]=s[i];else for(n=0;n<a*u;n++)U[n]=r},getDataTypeArray:function(t){var e;switch(t){case 0:e=Int8Array;break;case 1:e=Uint8Array;break;case 2:e=Int16Array;break;case 3:e=Uint16Array;break;case 4:e=Int32Array;break;case 5:e=Uint32Array;break;default:e=Float32Array;break;case 7:e=Float64Array}return e},getPixelType:function(t){var e;switch(t){case 0:e="S8";break;case 1:e="U8";break;case 2:e="S16";break;case 3:e="U16";break;case 4:e="S32";break;case 5:e="U32";break;default:e="F32";break;case 7:e="F64"}return e},isValidPixelValue:function(t,e){if(null==e)return!1;var r;switch(t){case 0:r=e>=-128&&e<=127;break;case 1:r=e>=0&&e<=255;break;case 2:r=e>=-32768&&e<=32767;break;case 3:r=e>=0&&e<=65536;break;case 4:r=e>=-2147483648&&e<=2147483647;break;case 5:r=e>=0&&e<=4294967296;break;case 6:r=e>=-34027999387901484e22&&e<=34027999387901484e22;break;case 7:r=e>=5e-324&&e<=17976931348623157e292;break;default:r=!1}return r},getDataTypeSize:function(t){var e=0;switch(t){case 0:case 1:e=1;break;case 2:case 3:e=2;break;case 4:case 5:case 6:e=4;break;case 7:e=8;break;default:e=t}return e},getDataTypeUsed:function(t,e){var r=t;switch(t){case 2:case 4:r=t-e;break;case 3:case 5:r=t-2*e;break;case 6:r=0===e?t:1===e?2:1;break;case 7:r=0===e?t:t-2*e+1;break;default:r=t}return r},getOnePixel:function(t,e,r,f){var s=0;switch(r){case 0:s=f.getInt8(e);break;case 1:s=f.getUint8(e);break;case 2:s=f.getInt16(e,!0);break;case 3:s=f.getUint16(e,!0);break;case 4:s=f.getInt32(e,!0);break;case 5:s=f.getUInt32(e,!0);break;case 6:s=f.getFloat32(e,!0);break;case 7:s=f.getFloat64(e,!0);break;default:throw"the decoder does not understand this pixel type"}return s},swapDimensionOrder:function(t,e,r,f,s){var u=0,a=0,i=0,n=0,y=t;if(r>1)if(y=new f(e*r),s)for(u=0;u<e;u++)for(n=u,i=0;i<r;i++,n+=e)y[n]=t[a++];else for(u=0;u<e;u++)for(n=u,i=0;i<r;i++,n+=e)y[a++]=t[n];return y}},ie=function(t,e,r){this.val=t,this.left=e,this.right=r},void 0!==(re={decode:function(t,e){var r=(e=e||{}).noDataValue,f=0,s={};s.ptr=e.inputOffset||0,s.pixels={},B.readHeaderInfo(t,s);var u=s.headerInfo,a=u.fileVersion,i=B.getDataTypeArray(u.imageType);if(a>5)throw"unsupported lerc version 2."+a;B.readMask(t,s),u.numValidPixel===u.width*u.height||s.pixels.resultMask||(s.pixels.resultMask=e.maskData);var n=u.width*u.height;s.pixels.resultPixels=new i(n*u.numDims),s.counter={onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};var y,w=!e.returnPixelInterleavedDims;if(0!==u.numValidPixel)if(u.zMax===u.zMin)B.constructConstantSurface(s,w);else if(a>=4&&B.checkMinMaxRanges(t,s))B.constructConstantSurface(s,w);else{var U=new DataView(t,s.ptr,2),N=U.getUint8(0);if(s.ptr++,N)B.readDataOneSweep(t,s,i,w);else if(a>1&&u.imageType<=1&&Math.abs(u.maxZError-.5)<1e-5){var Y=U.getUint8(1);if(s.ptr++,s.encodeMode=Y,Y>2||a<4&&Y>1)throw"Invalid Huffman flag "+Y;Y?B.readHuffman(t,s,i,w):B.readTiles(t,s,i,w)}else B.readTiles(t,s,i,w)}s.eofOffset=s.ptr,e.inputOffset?(y=s.headerInfo.blobSize+e.inputOffset-s.ptr,Math.abs(y)>=1&&(s.eofOffset=e.inputOffset+s.headerInfo.blobSize)):(y=s.headerInfo.blobSize-s.ptr,Math.abs(y)>=1&&(s.eofOffset=s.headerInfo.blobSize));var V={width:u.width,height:u.height,pixelData:s.pixels.resultPixels,minValue:u.zMin,maxValue:u.zMax,validPixelCount:u.numValidPixel,dimCount:u.numDims,dimStats:{minValues:u.minValues,maxValues:u.maxValues},maskData:s.pixels.resultMask};if(s.pixels.resultMask&&B.isValidPixelValue(u.imageType,r)){var A=s.pixels.resultMask;for(f=0;f<n;f++)A[f]||(V.pixelData[f]=r);V.noDataValue=r}return s.noDataValue=r,e.returnFileInfo&&(V.fileInfo=B.formatFileInfo(s)),V},getBandCount:function(t){for(var e=0,r=0,f={ptr:0,pixels:{}};r<t.byteLength-58;)B.readHeaderInfo(t,f),e++,f.ptr=r+=f.headerInfo.blobSize;return e}})&&(oe.exports=re);var ue=oe.exports;const we=[0,1,1,2,4,8,1,1,2,4,8,4,8,-1,-1,-1,8,8,8],ce=4294967296,Te=new Set([1,5,6,7,8,34712,34887]);function ve(t,e){let r="unknown";return 3===t?r="f32":1===t?1===e?r="u1":2===e?r="u2":4===e?r="u4":e<=8?r="u8":e<=16?r="u16":e<=32&&(r="u32"):2===t&&(e<=8?r="s8":e<=16?r="s16":e<=32&&(r="s32")),r}function Ce(t){let e=null;switch(t?t.toLowerCase():"f32"){case"u1":case"u2":case"u4":case"u8":e=Uint8Array;break;case"u16":e=Uint16Array;break;case"u32":e=Uint32Array;break;case"s8":e=Int8Array;break;case"s16":e=Int16Array;break;case"s32":e=Int32Array;break;default:e=Float32Array}return e}function G(t,e){return{x:e[0]*t.x+e[1]*t.y+e[2],y:e[3]*t.x+e[4]*t.y+e[5]}}function F(t,e){var r;return null==(r=t.get(e))?void 0:r.values}function m(t,e){var r;return null==(r=t.get(e))?void 0:r.values}function x(t,e){var r;return null==(r=t.get(e))?void 0:r.values[0]}function o(t,e){var r;return null==(r=t.get(e))?void 0:r.values[0]}function S(t,e,r,f=0,s=c.Z.TIFF_TAGS,u=4){const a=8===u,i=a?I(new DataView(t,r,8),0,e):new DataView(t,r,2).getUint16(0,e),n=4+2*u,y=a?8:2,w=y+i*n;if(r+w>t.byteLength)return{success:!1,ifd:null,nextIFD:null,requiredBufferSize:w};const U=r+w+4<=t.byteLength?D(new DataView(t,r+w,8===u?8:4),0,e,8===u):null,N=r+y,Y=new Map;let V,A,Q,j,O,W,q;for(let ee=0;ee<i;ee++){A=new DataView(t,N+n*ee,n),Q=A.getUint16(0,e),O=A.getUint16(2,e),j=c.Z.getTagName(Q,s);const J=[];2===u?(W=A.getUint16(4,e),q=A.getUint16(6,e)):4===u?(W=A.getUint32(4,e),q=A.getUint32(8,e)):8===u&&(W=D(A,4,e,!0),q=D(A,12,e,!0),J.push(A.getUint32(12,e)),J.push(A.getUint32(16,e))),V={id:Q,type:O,valueCount:W,valueOffset:q,valueOffsets:J,values:null},l(t,e,V,f,!1,u),Y.set(j,V)}return{success:!0,ifd:Y,nextIFD:U,requiredBufferSize:w}}const L=function(t,e,r,f,s){var u,a;const i=Z.f===e,n=o(r,"BITSPERSAMPLE"),y=ve(null!=(u=o(r,"SAMPLEFORMAT"))?u:1,n),w=null!=(a=o(r,"COMPRESSION"))?a:1,U=Ce(y);let N,Y,V,A,Q,j,O;if(34887===w)return function(t,e){return ue.decode(t,{inputOffset:e,returnFileInfo:!0}).pixelData}(t,f);if(1===w)V=t.slice(f,f+s),A=new Uint8Array(V);else if(8===w||32946===w)A=new Uint8Array(t,f,s),j=new H.Z(A),O=j.getBytes(),V=new ArrayBuffer(O.length),A=new Uint8Array(V),A.set(O);else if(6===w){A=new Uint8Array(t,f,s);const W=new ge.J;W.parse(A);const q=W.getData(W.width,W.height,!0);V=new ArrayBuffer(q.length),A=new Uint8Array(V),A.set(q)}else if(7===w){const W=r.get("JPEGTABLES").values,q=W.length-2;A=new Uint8Array(q+s-2);for(let K=0;K<q;K++)A[K]=W[K];const ee=new Uint8Array(t,f+2,s-2);for(let K=0;K<ee.length;K++)A[q+K]=ee[K];const J=new ge.J;J.parse(A);const z=J.getData(J.width,J.height,!0);V=new ArrayBuffer(z.length),A=new Uint8Array(V),A.set(z)}else 5===w&&(A=fe(t,f,s,e),V=A.buffer);if("u8"===y||"s8"===y||i)Y=new U(V);else{switch(V=new ArrayBuffer(A.length),Q=new Uint8Array(V),y){case"u16":case"s16":for(N=0;N<A.length;N+=2)Q[N]=A[N+1],Q[N+1]=A[N];break;case"u32":case"s32":case"f32":for(N=0;N<A.length;N+=4)Q[N]=A[N+3],Q[N+1]=A[N+2],Q[N+2]=A[N+1],Q[N+3]=A[N]}Y=new U(V)}return Y};function l(t,e,r,f=0,s=!1,u=4){if(r.values)return!0;const a=r.type,i=r.valueCount;let n=r.valueOffset,y=[];const w=we[a],U=8*w,N=i*w,Y=i*we[a]*8;let V,A;const Q=8===u?64:32,j=r.valueOffsets;if(Y>Q&&N>(s?t.byteLength:t?t.byteLength-n+f:0))return r.offlineOffsetSize=[n,N],r.values=null,!1;if(Y<=Q){if(!e)if(Q<=32)n>>>=32-Y;else{const O=null!=j&&j.length?j[0]:n>>>0,W=null!=j&&j.length?j[1]:Math.round((n-O)/ce);Y<=32?(n=O>>>32-Y,j[0]=n):(n=O*_e(2,32-Y)+(W>>>32-Y),j[0]=O,j[1]=W>>>32-Y)}if(1===i&&U===Q)y=[n];else if(64===Q){const O=null!=j&&j.length?j[0]:n>>>0,W=null!=j&&j.length?j[1]:Math.round((n-O)/ce);let q=O,ee=32;for(A=1;A<=i;A++){const J=32-U*A%32;if(ee<U){const z=q<<J>>>32-ee;q=W,y.push(z+(W<<32-ee>>>32-ee)*_e(2,U-ee)),ee-=32-(U-ee)}else y.push(q<<J>>>32-U),ee-=U;0===ee&&(ee=32,q=W)}}else for(A=1;A<=i;A++)y.push(n<<32-U*A>>>32-U)}else{n-=f,s&&(n=0);for(let O=n;O<n+N;O+=w){switch(a){case 1:case 2:case 7:V=new DataView(t,O,1).getUint8(0);break;case 3:V=new DataView(t,O,2).getUint16(0,e);break;case 4:case 13:V=new DataView(t,O,4).getUint32(0,e);break;case 5:V=new DataView(t,O,4).getUint32(0,e)/new DataView(t,O+4,4).getUint32(0,e);break;case 6:V=new DataView(t,O,1).getInt8(0);break;case 8:V=new DataView(t,O,2).getInt16(0,e);break;case 9:V=new DataView(t,O,4).getInt32(0,e);break;case 10:V=new DataView(t,O,4).getInt32(0,e)/new DataView(t,O+4,4).getInt32(0,e);break;case 11:V=new DataView(t,O,4).getFloat32(0,e);break;case 12:V=new DataView(t,O,8).getFloat64(0,e);break;case 16:case 18:V=I(new DataView(t,O,8),0,e);break;case 17:V=_(new DataView(t,O,8),0,e);break;default:V=null}y.push(V)}}if(2===a){let O="";const W=y;for(y=[],A=0;A<W.length;A++)0===W[A]&&""!==O?(y.push(O),O=""):O+=String.fromCharCode(W[A]);""===O&&0!==y.length||y.push(O)}return r.values=y,!0}function p(t){var e,r;const f=t[0],s=o(f,"TILEWIDTH"),u=o(f,"TILELENGTH"),a=o(f,"IMAGEWIDTH"),i=o(f,"IMAGELENGTH"),n=o(f,"BITSPERSAMPLE"),y=o(f,"SAMPLESPERPIXEL"),w=null!=(e=o(f,"SAMPLEFORMAT"))?e:1,U=ve(w,n),N=v(f),Y=F(f,"GDAL_NODATA");let V;null!=Y&&Y.length&&(V=Y.map(Se=>parseFloat(Se)),V.some(Se=>isNaN(Se))&&(V=null));const A=null!=(r=o(f,"COMPRESSION"))?r:1;let Q;switch(A){case 1:Q="NONE";break;case 2:case 3:case 4:case 32771:Q="CCITT";break;case 5:Q="LZW";break;case 6:case 7:Q="JPEG";break;case 32773:Q="PACKBITS";break;case 8:case 32946:Q="DEFLATE";break;case 34712:Q="JPEG2000";break;case 34887:Q="LERC";break;default:Q=String(A)}let j=!0,O="";Te.has(A)||(j=!1,O+="unsupported tag compression "+A),w>3&&(j=!1,O+="unsupported tag sampleFormat "+w),n%8!=0&&(j=!1,O+="unsupported tag bitsPerSample "+n);const W=x(f,"GEOASCIIPARAMS");let q;if(W){const Se=W.split("|").filter(Oe=>Oe.indexOf("ESRI PE String = ")>-1)[0],xe=Se?Se.replace("ESRI PE String = ",""):"";q=xe.startsWith("COMPD_CS")||xe.startsWith("PROJCS")||xe.startsWith("GEOGCS")?{wkid:null,wkt:xe}:null}const ee=m(f,"GEOTIEPOINTS"),J=m(f,"GEOPIXELSCALE"),z=m(f,"GEOTRANSMATRIX"),K=f.has("GEOKEYDIRECTORY")?f.get("GEOKEYDIRECTORY").data:null;let ne,le,se=!1;if(K){se=2===o(K,"GTRasterTypeGeoKey");const Se=o(K,"GTModelTypeGeoKey");if(2===Se){const xe=o(K,"GeographicTypeGeoKey");xe>=1024&&xe<=32766&&(q={wkid:xe})}else if(1===Se){const xe=o(K,"ProjectedCSTypeGeoKey");xe>=1024&&xe<=32766&&(q={wkid:xe})}}if(J&&ee&&ee.length>=6?(ne=[J[0],0,ee[3]-ee[0]*J[0],0,-Math.abs(J[1]),ee[4]-ee[1]*J[1]],se&&(ne[2]-=.5*ne[0]+.5*ne[1],ne[5]-=.5*ne[3]+.5*ne[4])):z&&16===z.length&&(ne=se?[z[0],z[1],z[3]-.5*z[0],z[4],z[5],z[7]-.5*z[5]]:[z[0],z[1],z[3],z[4],z[5],z[7]]),ne){const Se=[{x:0,y:i},{x:0,y:0},{x:a,y:i},{x:a,y:0}];let xe,Oe=Number.POSITIVE_INFINITY,Ne=Number.POSITIVE_INFINITY,Ve=Number.NEGATIVE_INFINITY,Be=Number.NEGATIVE_INFINITY;for(let Ee=0;Ee<Se.length;Ee++)xe=G(Se[Ee],ne),Oe=xe.x>Oe?Oe:xe.x,Ve=xe.x<Ve?Ve:xe.x,Ne=xe.y>Ne?Ne:xe.y,Be=xe.y<Be?Be:xe.y;le={xmin:Oe,xmax:Ve,ymin:Ne,ymax:Be,spatialReference:q}}else le={xmin:-.5,ymin:.5-i,xmax:a-.5,ymax:.5,spatialReference:q};const be=t.filter(Se=>1===x(Se,"NEWSUBFILETYPE"));let Ie,Me,De,he,Ae;if(be.length>0){Ie=Math.round(Math.log(a/o(be[0],"IMAGEWIDTH"))/Math.LN2);const Se=be[be.length-1];Me=Math.round(Math.log(a/o(Se,"IMAGEWIDTH"))/Math.LN2),De=o(Se,"TILEWIDTH"),he=o(Se,"TILELENGTH")}De=Me>0?De||s:null,he=Me>0?he||u:null,s&&(Ae=[{maxCol:Math.ceil(a/s)-1,maxRow:Math.ceil(i/u)-1,minRow:0,minCol:0}],be.forEach(Se=>{Ae.push({maxCol:Math.ceil(o(Se,"IMAGEWIDTH")/o(Se,"TILEWIDTH"))-1,maxRow:Math.ceil(o(Se,"IMAGELENGTH")/o(Se,"TILELENGTH"))-1,minRow:0,minCol:0})}));const Fe=function(t){if(!t)return null;const e=t.match(/<Item(.*?)Item>/gi);if(!e||0===e.length)return null;const r=new Map;let f,s,u,a,i;for(let j=0;j<e.length;j++)f=e[j],s=f.slice("<Item ".length,f.indexOf(">")),a=f.indexOf("sample="),a>-1&&(i=f.slice(a+'sample="'.length,f.indexOf('"',a+'sample="'.length))),a=f.indexOf("name="),a>-1&&(s=f.slice(a+'name="'.length,f.indexOf('"',a+'name="'.length))),s&&(u=f.slice(f.indexOf(">")+1,f.indexOf("</Item>")).trim(),null!=i?r.has(s)?r.get(s)[i]=u:r.set(s,[u]):r.set(s,u)),i=null;const n=r.get("STATISTICS_MINIMUM"),y=r.get("STATISTICS_MAXIMUM"),w=r.get("STATISTICS_MEAN"),U=r.get("STATISTICS_STDDEV");let N=null;if(n&&y){N=[];for(let j=0;j<n.length;j++)N.push({min:parseFloat(n[j]),max:parseFloat(y[j]),avg:w&&parseFloat(w[j]),stddev:U&&parseFloat(U[j])})}const Y=r.get("BandName"),V=r.get("WavelengthMin"),A=r.get("WavelengthMax");let Q=null;if(Y){Q=[];for(let j=0;j<Y.length;j++)Q.push({BandName:Y[j],WavelengthMin:V&&parseFloat(V[j]),WavelengthMax:A&&parseFloat(A[j])})}return{statistics:N,bandProperties:Q,dataType:r.get("DataType"),rawMetadata:r}}(x(t[0],"GDAL_METADATA"));return O+=" "+E({width:a,height:i,tileWidth:s,tileHeight:u,planes:y,ifds:t}),{width:a,height:i,tileWidth:s,tileHeight:u,planes:y,isBSQ:N,pixelType:U,compression:Q,noData:V,isSupported:j,message:O,extent:le,affine:J?null:ne,firstPyramidLevel:Ie,maximumPyramidLevel:Me,pyramidBlockWidth:De,pyramidBlockHeight:he,tileBoundary:Ae,metadata:Fe}}function v(t,e){const r=F(t,"PLANARCONFIGURATION");return r?2===r[0]:!!e&&e.isBSQ}function I(t,e,r){const f=t.getUint32(e,r),s=t.getUint32(e+4,r);return r?s*ce+f:f*ce+s}function _(t,e,r){let f=r?t.getInt32(e,r):t.getUint32(e,r),s=r?t.getUint32(e+4,r):t.getInt32(e+4,r);const u=(r?f:s)>=0?1:-1;return r?f*=u:s*=u,u*(r?s*ce+f:f*ce+s)}function D(t,e,r,f){return f?I(t,e,r):t.getUint32(e,r)}function C(t){const e=new DataView(t,0,16),r=e.getUint16(0,!1);let f=null;if(18761===r)f=!0;else{if(19789!==r)throw"unexpected endianess byte";f=!1}const s=e.getUint16(2,f);if(42!==s&&43!==s)throw"unexpected tiff identifier";let u=4;const a=43===s;if(a){const i=e.getUint16(u,f);if(u+=2,8!==i||0!==e.getUint16(u,f))throw"unsupported bigtiff version";u+=2}return{littleEndian:f,isBigTiff:a,firstIFD:D(e,u,f,a)}}function k(t,e,r,f=0,s=c.Z.TIFF_TAGS,u=4){const a=S(t,e,r,f,s,u);let i;const n=a.ifd;if(n){if(c.Z.ifdTags.forEach((y,w)=>{n.has(w)&&(i=n.get(w),i.data=S(t,e,i.valueOffset-f,f,y).ifd)}),n.has("GEOKEYDIRECTORY")){i=n.get("GEOKEYDIRECTORY");const y=i.values;if(y&&y.length>4){const w=y[0]+"."+y[1]+"."+y[2];i.data=S(t,e,i.valueOffset+6-f,f,c.Z.GEO_KEYS,2).ifd,i.data&&i.data.set("GEOTIFFVersion",{id:0,type:2,valueCount:1,valueOffset:null,values:[w]})}}if(n.has("XMP")){i=n.get("XMP");const y=i.values;"number"==typeof y[0]&&7===i.type&&(i.values=[(0,ae.f)(new Uint8Array(y))])}}return a}function E(t){const{width:e,height:r,tileHeight:f,tileWidth:s}=t,u=t.planes,a=s?s*f:e*r,i=o(t.ifds[0],"BITSPERSAMPLE");let n="";return a*u>_e(2,30)/(i>8?i/8:1)&&(n=s?"tiled tiff exceeding 1 gigabits per tile is not supported":"scanline tiff exceeding 1 gigabits is not supported"),n}function M(t,e){var r;const{headerInfo:f,ifd:s,offsets:u,sizes:a}=e,i=u.map((le,se)=>L(t,f.littleEndian,s,le,a[se]||t.byteLength)),n=v(s,f),{pixelType:y,planes:w}=f,U=Ce(y),N=o(s,"TILEWIDTH"),Y=o(s,"TILELENGTH"),V=null!=(r=o(s,"COMPRESSION"))?r:1,A=N*Y;let Q;const j=[];let O=i[0];const W=34887===V;for(let le=0;le<w;le++){if(Q=new U(A),n&&W){O=i[le];for(let se=0;se<A;se++)Q[se]=O[le][se+le]}else if(n||W&&!n)Q=O.slice(A*le,A*(le+1));else for(let se=0;se<A;se++)Q[se]=O[se*w+le];j.push(Q)}const q=f.noData?f.noData[0]:null,ee=f.metadata?f.metadata.statistics:null,J=ee?ee.map(le=>le.min):null,z=ee?ee.map(le=>le.max):null;let K,ne;if(null!=q)if(K=new Uint8Array(A),Math.abs(q)>1e24)for(ne=0;ne<A;ne++)K[ne]=Math.abs((j[0][ne]-q)/q)<1e-6?0:1;else for(ne=0;ne<A;ne++)K[ne]=j[0][ne]===q?0:1;else J&&z&&e.applyMinMaxConstraint&&(K=function(t,e,r){if(!(t&&t.length>0&&e&&r))return null;let f,s,u;const a=t[0].length,i=t.length,n=new Uint8Array(a);for(let y=0;y<i;y++)if(f=t[y],s=e[y],u=r[y],0===y)for(let w=0;w<a;w++)n[w]=f[w]<s||f[w]>u?0:1;else for(let w=0;w<a;w++)n[w]&&(n[w]=f[w]<s||f[w]>u?0:1);return n}(j,J,z));return{pixelType:y,width:N,height:Y,pixels:j,mask:K,noDataValue:q}}function d(t,e=0,r){r=r||function(t){const{littleEndian:e,isBigTiff:r,firstIFD:f}=C(t);let s=f;const u=[];do{const a=k(t,e,s,0,c.Z.TIFF_TAGS,r?8:4);if(!a.success)break;u.push(a.ifd),s=a.nextIFD}while(s>0);return Ge(Le({},p(u)),{littleEndian:e,isBigTiff:r,ifds:u})}(t);const{ifds:f,noData:s}=r;if(0===f.length)throw"no valid image file directory";const u=E(r);if(u)throw u;let a,i;const n=-1===e?f[f.length-1]:f[e],y=s?s[0]:null;if(i=r.tileWidth?function(t,e,r){var f;const s=m(r,"TILEOFFSETS");if(void 0===s)return null;const u=m(r,"TILEBYTECOUNTS"),{width:a,height:i,pixelType:n,tileWidth:y,tileHeight:w}=p([r]),U=v(r,e),N=e.planes,Y=a*i,V=o(r,"BITSPERSAMPLE"),A=34887===(null!=(f=o(r,"COMPRESSION"))?f:1),Q=Ce(n),j=[];for(let he=0;he<N;he++)j.push(new Q(Y));let O,W,q,ee,J,z,K,ne,le,se,be,Ie,Me;const De=Math.ceil(a/y);if(V%8==0)if(A&&U&&N>1){const he=Math.round(s.length/N);for(O=0;O<he;O++){z=Math.floor(O/De)*w,K=O%De*y,ne=z*a+K;for(let Ae=0;Ae<N;Ae++){const Ue=O*N+Ae;for(q=L(t,e.littleEndian,r,s[Ue],u[Ue]),se=0,le=ne,Ie=Math.min(y,a-K),be=Math.min(w,i-z),Me=j[Ae],ee=0;ee<be;ee++)for(le=ne+ee*a,se=ee*y,J=0;J<Ie;J++,le++,se++)Me[le]=q[se]}}}else for(O=0;O<s.length;O++)for(z=Math.floor(O/De)*w,K=O%De*y,ne=z*a+K,q=L(t,e.littleEndian,r,s[O],u[O]),se=0,le=ne,Ie=Math.min(y,a-K),be=Math.min(w,i-z),W=0;W<N;W++)if(Me=j[W],U||A)for(ee=0;ee<be;ee++)for(le=ne+ee*a,se=y*w*W+ee*y,J=0;J<Ie;J++,le++,se++)Me[le]=q[se];else for(ee=0;ee<be;ee++)for(le=ne+ee*a,se=ee*y*N+W,J=0;J<Ie;J++,le++,se+=N)Me[le]=q[se];return{width:a,height:i,pixelType:n,pixels:j}}(t,r,n):function(t,e,r){var f;const s=Z.f===e.littleEndian,u=m(r,"STRIPOFFSETS");if(void 0===u)return null;const{width:a,height:i,pixelType:n}=p([r]),y=e.planes,w=a*i,U=o(r,"BITSPERSAMPLE"),N=Ce(n),Y=new N(w*y),V=m(r,"STRIPBYTECOUNTS"),A=o(r,"ROWSPERSTRIP"),Q=null!=(f=o(r,"COMPRESSION"))?f:1;let j,O,W,q,ee,J,z,K,ne,le,se,be=A;if(U%8==0)for(j=0;j<u.length;j++){if(ee=j*(A*a)*y,be=(j+1)*A>i?i-j*A:A,"u8"===n||"s8"===n||s){if(8===Q||32946===Q)z=new Uint8Array(t,u[j],V[j]),le=new H.Z(z),se=le.getBytes(),J=new ArrayBuffer(se.length),z=new Uint8Array(J),z.set(se),z.length!==be*a*y*U/8&&console.log("strip byte counts is different than expected");else if(6===Q){z=new Uint8Array(t,u[j],V[j]);const Me=new ge.J;Me.parse(z);const De=Me.getData(Me.width,Me.height,!0);J=new ArrayBuffer(De.length),z=new Uint8Array(J),z.set(De)}else 5===Q?(z=fe(t,u[j],V[j],e.littleEndian),J=z.buffer):1===Q&&(V[j]!==be*a*y*U/8&&console.log("strip byte counts is different than expected"),J=t.slice(u[j],u[j]+V[j]));q=new N(J)}else{switch(6===Q||8===Q||32946===Q?(z=new Uint8Array(t,u[j],V[j]),le=new H.Z(z),z=le.getBytes(),J=new ArrayBuffer(z.length),K=new Uint8Array(J),z.length!==be*a*y*U/8&&console.log("strip byte counts is different than expected")):1===Q&&(V[j]!==be*a*y*U/8&&console.log("strip byte counts is different than expected"),J=new ArrayBuffer(V[j]),z=new Uint8Array(t,u[j],V[j]),K=new Uint8Array(J)),n){case"u16":case"s16":for(W=0;W<z.length;W+=2)K[W]=z[W+1],K[W+1]=z[W];break;case"u32":case"s32":case"f32":for(W=0;W<z.length;W+=4)K[W]=z[W+3],K[W+1]=z[W+2],K[W+2]=z[W+1],K[W+3]=z[W]}q=new N(J)}Y.set(q,ee)}const Ie=[];if(1===y)Ie.push(Y);else for(j=0;j<y;j++){for(ne=new N(w),O=0;O<w;O++)ne[O]=Y[O*y+j];Ie.push(ne)}return{width:a,height:i,pixelType:n,pixels:Ie}}(t,r,n),null!==y){if(i.mask=new Uint8Array(i.width*i.height),Math.abs(y)>1e24)for(a=0;a<i.width*i.height;a++)i.mask[a]=Math.abs((i.pixels[0][a]-y)/y)<1e-6?0:1;else for(a=0;a<i.width*i.height;a++)i.mask[a]=i.pixels[0][a]===y?0:1;i.noDataValue=y}return i}},40284:(Pe,ke,te)=>{te.d(ke,{Z:()=>me});var ae,ge,ye,de={exports:{}};ge=de,ae=function(){function pe(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return pe.prototype={ensureBuffer:function(fe){var c=this.buffer,Z=c?c.byteLength:0;if(fe<Z)return c;for(var H=512;H<fe;)H<<=1;for(var X=new Uint8Array(H),B=0;B<Z;++B)X[B]=c[B];return this.buffer=X},getByte:function(){for(var fe=this.pos;this.bufferLength<=fe;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(fe){var c=this.pos;if(fe){this.ensureBuffer(c+fe);for(var Z=c+fe;!this.eof&&this.bufferLength<Z;)this.readBlock();var H=this.bufferLength;Z>H&&(Z=H)}else{for(;!this.eof;)this.readBlock();Z=this.bufferLength}return this.pos=Z,this.buffer.subarray(c,Z)},lookChar:function(){for(var fe=this.pos;this.bufferLength<=fe;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var fe=this.pos;this.bufferLength<=fe;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(fe,c,Z){for(var H=fe+c;this.bufferLength<=H&&!this.eof;)this.readBlock();return new Stream(this.buffer,fe,c,Z)},skip:function(fe){fe||(fe=1),this.pos+=fe},reset:function(){this.pos=0}},pe}(),void 0!==(ye=function(){if(!self||!self.Uint32Array)return null;var pe=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),fe=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),c=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),Z=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],H=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];function X(ie){throw new Error(ie)}function B(ie){var $=0,re=ie[$++],oe=ie[$++];-1!=re&&-1!=oe||X("Invalid header in flate stream"),8!=(15&re)&&X("Unknown compression method in flate stream"),((re<<8)+oe)%31!=0&&X("Bad FCHECK in flate stream"),32&oe&&X("FDICT bit set in flate stream"),this.bytes=ie,this.bytesPos=2,this.codeSize=0,this.codeBuf=0,ae.call(this)}return(B.prototype=Object.create(ae.prototype)).getBits=function(ie){for(var $,re=this.codeSize,oe=this.codeBuf,ue=this.bytes,we=this.bytesPos;re<ie;)void 0===($=ue[we++])&&X("Bad encoding in flate stream"),oe|=$<<re,re+=8;return $=oe&(1<<ie)-1,this.codeBuf=oe>>ie,this.codeSize=re-=ie,this.bytesPos=we,$},B.prototype.getCode=function(ie){for(var $=ie[0],re=ie[1],oe=this.codeSize,ue=this.codeBuf,we=this.bytes,ce=this.bytesPos;oe<re;){var Te;void 0===(Te=we[ce++])&&X("Bad encoding in flate stream"),ue|=Te<<oe,oe+=8}var ve=$[ue&(1<<re)-1],Ce=ve>>16,G=65535&ve;return(0==oe||oe<Ce||0==Ce)&&X("Bad encoding in flate stream"),this.codeBuf=ue>>Ce,this.codeSize=oe-Ce,this.bytesPos=ce,G},B.prototype.generateHuffmanTable=function(ie){for(var $=ie.length,re=0,oe=0;oe<$;++oe)ie[oe]>re&&(re=ie[oe]);for(var ue=1<<re,we=new Uint32Array(ue),ce=1,Te=0,ve=2;ce<=re;++ce,Te<<=1,ve<<=1)for(var Ce=0;Ce<$;++Ce)if(ie[Ce]==ce){var G=0,F=Te;for(oe=0;oe<ce;++oe)G=G<<1|1&F,F>>=1;for(oe=G;oe<ue;oe+=ve)we[oe]=ce<<16|Ce;++Te}return[we,re]},B.prototype.readBlock=function(){function ie(C,k,E,M,d){for(var t=C.getBits(E)+M;t-- >0;)k[ve++]=d}var $=this.getBits(3);if(1&$&&(this.eof=!0),0!=($>>=1)){var re,oe;if(1==$)re=Z,oe=H;else if(2==$){for(var ue=this.getBits(5)+257,we=this.getBits(5)+1,ce=this.getBits(4)+4,Te=Array(pe.length),ve=0;ve<ce;)Te[pe[ve++]]=this.getBits(3);for(var Ce=this.generateHuffmanTable(Te),G=0,F=(ve=0,ue+we),m=new Array(F);ve<F;){var x=this.getCode(Ce);16==x?ie(this,m,2,3,G):17==x?ie(this,m,3,3,G=0):18==x?ie(this,m,7,11,G=0):m[ve++]=G=x}re=this.generateHuffmanTable(m.slice(0,ue)),oe=this.generateHuffmanTable(m.slice(ue,F))}else X("Unknown block type in flate stream");for(var o=(I=this.buffer)?I.length:0,S=this.bufferLength;;){var g=this.getCode(re);if(g<256)S+1>=o&&(o=(I=this.ensureBuffer(S+1)).length),I[S++]=g;else{if(256==g)return void(this.bufferLength=S);var L=(g=fe[g-=257])>>16;L>0&&(L=this.getBits(L)),G=(65535&g)+L,g=this.getCode(oe),(L=(g=c[g])>>16)>0&&(L=this.getBits(L));var h=(65535&g)+L;S+G>=o&&(o=(I=this.ensureBuffer(S+G)).length);for(var T=0;T<G;++T,++S)I[S]=I[S-h]}}}else{var P,b=this.bytes,l=this.bytesPos;void 0===(P=b[l++])&&X("Bad block header in flate stream");var p=P;void 0===(P=b[l++])&&X("Bad block header in flate stream"),p|=P<<8,void 0===(P=b[l++])&&X("Bad block header in flate stream");var v=P;void 0===(P=b[l++])&&X("Bad block header in flate stream"),(v|=P<<8)!=(65535&~p)&&X("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var R=this.bufferLength,I=this.ensureBuffer(R+p),_=R+p;this.bufferLength=_;for(var D=R;D<_;++D){if(void 0===(P=b[l++])){this.eof=!0;break}I[D]=P}this.bytesPos=l}},B}())&&(ge.exports=ye);var me=de.exports},52227:(Pe,ke,te)=>{function ge(o){return"h"in o&&"s"in o&&"v"in o}function ye(o){return"l"in o&&"a"in o&&"b"in o}function de(o){return"l"in o&&"c"in o&&"h"in o}te.d(ke,{_Y:()=>Ce,Y3:()=>G,sJ:()=>F,xr:()=>ve});const pe=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],fe=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function c(o,S){const g=[];let L,h;if(o[0].length!==S.length)throw"dimensions do not match";const T=o.length,P=o[0].length;let b=0;for(L=0;L<T;L++){for(b=0,h=0;h<P;h++)b+=o[L][h]*S[h];g.push(b)}return g}function Z(o){const S=[o.r/255,o.g/255,o.b/255].map(L=>L<=.04045?L/12.92:_e((L+.055)/1.055,2.4)),g=c(pe,S);return{x:100*g[0],y:100*g[1],z:100*g[2]}}function H(o){const S=c(fe,[o.x/100,o.y/100,o.z/100]).map(g=>{const L=g<=.0031308?12.92*g:1.055*_e(g,1/2.4)-.055;return Math.min(1,Math.max(L,0))});return{r:Math.round(255*S[0]),g:Math.round(255*S[1]),b:Math.round(255*S[2])}}function X(o){const S=[o.x/95.047,o.y/100,o.z/108.883].map(g=>g>_e(6/29,3)?_e(g,1/3):1/3*_e(29/6,2)*g+4/29);return{l:116*S[1]-16,a:500*(S[0]-S[1]),b:200*(S[1]-S[2])}}function B(o){const S=o.l,g=[(S+16)/116+o.a/500,(S+16)/116,(S+16)/116-o.b/200].map(L=>L>6/29?_e(L,3):3*_e(6/29,2)*(L-4/29));return{x:95.047*g[0],y:100*g[1],z:108.883*g[2]}}function ve(o){return function(o){return"r"in o&&"g"in o&&"b"in o}(o)?o:de(o)?function(o){return H(B(function(o){const g=o.c,L=o.h;return{l:o.l,a:g*Math.cos(L),b:g*Math.sin(L)}}(o)))}(o):ye(o)?function(o){return H(B(o))}(o):function(o){return"x"in o&&"y"in o&&"z"in o}(o)?H(o):ge(o)?function(o){const S=(o.h+360)%360/60,L=o.v/100*255,h=L*(o.s/100),T=h*(1-Math.abs(S%2-1));let P;switch(Math.floor(S)){case 0:P={r:h,g:T,b:0};break;case 1:P={r:T,g:h,b:0};break;case 2:P={r:0,g:h,b:T};break;case 3:P={r:0,g:T,b:h};break;case 4:P={r:T,g:0,b:h};break;case 5:case 6:P={r:h,g:0,b:T};break;default:P={r:0,g:0,b:0}}return P.r=Math.round(P.r+L-h),P.g=Math.round(P.g+L-h),P.b=Math.round(P.b+L-h),P}(o):o}function Ce(o){return ge(o)?o:function(o){const S=o.r,g=o.g,L=o.b,h=Math.max(S,g,L),T=h-Math.min(S,g,L);let P=h,b=0===T?0:h===S?(g-L)/T%6:h===g?(L-S)/T+2:(S-g)/T+4,l=0===T?0:T/P;return b<0&&(b+=6),b*=60,l*=100,P*=100/255,{h:b,s:l,v:P}}(ve(o))}function G(o){return ye(o)?o:function(o){return X(Z(o))}(ve(o))}function F(o){return de(o)?o:function(o){return function(o){const S=o.l,g=o.a,L=o.b,h=Math.sqrt(g*g+L*L);let T=Math.atan2(L,g);return T=T>0?T:T+2*Math.PI,{l:S,c:h,h:T}}(X(Z(o)))}(ve(o))}},38973:(Pe,ke,te)=>{te.d(ke,{Z:()=>ie});var ae=te(60046),ge=te(54792),ye=te(60305),de=te(9077),c=(te(67474),te(57025),te(33870),te(42442)),Z=te(82059),H=te(56703),X=te(55874);let B=class extends ge.wq{constructor($){super($),this.attributeTable=null,this.bandCount=null,this.colormap=null,this.extent=null,this.format=void 0,this.height=null,this.width=null,this.histograms=null,this.keyProperties={},this.multidimensionalInfo=null,this.noDataValue=null,this.pixelSize=null,this.pixelType=null,this.isPseudoSpatialReference=!1,this.spatialReference=null,this.statistics=null,this.storageInfo=null,this.transform=null}get dataType(){var $,re,oe;const ue=null!=($=null==(re=this.keyProperties)||null==(oe=re.DataType)?void 0:oe.toLowerCase())?$:"generic";return"stdtime"===ue?"standard-time":ue}get nativeExtent(){return this._get("nativeExtent")||this.extent}set nativeExtent($){$&&this._set("nativeExtent",$)}get nativePixelSize(){if(!(0,ye.pC)(this.transform)||!this.transform.affectsPixelSize)return this.pixelSize;const $=this.nativeExtent;return{x:$.width/this.width,y:$.height/this.height}}};(0,ae._)([(0,de.Cb)({json:{write:!0}})],B.prototype,"attributeTable",void 0),(0,ae._)([(0,de.Cb)({json:{write:!0}})],B.prototype,"bandCount",void 0),(0,ae._)([(0,de.Cb)({json:{write:!0}})],B.prototype,"colormap",void 0),(0,ae._)([(0,de.Cb)({type:String,readOnly:!0})],B.prototype,"dataType",null),(0,ae._)([(0,de.Cb)({type:Z.Z,json:{write:!0}})],B.prototype,"extent",void 0),(0,ae._)([(0,de.Cb)({type:Z.Z,json:{write:!0}})],B.prototype,"nativeExtent",null),(0,ae._)([(0,de.Cb)({json:{write:!0}})],B.prototype,"nativePixelSize",null),(0,ae._)([(0,de.Cb)({json:{write:!0}})],B.prototype,"format",void 0),(0,ae._)([(0,de.Cb)({json:{write:!0}})],B.prototype,"height",void 0),(0,ae._)([(0,de.Cb)({json:{write:!0}})],B.prototype,"width",void 0),(0,ae._)([(0,de.Cb)({json:{write:!0}})],B.prototype,"histograms",void 0),(0,ae._)([(0,de.Cb)({json:{write:!0}})],B.prototype,"keyProperties",void 0),(0,ae._)([(0,de.Cb)({json:{write:!0}})],B.prototype,"multidimensionalInfo",void 0),(0,ae._)([(0,de.Cb)()],B.prototype,"noDataValue",void 0),(0,ae._)([(0,de.Cb)({json:{write:!0}})],B.prototype,"pixelSize",void 0),(0,ae._)([(0,de.Cb)({json:{write:!0}})],B.prototype,"pixelType",void 0),(0,ae._)([(0,de.Cb)()],B.prototype,"isPseudoSpatialReference",void 0),(0,ae._)([(0,de.Cb)({type:H.Z,json:{write:!0}})],B.prototype,"spatialReference",void 0),(0,ae._)([(0,de.Cb)({json:{write:!0}})],B.prototype,"statistics",void 0),(0,ae._)([(0,de.Cb)({type:X.Z,json:{write:!0}})],B.prototype,"storageInfo",void 0),(0,ae._)([(0,de.Cb)({json:{write:!0}})],B.prototype,"transform",void 0),B=(0,ae._)([(0,c.j)("esri.layers.support.RasterInfo")],B);var ie=B},55874:(Pe,ke,te)=>{te.d(ke,{Z:()=>H});var ae=te(60046),ge=te(54792),ye=te(9077),fe=(te(67474),te(57025),te(33870),te(42442)),c=te(27640);let Z=class extends ge.wq{constructor(){super(...arguments),this.blockWidth=void 0,this.blockHeight=void 0,this.compression=null,this.origin=null,this.firstPyramidLevel=null,this.maximumPyramidLevel=null,this.pyramidScalingFactor=2,this.pyramidBlockWidth=null,this.pyramidBlockHeight=null,this.isVirtualTileInfo=!1,this.tileInfo=null,this.blockBoundary=null}};(0,ae._)([(0,ye.Cb)({type:Number,json:{write:!0}})],Z.prototype,"blockWidth",void 0),(0,ae._)([(0,ye.Cb)({type:Number,json:{write:!0}})],Z.prototype,"blockHeight",void 0),(0,ae._)([(0,ye.Cb)({type:String,json:{write:!0}})],Z.prototype,"compression",void 0),(0,ae._)([(0,ye.Cb)({type:c.Z,json:{write:!0}})],Z.prototype,"origin",void 0),(0,ae._)([(0,ye.Cb)({type:Number,json:{write:!0}})],Z.prototype,"firstPyramidLevel",void 0),(0,ae._)([(0,ye.Cb)({type:Number,json:{write:!0}})],Z.prototype,"maximumPyramidLevel",void 0),(0,ae._)([(0,ye.Cb)({json:{write:!0}})],Z.prototype,"pyramidResolutions",void 0),(0,ae._)([(0,ye.Cb)({type:Number,json:{write:!0}})],Z.prototype,"pyramidScalingFactor",void 0),(0,ae._)([(0,ye.Cb)({type:Number,json:{write:!0}})],Z.prototype,"pyramidBlockWidth",void 0),(0,ae._)([(0,ye.Cb)({type:Number,json:{write:!0}})],Z.prototype,"pyramidBlockHeight",void 0),(0,ae._)([(0,ye.Cb)({type:Boolean,json:{write:!0}})],Z.prototype,"isVirtualTileInfo",void 0),(0,ae._)([(0,ye.Cb)({json:{write:!0}})],Z.prototype,"tileInfo",void 0),(0,ae._)([(0,ye.Cb)()],Z.prototype,"blockBoundary",void 0),Z=(0,ae._)([(0,fe.j)("esri.layers.support.RasterStorageInfo")],Z);var H=Z},44005:(Pe,ke,te)=>{function ae(ge,ye){let de=0,me="",pe=0,fe=0;const c=ge.length;for(;de<c;)fe=ge[de++],pe=fe>>4,pe<8?pe=1:15===pe?(pe=4,fe=(7&fe)<<18|(63&ge[de++])<<12|(63&ge[de++])<<6|63&ge[de++]):14===pe?(pe=3,fe=(15&fe)<<12|(63&ge[de++])<<6|63&ge[de++]):(pe=2,fe=(31&fe)<<6|63&ge[de++]),(0!==fe||ye)&&(me+=String.fromCharCode(fe));return me}te.d(ke,{f:()=>ae})},25465:(Pe,ke,te)=>{te.d(ke,{Jx:()=>T,y6:()=>h});var ae=te(61921),ge=te(22795),ye=te(82657),de=te(12523),me=te(40284);class pe{constructor(l){l&&(this.canvas=l.canvas,this.ctx=l.ctx||l.canvas&&l.canvas.getContext("2d"))}decode(l,p,v){if(!l||l.byteLength<10)throw new ge.Z("imagecanvasdecoder: decode","required a valid encoded data as input.");let{width:R,height:I,format:_}=p;const{applyJpegMask:D}=p;if(D&&(!R||!I))throw new ge.Z("imagecanvasdecoder: decode","image width and height are needed to apply jpeg mask directly to canvas");return new Promise((C,k)=>{let E=null;"jpg"===_&&D&&(E=pe.getMask(l,{width:R,height:I}));const M=new Blob([new Uint8Array(l)],{type:"image/"+_=="jpg"?"jpeg":_}),d=URL.createObjectURL(M),t=new Image;let e;t.src=d,t.onload=()=>{if(URL.revokeObjectURL(d),(0,de.Hc)(v))return void k((0,de.zE)());R=t.width,I=t.height,this.canvas?(this.canvas.width===R&&this.canvas.height===I||(this.canvas.width=R,this.canvas.height=I),this.ctx.clearRect(0,0,R,I)):(this.canvas=document.createElement("canvas"),this.canvas.width=R,this.canvas.height=I,this.ctx=this.canvas.getContext("2d")),this.ctx.drawImage(t,0,0);const r=this.ctx.getImageData(0,0,R,I);let f;if(e=r.data,p.renderOnCanvas){if(E)for(f=0;f<E.length;f++)e[4*f+3]=E[f]?255:0;return this.ctx.putImageData(r,0,0),void C(null)}const s=R*I,u=new Uint8Array(s),a=new Uint8Array(s),i=new Uint8Array(s);if(E)for(f=0;f<s;f++)u[f]=e[4*f],a[f]=e[4*f+1],i[f]=e[4*f+2];else for(E=new Uint8Array(s),f=0;f<s;f++)u[f]=e[4*f],a[f]=e[4*f+1],i[f]=e[4*f+2],E[f]=e[4*f+3];C({width:R,height:I,pixels:[u,a,i],mask:E,pixelType:"u8"})},t.onerror=()=>{URL.revokeObjectURL(d),k("cannot load image")}})}static getMask(l,p){let v=null;try{const R=new Uint8Array(l),I=Math.ceil(R.length/2);let _=0;const D=R.length-2;for(_=I;_<D&&(255!==R[_]||217!==R[_+1]);_++);if(_+=2,_<R.length-1){const C=new me.Z(R.subarray(_)).getBytes();v=new Uint8Array(p.width*p.height);let k=0;for(let E=0;E<C.length;E++)for(let M=7;M>=0;M--)v[k++]=C[E]>>M&1}}catch(R){}return v}}var fe=te(83148),Z=te(44263),H=te(10338);const X=function(b,l){return Math.floor(b.byteLength/(l.width*l.height*B(l.pixelType)))},B=function(b){let l=1;switch(b){case Uint8Array:case Int8Array:l=1;break;case Uint16Array:case Int16Array:l=2;break;case Uint32Array:case Int32Array:case Float32Array:l=4;break;case Float64Array:l=8}return l};var re=te(23823),oe=function(b){var R,I,_;function D(C){var k,M,d,t,e,r,f,s,u,a,i,n;for(this.data=C,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},t=null;;){switch(k=this.readUInt32(),f=function(){var y,w;for(w=[],y=0;y<4;++y)w.push(String.fromCharCode(this.data[this.pos++]));return w}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(k);break;case"fcTL":t&&this.animation.frames.push(t),this.pos+=4,t={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),M=this.readUInt16()||100,t.delay=1e3*d/M,t.disposeOp=this.data[this.pos++],t.blendOp=this.data[this.pos++],t.data=[];break;case"IDAT":case"fdAT":for("fdAT"===f&&(this.pos+=4,k-=4),C=(null!=t?t.data:void 0)||this.imgData,a=0;0<=k?a<k:a>k;0<=k?++a:--a)C.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(this.transparency.indexed=this.read(k),(s=255-this.transparency.indexed.length)>0)for(i=0;0<=s?i<s:i>s;0<=s?++i:--i)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(k)[0];break;case 2:this.transparency.rgb=this.read(k)}break;case"tEXt":e=(u=this.read(k)).indexOf(0),r=String.fromCharCode.apply(String,u.slice(0,e)),this.text[r]=String.fromCharCode.apply(String,u.slice(e+1));break;case"IEND":return t&&this.animation.frames.push(t),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(n=this.colorType)||6===n,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=k}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}return D.load=function(C,k,E){var M;return"function"==typeof k&&(E=k),(M=new XMLHttpRequest).open("GET",C,!0),M.responseType="arraybuffer",M.onload=function(){var d;return d=new D(new Uint8Array(M.response||M.mozResponseArrayBuffer)),"function"==typeof(null!=k?k.getContext:void 0)&&d.render(k),"function"==typeof E?E(d):void 0},M.send(null)},D.prototype.read=function(C){var k,E;for(E=[],k=0;0<=C?k<C:k>C;0<=C?++k:--k)E.push(this.data[this.pos++]);return E},D.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},D.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},D.prototype.decodePixels=function(C){var k,E,M,d,t,e,r,f,u,a,i,n,y,w,U,N,Y,V,A,Q,j,O;if(null==C&&(C=this.imgData),0===C.length)return new Uint8Array(0);for(C=(C=new me.Z(C)).getBytes(),U=(i=this.pixelBitlength/8)*this.width,n=new Uint8Array(U*this.height),e=C.length,w=0,y=0,E=0;y<e;){switch(C[y++]){case 0:for(d=V=0;V<U;d=V+=1)n[E++]=C[y++];break;case 1:for(d=A=0;A<U;d=A+=1)k=C[y++],t=d<i?0:n[E-i],n[E++]=(k+t)%256;break;case 2:for(d=Q=0;Q<U;d=Q+=1)k=C[y++],M=(d-d%i)/i,n[E++]=((N=w&&n[(w-1)*U+M*i+d%i])+k)%256;break;case 3:for(d=j=0;j<U;d=j+=1)k=C[y++],M=(d-d%i)/i,t=d<i?0:n[E-i],N=w&&n[(w-1)*U+M*i+d%i],n[E++]=(k+Math.floor((t+N)/2))%256;break;case 4:for(d=O=0;O<U;d=O+=1)k=C[y++],M=(d-d%i)/i,0===w?N=Y=0:(N=n[(w-1)*U+M*i+d%i],Y=M&&n[(w-1)*U+(M-1)*i+d%i]),r=(t=d<i?0:n[E-i])+N-Y,f=Math.abs(r-t),u=Math.abs(r-N),a=Math.abs(r-Y),n[E++]=(k+(f<=u&&f<=a?t:u<=a?N:Y))%256;break;default:throw new Error("Invalid filter algorithm: "+C[y-1])}w++}return n},D.prototype.decodePalette=function(){var C,k,E,M,d,t,e,r,f;for(E=this.palette,t=this.transparency.indexed||[],d=new Uint8Array((t.length||0)+E.length),M=0,C=0,k=e=0,r=E.length;e<r;k=e+=3)d[M++]=E[k],d[M++]=E[k+1],d[M++]=E[k+2],d[M++]=null!=(f=t[C++])?f:255;return d},D.prototype.copyToImageData=function(C,k){var E,M,d,t,e,r,f,s,u,a,i;if(M=this.colors,u=null,E=this.hasAlphaChannel,this.palette.length&&(u=null!=(i=this._decodedPalette)?i:this._decodedPalette=this.decodePalette(),M=4,E=!0),s=(d=C.data||C).length,e=u||k,t=r=0,1===M)for(;t<s;)f=u?4*k[t/4]:r,a=e[f++],d[t++]=a,d[t++]=a,d[t++]=a,d[t++]=E?e[f++]:this.transparency.grayscale&&this.transparency.grayscale===a?0:255,r=f;else for(;t<s;)f=u?4*k[t/4]:r,d[t++]=e[f++],d[t++]=e[f++],d[t++]=e[f++],d[t++]=E?e[f++]:this.transparency.rgb&&this.transparency.rgb[1]===e[f-3]&&this.transparency.rgb[3]===e[f-2]&&this.transparency.rgb[5]===e[f-1]?0:255,r=f},D.prototype.decode=function(){var C;return C=new Uint8Array(this.width*this.height*4),this.copyToImageData(C,this.decodePixels()),C},I=b.document&&b.document.createElement("canvas"),_=I&&I.getContext("2d"),R=function(C){var k;return _.width=C.width,_.height=C.height,_.clearRect(0,0,C.width,C.height),_.putImageData(C,0,0),(k=new Image).src=I.toDataURL(),k},D.prototype.decodeFrames=function(C){var k,E,M,d,t,e,r,f;if(this.animation){for(f=[],E=t=0,e=(r=this.animation.frames).length;t<e;E=++t)M=C.createImageData((k=r[E]).width,k.height),d=this.decodePixels(new Uint8Array(k.data)),this.copyToImageData(M,d),k.imageData=M,f.push(k.image=R(M));return f}},D.prototype.renderFrame=function(C,k){var E,M,d;return E=(M=this.animation.frames)[k],d=M[k-1],0===k&&C.clearRect(0,0,this.width,this.height),1===(null!=d?d.disposeOp:void 0)?C.clearRect(d.xOffset,d.yOffset,d.width,d.height):2===(null!=d?d.disposeOp:void 0)&&C.putImageData(d.imageData,d.xOffset,d.yOffset),0===E.blendOp&&C.clearRect(E.xOffset,E.yOffset,E.width,E.height),C.drawImage(E.image,E.xOffset,E.yOffset)},D.prototype.animate=function(C){var k,E,M,d,t,e,r=this;return E=0,d=(e=this.animation).numFrames,M=e.frames,t=e.numPlays,(k=function(){var f,s;if(f=E++%d,s=M[f],r.renderFrame(C,f),d>1&&E/d<t)return r.animation._timeout=setTimeout(k,s.delay)})()},D.prototype.stopAnimation=function(){var C;return clearTimeout(null!=(C=this.animation)?C._timeout:void 0)},D.prototype.render=function(C){var k,E;return C._png&&C._png.stopAnimation(),C._png=this,C.width=this.width,C.height=this.height,k=C.getContext("2d"),this.animation?(this.decodeFrames(k),this.animate(k)):(E=k.createImageData(this.width,this.height),this.copyToImageData(E,this.decodePixels()),k.putImageData(E,0,0))},D}(self);const ue=new Set(["jpg","png","bmp","gif"]);function we(b,l){if(!re.f)throw new ge.Z("rasterCoded:decode","lerc decoder is not supported on big endian platform");const{width:p,height:v,pixelType:R}=l,I=g(R),_=I.pixelTypeCtor,D=null==l.noDataValue?I.noDataValue:l.noDataValue;let C,k,E=0,M=0;const d=b.byteLength-10;for(;M<d;){const t=(0,H.d)(b,{inputOffset:M,encodedMaskData:C,returnMask:0===E,returnEncodedMask:0===E,returnFileInfo:!0,pixelType:_,noDataValue:D});if(p&&v&&(t.width!==p||t.height!==v))throw new ge.Z("rasterCoded:decode","lerc decoded result has width or height different from specified in options");if(M=t.fileInfo.eofOffset,0===E&&(C=t.encodedMaskData,k=new ye.Z({width:t.width,height:t.height,pixels:[],pixelType:R,mask:t.maskData,statistics:[]})),E++,k.addData({pixels:t.pixelData,statistics:{minValue:t.minValue,maxValue:t.maxValue,noDataValue:t.noDataValue}}),d-M>10){const e=String.fromCharCode.apply(null,new Uint8Array(b,M,10));M+=e.indexOf("CntZ")>-1?e.indexOf("CntZ"):0}}return k}function ce(b,l){if(!re.f)throw new ge.Z("rasterCoded:decode","lerc decoder is not supported on big endian platform");let p,v,R,I=0,_=l.offset||0,D=0;const C=l.eof||b.byteLength-10,k=[],{width:E,height:M}=l;let d=0;for(;_<C;){var t;if(v=Z.L.decode(b,{inputOffset:_,maskData:p,returnFileInfo:!0}),E&&M&&(v.width!==E||v.height!==M))throw new ge.Z("rasterCoded:decode","lerc2 decoded result has width or height different from what's specified in options");if(_=v.fileInfo.eofOffset,p=v.maskData,0===I&&(D=v.fileInfo.numValidPixel,R=new ye.Z({width:v.width,height:v.height,pixels:[],pixelType:v.fileInfo.pixelType,mask:p,statistics:[]})),v.fileInfo.mask&&v.fileInfo.mask.numBytes>0&&d++,p&&k.push(p),v.dimCount>1&&(null==(t=v.pixelData)?void 0:t.length)===v.width*v.height*v.dimCount){var e,r,f,s;v.pixelData=v.pixelData.slice(-v.width*v.height);const n=null==(e=v.dimStats)||null==(r=e.minValues)?void 0:r[v.dimCount-1],y=null==(f=v.dimStats)||null==(s=f.maxValues)?void 0:s[v.dimCount-1];null!=n&&null!=y&&(v.minValue=n,v.maxValue=y)}if(I++,R.addData({pixels:v.pixelData,statistics:{minValue:v.minValue,maxValue:v.maxValue}}),C-_>10){const n=String.fromCharCode.apply(null,new Uint8Array(b,_,10));_+=n.indexOf("Lerc")>-1?n.indexOf("Lerc"):0}}let u=0,a=0,i=0;if(d>1){for(i=R.width*R.height,p=new Uint8Array(i),p.set(k[0]),u=1;u<k.length;u++){const n=k[u];for(a=0;a<i;a++)p[a]=p[a]&n[a]}for(D=0,a=0;a<i;a++)D+=p[a];R.mask=p}return R.validPixelCount=D,R}function Te(b,l){const p=(0,Z.a)(b,l.pyramidLevel||0),v=new ye.Z({width:p.width,height:p.height,pixels:p.pixels,pixelType:p.pixelType.toLowerCase(),mask:p.mask,statistics:null});return v.updateStatistics(),v}function ve(b,l){const p=(0,Z.d)(b,l.customOptions),v=new ye.Z({width:p.width,height:p.height,pixels:p.pixels,pixelType:p.pixelType.toLowerCase(),mask:p.mask,statistics:null});return v.updateStatistics(),v}function G(b){const l=class{static decode(l){const p=new Uint8Array(l),v=new fe.J;v.parse(p);const{width:R,height:I,numComponents:_,eof:D}=v,C=v.getData(R,I,!0);let k;const E=R*I;let M=0,d=0,t=0;if(D<p.length-1){const f=new me.Z(p.subarray(D)).getBytes();k=new Uint8Array(E);let s=0;for(M=0;M<f.length;M++)for(t=7;t>=0;t--)k[s++]=f[M]>>t&1}let e,r=null;if(1===_)r=[C,C,C];else{for(r=[],M=0;M<3;M++)e=new Uint8Array(E),r.push(e);for(t=0,d=0;d<E;d++)for(M=0;M<3;M++)r[M][d]=C[t++]}return{width:R,height:I,pixels:r,mask:k}}}.decode(b),p=new ye.Z({width:l.width,height:l.height,pixels:l.pixels,pixelType:"U8",mask:l.mask,statistics:null});return p.updateStatistics(),p}function F(b,l){const p=new Uint8Array(b),v=new oe(p),{width:R,height:I}=l,_=R*I,D=v.decode();let C,k=0,E=0;const M=new Uint8Array(_);for(k=0;k<_;k++)M[k]=D[4*k+3];const d=new ye.Z({width:R,height:I,pixels:[],pixelType:"U8",mask:M,statistics:[]});for(k=0;k<3;k++){for(C=new Uint8Array(_),E=0;E<_;E++)C[E]=D[4*E+k];d.addData({pixels:C})}return d.updateStatistics(),d}function m(b,l,p,v){return x.apply(this,arguments)}function x(){return(x=(0,ae.Z)(function*(b,l,p,v){const R=new pe,I=Le({applyJpegMask:!1,format:l},p),_=yield R.decode(b,I,v),D=new ye.Z(_);return D.updateStatistics(),D})).apply(this,arguments)}function o(b){if(null==b)throw new ge.Z("rasterCodec:decode","parameter encodeddata is required.");const l=new Uint8Array(b,0,10);let p="";return 255===l[0]&&216===l[1]?p="jpg":137===l[0]&&80===l[1]&&78===l[2]&&71===l[3]?p="png":67===l[0]&&110===l[1]&&116===l[2]&&90===l[3]&&73===l[4]&&109===l[5]&&97===l[6]&&103===l[7]&&101===l[8]&&32===l[9]?p="lerc":76===l[0]&&101===l[1]&&114===l[2]&&99===l[3]&&50===l[4]&&32===l[5]?p="lerc2":73===l[0]&&73===l[1]&&42===l[2]&&0===l[3]||77===l[0]&&77===l[1]&&0===l[2]&&42===l[3]||73===l[0]&&73===l[1]&&43===l[2]&&0===l[3]||77===l[0]&&77===l[1]&&0===l[2]&&43===l[3]?p="tiff":71===l[0]&&73===l[1]&&70===l[2]?p="gif":66===l[0]&&77===l[1]?p="bmp":String.fromCharCode.apply(null,l).toLowerCase().indexOf("error")>-1&&(p="error"),p}function S(b){let l=null;switch(b){case"lerc":l=we;break;case"lerc2":l=ce;break;case"jpg":l=G;break;case"png":l=F;break;case"bsq":case"bip":l=(p,v)=>function(b,l,p){const{pixelTypeCtor:v}=g(l.pixelType),R=(0,class{static decode(l,p){const v=p.pixelType,R=[],I=p.width*p.height,_=X(l,p),{bandIds:D,format:C}=p,k=D&&D.length||X(l,p),E=l.byteLength-l.byteLength%(I*B(v)),M=new v(l,0,I*_);let d,t,e,r,f;if("bip"===C)for(d=0;d<k;d++){for(r=new v(I),f=D?D[d]:d,t=0;t<I;t++)r[t]=M[t*_+f];R.push(r)}else if("bsq"===C)for(d=0;d<k;d++)f=D?D[d]:d,R.push(M.subarray(f*I,(f+1)*I));return E<l.byteLength-1&&(e=function(b,l){if(8*b.byteLength<l)return null;const p=new Uint8Array(b,0,Math.ceil(l/8)),v=new Uint8Array(l);let R=0,I=0,_=0,D=0;for(_=0;_<p.length-1;_++)for(I=p[_],D=7;D>=0;D--)v[R++]=I>>D&1;for(D=7;R<l-1;)I=p[p.length-1],v[R++]=I>>D&1,D--;return v}(l.slice(E),I)),{pixels:R,mask:e}}}.decode)(b,{width:l.width,height:l.height,pixelType:v,format:p}),I=new ye.Z({width:l.width,height:l.height,pixels:R.pixels,pixelType:l.pixelType,mask:R.mask,statistics:null});return I.updateStatistics(),I}(p,v,b);break;case"tiff":l=Te;break;case"error":l=()=>{throw new ge.Z("rasterCodec:decode","input data contains error")};break;default:l=()=>{throw new ge.Z("rasterCodec:decode","unsupported raster format")}}return l}function g(b){let l=null,p=null;switch(b?b.toLowerCase():"f32"){case"u1":case"u2":case"u4":case"u8":p=255,l=Uint8Array;break;case"u16":p=p||65535,l=Uint16Array;break;case"u32":p=p||_e(2,32)-1,l=Uint32Array;break;case"s8":p=p||-128,l=Int8Array;break;case"s16":p=p||-32768,l=Int16Array;break;case"s32":p=p||0-_e(2,31),l=Int32Array;break;default:l=Float32Array}return{pixelTypeCtor:l,noDataValue:p}}function L(b,l=1){if(!b)return;const{pixels:p,width:v,height:R,mask:I}=b;if(!p||0===p.length)return;const _=p.length,D=v-1,C=R-1,k=[];let E,M,d,t,e,r,f;const s=ye.Z.getPixelArrayConstructor(b.pixelType);if(0===l){for(E=0;E<_;E++){for(e=p[E],r=new s(D*C),M=0;M<C;M++)for(t=M*v,d=0;d<D;d++)r[M*D+d]=e[t+d];k.push(r)}if(I)for(f=new Uint8Array(D*C),M=0;M<C;M++)for(t=M*v,d=0;d<D;d++)f[M*D+d]=I[t+d]}else{for(E=0;E<_;E++){for(e=p[E],r=new s(D*C),M=0;M<C;M++)for(t=M*v,d=0;d<D;d++)r[M*D+d]=(e[t+d]+e[t+d+1]+e[t+v+d]+e[t+v+d+1])/4;k.push(r)}if(I)for(f=new Uint8Array(D*C),M=0;M<C;M++)for(t=M*v,d=0;d<D;d++)f[M*D+d]=Math.min.apply(null,[I[t+d],I[t+d+1],I[t+v+d],I[t+v+d+1]])}b.width=D,b.height=C,b.mask=f,b.pixels=k}function h(b){let l=o(b);return"lerc2"===l?l="lerc":"error"===l&&(l=""),l}function T(b){return P.apply(this,arguments)}function P(){return(P=(0,ae.Z)(function*(b,l={},p){if(null==b)throw new ge.Z("rasterCodec:decode","missing encodeddata parameter.");let v,R,I=l.format&&l.format.toLowerCase();if(!("bsq"!==I&&"bip"!==I||null!=l.width&&null!=l.height))throw new ge.Z("rasterCodec:decode","requires width and height in options parameter.");return"tiff"===I&&l.customOptions?ve(b,l):((!I||"bsq"!==I&&"bip"!==I)&&(I=o(b)),l.useCanvas&&ue.has(I)?R=yield m(b,I,l,p):(v=S(I),l.isPoint&&((l=Le({},l)).width++,l.height++),R=v(b,l),l.isPoint&&L(R)),R)})).apply(this,arguments)}},28281:(Pe,ke,te)=>{te.d(ke,{Z:()=>fe});const ae=(()=>{const c=[];return c[254]="NEWSUBFILETYPE",c[255]="SUBFILETYPE",c[256]="IMAGEWIDTH",c[257]="IMAGELENGTH",c[258]="BITSPERSAMPLE",c[259]="COMPRESSION",c[262]="PHOTOMETRICINTERPRETATION",c[263]="THRESHHOLDING",c[264]="CELLWIDTH",c[265]="CELLLENGTH",c[266]="FILLORDER",c[269]="DOCUMENTNAME",c[270]="IMAGEDESCRIPTION",c[271]="MAKE",c[272]="MODEL",c[273]="STRIPOFFSETS",c[274]="ORIENTATION",c[277]="SAMPLESPERPIXEL",c[278]="ROWSPERSTRIP",c[279]="STRIPBYTECOUNTS",c[280]="MINSAMPLEVALUE",c[281]="MAXSAMPLEVALUE",c[282]="XRESOLUTION",c[283]="YRESOLUTION",c[284]="PLANARCONFIGURATION",c[285]="PAGENAME",c[286]="XPOSITION",c[287]="YPOSITION",c[288]="FREEOFFSETS",c[289]="FREEBYTECOUNTS",c[290]="GRAYRESPONSEUNIT",c[291]="GRAYRESPONSECURVE",c[292]="T4OPTIONS",c[293]="T6OPTIONS",c[296]="RESOLUTIONUNIT",c[297]="PAGENUMBER",c[300]="COLORRESPONSEUNIT",c[301]="TRANSFERFUNCTION",c[305]="SOFTWARE",c[306]="DATETIME",c[315]="ARTIST",c[316]="HOSTCOMPUTER",c[317]="PREDICTOR",c[318]="WHITEPOINT",c[319]="PRIMARYCHROMATICITIES",c[320]="COLORMAP",c[321]="HALFTONEHINTS",c[322]="TILEWIDTH",c[323]="TILELENGTH",c[324]="TILEOFFSETS",c[325]="TILEBYTECOUNTS",c[326]="BADFAXLINES",c[327]="CLEANFAXDATA",c[328]="CONSECUTIVEBADFAXLINES",c[330]="SUBIFD",c[332]="INKSET",c[333]="INKNAMES",c[334]="NUMBEROFINKS",c[336]="DOTRANGE",c[337]="TARGETPRINTER",c[338]="EXTRASAMPLES",c[339]="SAMPLEFORMAT",c[340]="SMINSAMPLEVALUE",c[341]="SMAXSAMPLEVALUE",c[342]="TRANSFERRANGE",c[347]="JPEGTABLES",c[512]="JPEGPROC",c[513]="JPEGIFOFFSET",c[514]="JPEGIFBYTECOUNT",c[515]="JPEGRESTARTINTERVAL",c[517]="JPEGLOSSLESSPREDICTORS",c[518]="JPEGPOINTTRANSFORM",c[519]="JPEGQTABLES",c[520]="JPEGDCTABLES",c[521]="JPEGACTABLES",c[529]="YCBCRCOEFFICIENTS",c[530]="YCBCRSUBSAMPLING",c[531]="YCBCRPOSITIONING",c[532]="REFERENCEBLACKWHITE",c[700]="XMP",c[33550]="GEOPIXELSCALE",c[33922]="GEOTIEPOINTS",c[33432]="COPYRIGHT",c[42112]="GDAL_METADATA",c[42113]="GDAL_NODATA",c[50844]="RPCCOEFFICIENT",c[34264]="GEOTRANSMATRIX",c[34735]="GEOKEYDIRECTORY",c[34736]="GEODOUBLEPARAMS",c[34737]="GEOASCIIPARAMS",c[34665]="EXIFIFD",c[34853]="GPSIFD",c[40965]="INTEROPERABILITYIFD",c})(),ge=(()=>{const c=[].concat(ae);return c[36864]="ExifVersion",c[40960]="FlashpixVersion",c[40961]="ColorSpace",c[42240]="Gamma",c[37121]="ComponentsConfiguration",c[37122]="CompressedBitsPerPixel",c[40962]="PixelXDimension",c[40963]="PixelYDimension",c[37500]="MakerNote",c[37510]="UserComment",c[40964]="RelatedSoundFile",c[36867]="DateTimeOriginal",c[36868]="DateTimeDigitized",c[36880]="OffsetTime",c[36881]="OffsetTimeOriginal",c[36882]="OffsetTimeDigitized",c[37520]="SubSecTime",c[37521]="SubSecTimeOriginal",c[37522]="SubSecTimeDigitized",c[37888]="Temperature",c[37889]="Humidity",c[37890]="Pressure",c[37891]="WaterDepth",c[37892]="Acceleration",c[37893]="CameraElevationAngle",c[42016]="ImageUniqueID",c[42032]="CameraOwnerName",c[42033]="BodySerialNumber",c[42034]="LensSpecification",c[42035]="LensMake",c[42036]="LensModel",c[42037]="LensSerialNumber",c[33434]="ExposureTime",c[33437]="FNumber",c[34850]="ExposureProgram",c[34852]="SpectralSensitivity",c[34855]="PhotographicSensitivity",c[34856]="OECF",c[34864]="SensitivityType",c[34865]="StandardOutputSensitivity",c[34866]="RecommendedExposureIndex",c[34867]="ISOSpeed",c[34868]="ISOSpeedLatitudeyyy",c[34869]="ISOSpeedLatitudezzz",c[37377]="ShutterSpeedValue",c[37378]="ApertureValue",c[37379]="BrightnessValue",c[37380]="ExposureBiasValue",c[37381]="MaxApertureValue",c[37382]="SubjectDistance",c[37383]="MeteringMode",c[37384]="LightSource",c[37385]="Flash",c[37386]="FocalLength",c[37396]="SubjectArea",c[41483]="FlashEnergy",c[41484]="SpatialFrequencyResponse",c[41486]="FocalPlaneXResolution",c[41487]="FocalPlaneYResolution",c[41488]="FocalPlaneResolutionUnit",c[41492]="SubjectLocation",c[41493]="ExposureIndex",c[41495]="SensingMethod",c[41728]="FileSource",c[41729]="SceneType",c[41730]="CFAPattern",c[41985]="CustomRendered",c[41986]="ExposureMode",c[41987]="WhiteBalance",c[41988]="DigitalZoomRatio",c[41989]="FocalLengthIn35mmFilm",c[41990]="SceneCaptureType",c[41991]="GainControl",c[41992]="Contrast",c[41993]="Saturation",c[41994]="Sharpness",c[41995]="DeviceSettingDescription",c[41996]="SubjectDistanceRange",c})(),de=(()=>{const c=[];return c[1024]="GTModelTypeGeoKey",c[1025]="GTRasterTypeGeoKey",c[1026]="GTCitationGeoKey",c[2048]="GeographicTypeGeoKey",c[2049]="GeogCitationGeoKey",c[2050]="GeogGeodeticDatumGeoKey",c[2051]="GeogPrimeMeridianGeoKey",c[2052]="GeogLinearUnitsGeoKey",c[2053]="GeogLinearUnitSizeGeoKey",c[2054]="GeogAngularUnitsGeoKey",c[2055]="GeogAngularUnitSizeGeoKey",c[2056]="GeogEllipsoidGeoKey",c[2057]="GeogSemiMajorAxisGeoKey",c[2058]="GeogSemiMinorAxisGeoKey",c[2059]="GeogInvFlatteningGeoKey",c[2061]="GeogPrimeMeridianLongGeoKey",c[2060]="GeogAzimuthUnitsGeoKey",c[3072]="ProjectedCSTypeGeoKey",c[3073]="PCSCitationGeoKey",c[3074]="ProjectionGeoKey",c[3075]="ProjCoordTransGeoKey",c[3076]="ProjLinearUnitsGeoKey",c[3077]="ProjLinearUnitSizeGeoKey",c[3078]="ProjStdParallel1GeoKey",c[3079]="ProjStdParallel2GeoKey",c[3080]="ProjNatOriginLongGeoKey",c[3081]="ProjNatOriginLatGeoKey",c[3082]="ProjFalseEastingGeoKey",c[3083]="ProjFalseNorthingGeoKey",c[3084]="ProjFalseOriginLongGeoKey",c[3085]="ProjFalseOriginLatGeoKey",c[3086]="ProjFalseOriginEastingGeoKey",c[3087]="ProjFalseOriginNorthingGeoKey",c[3088]="ProjCenterLongGeoKey",c[3090]="ProjCenterEastingGeoKey",c[3091]="ProjCenterNorthingGeoKey",c[3092]="ProjScaleAtNatOriginGeoKey",c[3093]="ProjScaleAtCenterGeoKey",c[3094]="ProjAzimuthAngleGeoKey",c[3095]="ProjStraightVertPoleLongGeoKey",c[4096]="VerticalCSTypeGeoKey",c[4097]="VerticalCitationGeoKey",c[4098]="VerticalDatumGeoKey",c[4099]="VerticalUnitsGeoKey",c})(),pe=new Map;pe.set("EXIFIFD",ge),pe.set("GPSIFD",["GPSVersionID","GPSLatitudeRef","GPSLatitude","GPSLongitudeRef","GPSLongitude","GPSAltitudeRef","GPSAltitude","GPSTimeStamp","GPSSatellites","GPSStatus","GPSMeasureMode","GPSDOP","GPSSpeedRef","GPSSpeed","GPSTrackRef","GPSTrack","GPSImgDirectionRef","GPSImgDirection","GPSMapDatum","GPSDestLatitudeRef","GPSDestLatitude","GPSDestLongitudeRef","GPSDestLongitude","GPSDestBearingRef","GPSDestBearing","GPSDestDistanceRef","GPSDestDistance","GPSProcessingMethod","GPSAreaInformation","GPSDateStamp","GPSDifferential","GPSHPositioningError"]);var fe={TIFF_TAGS:ae,ifdTags:pe,GEO_KEYS:de,getTagName:function(c,Z){let H=(Z||ae)[c];return void 0===H&&(H="unknown"+String(c)),H}}},23823:(Pe,ke,te)=>{te.d(ke,{f:()=>ae});const ae=(()=>{const ge=new ArrayBuffer(4),ye=new Uint8Array(ge);return new Uint32Array(ge)[0]=1,1===ye[0]})()},6200:(Pe,ke,te)=>{te.d(ke,{KC:()=>ie,QI:()=>$,wF:()=>g,K:()=>S,Yx:()=>Z,nb:()=>L,BH:()=>re,NL:()=>c,Tg:()=>X});var ae=te(9836),ge=te(60305),ye=te(82657),de=te(21092);const me=new Map;me.set("meter-per-second",1),me.set("kilometer-per-hour",.277778),me.set("knots",.514444),me.set("feet-per-second",.3048),me.set("mile-per-hour",.44704);const pe=180/Math.PI,c=new ae.Xn({esriMetersPerSecond:"meter-per-second",esriKilometersPerHour:"kilometer-per-hour",esriKnots:"knots",esriFeetPerSecond:"feet-per-second",esriMilesPerHour:"mile-per-hour"});function Z(h,T){return me.get(h)/me.get(T)||1}function H(h){return(450-h)%360}function X(h,T="geographic"){const[P,b]=h,l=Math.sqrt(P*P+b*b);let p=Math.atan2(b,P)*pe;return p=(360+p)%360,"geographic"===T&&(p=H(p)),[l,p]}function B(h,T="geographic"){let P=h[1];"geographic"===T&&(P=H(P)),P%=360;const b=h[0];return[b*Math.cos(P/pe),b*Math.sin(P/pe)]}function ie(h,T,P="geographic",b=1){if(!(0,de.nk)(h))return h;const{pixels:l,width:p,height:v}=h,R=p*v,I=l[0],_=l[1],D=ye.Z.createEmptyBand(h.pixelType,R),C=ye.Z.createEmptyBand(h.pixelType,R);let k=0;for(let M=0;M<v;M++)for(let d=0;d<p;d++)"vector-uv"===T?([D[k],C[k]]=X([I[k],_[k]],P),D[k]*=b):([D[k],C[k]]=B([I[k],_[k]],P),D[k]*=b,C[k]*=b),k++;const E=new ye.Z({pixelType:h.pixelType,width:h.width,height:h.height,mask:h.mask,validPixelCount:h.validPixelCount,maskIsAlpha:h.maskIsAlpha,pixels:[D,C]});return E.updateStatistics(),E}function $(h,T,P=1){if(1===P||!(0,de.nk)(h))return h;const b=h.clone(),{pixels:l,width:p,height:v}=b,R=l[0],I=l[1];let _=0;for(let D=0;D<v;D++)for(let C=0;C<p;C++)"vector-uv"===T?(R[_]*=P,I[_]*=P):R[_]*=P,_++;return b.updateStatistics(),b}function re(h,T,P,b,l){if(!(0,ge.pC)(l)||!l.spatialReference.equals(h.spatialReference))return{extent:h,width:T,height:P,resolution:h.width/T};const p=l.xmin,v=l.ymax;b=Math.max(b||0,30);const R=Math.ceil(T*(1/b)),I=Math.ceil(P*(1/b)),_=((h.xmax-h.xmin)/R+(h.ymax-h.ymin)/I)/2;return h.xmin=p+Math.floor((h.xmin-p)/_)*_,h.xmax=p+Math.ceil((h.xmax-p)/_)*_,h.ymin=v+Math.floor((h.ymin-v)/_)*_,h.ymax=v+Math.ceil((h.ymax-v)/_)*_,{extent:h,width:Math.round(h.width/_),height:Math.round(h.height/_),resolution:_}}const oe=function(h=0,T=0,P=Math.PI,b=!0){b&&(P=(2*Math.PI-P)%(2*Math.PI));const l=b?-1:1,p=13*l,v=-7*l,R=-2*l,I=-16*l,_=29,[D,C]=ce(0,T+p,P,_),[k,E]=ce(h-5.5,T+v,P,_),[M,d]=ce(h+5.5,T+v,P,_),[t,e]=ce(h-1.5,T+R,P,_),[r,f]=ce(h+1.5,T+R,P,_),[s,u]=ce(h-1.5,T+I,P,_),[a,i]=ce(h+1.5,T+I,P,_);return[D,C,k,E,t,e,r,f,M,d,s,u,a,i]}(0,0,0);function we(h=0,T=Math.PI,P=!0){P&&(T=(2*Math.PI-T)%(2*Math.PI));const l=P?-1:1,p=5*l,v=20*l,R=25*l,I=45,E=2*l;let[M,d]=[5,0-v],[t,e]=[M+2,d],[r,f]=[t-0,e+E],[s,u]=[-5,0-R],[a,i]=[s+0,u-E],n=Math.ceil(h/5),y=Math.floor(n/10);n-=8*y;const w=[],U=[];for(let ee=0;ee<n/2;ee++,y--){y<=0&&n%2==1&&ee===(n-1)/2&&(s=0,a=s+0,u=(u+d)/2,i=u-E);const[J,z]=ce(s,u,T,I);if(y>0){const[K,ne]=ce(t,u,T,I),[le,se]=ce(M,d,T,I);w.push(K),w.push(ne),w.push(J),w.push(z),w.push(le),w.push(se)}else{const[K,ne]=ce(t,e,T,I),[le,se]=ce(r,f,T,I),[be,Ie]=ce(a,i,T,I);U.push(J),U.push(z),U.push(be),U.push(Ie),U.push(le),U.push(se),U.push(K),U.push(ne)}u+=p,d+=p,e+=p,f+=p,i+=p}const[N,Y]=ce(5,0+v,T,I),[A,Q]=ce(7,0+v,T,I),[j,O]=ce(5,0-R,T,I),[W,q]=ce(7,0-R,T,I);return{pennants:w,barbs:U,shaft:[N,Y,A,Q,j,O,W,q]}}function ce(h,T,P,b=1){const l=Math.sqrt(h*h+T*T)/b,p=(2*Math.PI+Math.atan2(T,h))%(2*Math.PI);return[l,(2*Math.PI+p-P)%(2*Math.PI)]}const Te=[0,1,3,6,10,16,21,27,33,40,47,55,63],ve=[0,.5,1,1.5,2],Ce=[0,.25,.5,1,1.5,2,2.5,3,3.5,4];function G(h,T,P,b){const l=Z(b||"knots",P);let p;for(p=1;p<T.length;p++)if(p===T.length-1){if(h<T[p]*l)break}else if(h<=T[p]*l)break;return Math.min(p-1,T.length-2)}function F(h,T,P,b,l){let p=0;switch(T){case"beaufort_kn":p=G(h,Te,"knots",P);break;case"beaufort_km":p=G(h,Te,"kilometer-per-hour",P);break;case"beaufort_ft":p=G(h,Te,"feet-per-second",P);break;case"beaufort_m":p=G(h,Te,"meter-per-second",P);break;case"classified_arrow":p=G(h,l,b,P);break;case"ocean_current_m":p=G(h,ve,"meter-per-second",P);break;case"ocean_current_kn":p=G(h,Ce,"knots",P)}return p}const x=[];function S(h,T){let b=0,l=0;const{width:p,height:v,mask:R}=h,I=h.pixels[0],_=[],D=[],C="wind_speed"===T.style?5:Number.MAX_VALUE;for(let k=0;k<v;k++)for(let E=0;E<p;E++){const M=k*p+E;if((!R||R[k*p+E])&&I[M]<C){for(let t=0;t<4;t++)_[b++]=(E+.5)/p,_[b++]=(k+.5)/v,_[b++]=t<2?-.5:.5,_[b++]=t%2==0?-.5:.5,_[b++]=0,_[b++]=I[M];const d=4*(b/24-1);D[l++]=d,D[l++]=d+1,D[l++]=d+2,D[l++]=d+1,D[l++]=d+2,D[l++]=d+3}}return{vertexData:new Float32Array(_),indexData:new Uint32Array(D)}}function g(h,T){return"simple_scalar"===T.style?S(h,T):"wind_speed"===T.style?function(h,T){if(0===x.length)for(let M=0;M<30;M++)x.push(we(5*M,0));const P=Z(c.fromJSON(T.inputUnit),"knots"),{width:b,height:l,mask:p}=h,v=h.pixels[0],R=h.pixels[1],_=[],D=[];let C=0,k=0;for(let M=0;M<l;M++)for(let d=0;d<b;d++){const t=M*b+d,e=v[t]*P;if((!p||p[M*b+d])&&e>=5){var E;const r=null!=(E=(R[t]+360)%360/180*Math.PI)?E:2*Math.PI*Math.random(),{pennants:f,barbs:s,shaft:u}=x[Math.min(Math.floor(e/5),29)];if(f.length+s.length===0)continue;let a=_.length/6;const i=(d+.5)/b,n=(M+.5)/l;for(let y=0;y<f.length;y+=2)_[C++]=i,_[C++]=n,_[C++]=f[y],_[C++]=f[y+1]+r,_[C++]=0,_[C++]=e;for(let y=0;y<s.length;y+=2)_[C++]=i,_[C++]=n,_[C++]=s[y],_[C++]=s[y+1]+r,_[C++]=0,_[C++]=e;for(let y=0;y<u.length;y+=2)_[C++]=i,_[C++]=n,_[C++]=u[y],_[C++]=u[y+1]+r,_[C++]=0,_[C++]=e;for(let y=0;y<f.length/6;y++)D[k++]=a,D[k++]=a+1,D[k++]=a+2,a+=3;for(let y=0;y<s.length/8;y++)D[k++]=a,D[k++]=a+1,D[k++]=a+2,D[k++]=a+1,D[k++]=a+2,D[k++]=a+3,a+=4;D[k++]=a+0,D[k++]=a+1,D[k++]=a+2,D[k++]=a+1,D[k++]=a+3,D[k++]=a+2,a+=4}}return{vertexData:new Float32Array(_),indexData:new Uint32Array(D)}}(h,T):function(h,T){const{style:P,inputUnit:b,outputUnit:l,breakValues:p}=T,v=c.fromJSON(b),R=c.fromJSON(l);let D=0,C=0;const{width:k,height:E,mask:M}=h,d=h.pixels[0],t=h.pixels[1],e=M?M.filter(u=>u>0).length:k*E,r=new Float32Array(42*e),f=new Uint32Array(15*e);for(let u=0;u<E;u++)for(let a=0;a<k;a++){const i=u*k+a;if(!M||M[u*k+a]){var s;const n=null!=(s=(t[i]+360)%360/180*Math.PI)?s:2*Math.PI*Math.random(),y=F(d[i],P,v,R,p);for(let U=0;U<oe.length;U+=2)r[D++]=(a+.5)/k,r[D++]=(u+.5)/E,r[D++]=oe[U],r[D++]=oe[U+1]+n,r[D++]=y,r[D++]=d[i];const w=7*(D/42-1);f[C++]=w,f[C++]=w+1,f[C++]=w+2,f[C++]=w+0,f[C++]=w+4,f[C++]=w+3,f[C++]=w+0,f[C++]=w+2,f[C++]=w+3,f[C++]=w+2,f[C++]=w+5,f[C++]=w+3,f[C++]=w+5,f[C++]=w+6,f[C++]=w+3}}return{vertexData:r,indexData:f}}(h,T)}function L(h,T,P,b=[0,0],l=.5){const{width:p,height:v,mask:R}=h,[I,_]=h.pixels,[D,C]=b,k=Math.round((p-D)/P),E=Math.round((v-C)/P),M=k*E,d=new Float32Array(M),t=new Float32Array(M),e=new Uint8Array(M),r="vector-uv"===T;for(let s=0;s<E;s++)for(let u=0;u<k;u++){let a=0;const i=s*k+u,n=Math.max(0,s*P+C),y=Math.max(0,u*P+D),w=Math.min(v,n+P),U=Math.min(p,y+P);for(let N=n;N<w;N++)for(let Y=y;Y<U;Y++){const V=N*p+Y;if(!R||R[V]){a++;const A=r?[I[V],_[V]]:[I[V],(360+_[V])%360],[Q,j]=r?A:B(A);d[i]+=Q,t[i]+=j}}if(a>=(w-n)*(U-y)*(1-l)){e[i]=1;const[N,Y]=X([d[i]/a,t[i]/a]);d[i]=N,t[i]=Y}else e[i]=0,d[i]=0,t[i]=0}const f=new ye.Z({width:k,height:E,pixels:[d,t],mask:e});return f.updateStatistics(),f}},61661:(Pe,ke,te)=>{te.d(ke,{Z:()=>F});var ae=te(60046),ge=te(52227),ye=te(54792),de=te(33870),me=te(60305),pe=te(9077),Z=(te(67474),te(57025),te(42442)),H=te(38973),X=te(21092),B=te(82657);function ie(m){let{altitude:x,azimuth:o}=m;const{hillshadeType:S,pixelSizePower:g,pixelSizeFactor:L,scalingType:h,isGCS:T,resolution:P}=m,b="multi-directional"===S?2*m.zFactor:m.zFactor,{x:l,y:p}=P;let v=b/(8*l),R=b/(8*p);if(T&&b>.001&&(v/=111e3,R/=111e3),"adjusted"===h)if(T){const a=111e3*l,i=111e3*p;v=(b+_e(a,g)*L)/(8*a),R=(b+_e(i,g)*L)/(8*i)}else v=(b+_e(l,g)*L)/(8*l),R=(b+_e(p,g)*L)/(8*p);let I=(90-x)*Math.PI/180,_=Math.cos(I),D=(360-o+90)*Math.PI/180,C=Math.sin(I)*Math.cos(D),k=Math.sin(I)*Math.sin(D);const E=[315,270,225,360,180,0],M=[60,60,60,60,60,90],d=new Float32Array([3,5,3,2,1,4]),t=d.reduce((a,i)=>a+i),e=d.map(a=>a/t),r="multi-directional"===S?E.length:1,f=new Float32Array(6),s=new Float32Array(6),u=new Float32Array(6);if("multi-directional"===S)for(let a=0;a<r;a++)x=M[a],o=E[a],I=(90-x)*Math.PI/180,_=Math.cos(I),D=(360-o+90)*Math.PI/180,C=Math.sin(I)*Math.cos(D),k=Math.sin(I)*Math.sin(D),f[a]=_,s[a]=C,u[a]=k;else f.fill(_),s.fill(C),u.fill(k);return{resolution:P,factor:[v,R],sinZcosA:C,sinZsinA:k,cosZ:_,sinZcosAs:s,sinZsinAs:u,cosZs:f,weights:e,hillshadeType:["traditional","multi-directional"].indexOf(S)}}var oe=te(2512);const ue=de.Z.getLogger("esri.renderers.support.RasterSymbolizer"),ve={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34e38,34e38],f64:[-Number.MAX_VALUE,Number.MAX_VALUE]};let Ce=class extends ye.wq{constructor(m){super(m)}bind(){const{rendererJSON:m}=this;if(!m)return!1;let x;switch(this.lookup={rendererJSON:{}},m.type){case"uniqueValue":x=this._updateUVRenderer(m);break;case"rasterColormap":x=this._updateColormapRenderer(m);break;case"rasterStretch":x=this._updateStretchRenderer(m);break;case"classBreaks":x=this._updateClassBreaksRenderer(m);break;case"rasterShadedRelief":x=this._updateShadedReliefRenderer(m);break;case"vectorField":x=this._updateVectorFieldRenderer()}return x}symbolize(m){let x=m&&m.pixelBlock;if(!G(x))return x;if(m.simpleStretchParams&&"rasterStretch"===this.rendererJSON.type)return this.simpleStretch(x,m.simpleStretchParams);try{let o;switch(x.pixels.length>3&&(x=(0,X.qF)(x,[0,1,2])),this.rendererJSON.type){case"uniqueValue":case"rasterColormap":o=this._symbolize_colormap(x);break;case"classBreaks":o=this._symbolize_classBreaks(x);break;case"rasterStretch":o=this._symbolize_stretch(x,m.bandIds);break;case"rasterShadedRelief":{const{extent:S}=m;o=this._symbolize_shadedRelief(x,{isGCS:S.spatialReference.isGeographic,resolution:{x:(S.xmax-S.xmin)/x.width,y:(S.ymax-S.ymin)/x.height}});break}}return o}catch(o){return ue.error("symbolize",o.message),x}}simpleStretch(m,x){if(!G(m))return m;try{return m.pixels.length>3&&(m=(0,X.qF)(m,[0,1,2])),(0,X.dy)(m,x)}catch(o){return ue.error("symbolize",o.message),m}}generateWebGLParameters(m){if(["uniqueValue","rasterColormap","classBreaks"].indexOf(this.rendererJSON.type)>-1){var x;const{indexedColormap:T,offset:P}=(null==(x=this.lookup)?void 0:x.colormapLut)||{};return{colormap:T,colormapOffset:P,type:"lut"}}const{pixelBlock:o,isGCS:S,resolution:g,bandIds:L}=m,{rendererJSON:h}=this;return"rasterStretch"===h.type?this.generateStretchWebGLParams(o,h,L):"rasterShadedRelief"===h.type?this.generateShadedReliefWebGLParams(h,S,g):"vectorField"===h.type?this._generateVectorFieldWebGLParams(h):null}_isLUTChanged(m){if(!this.lookup||!this.lookup.rendererJSON)return!0;if("colorRamp"in this.rendererJSON){const x=this.rendererJSON.colorRamp;return m?JSON.stringify(x)!==JSON.stringify(this.lookup.rendererJSON.colorRamp):JSON.stringify(this.rendererJSON)!==JSON.stringify(this.lookup.rendererJSON)}return JSON.stringify(this.rendererJSON)!==JSON.stringify(this.lookup.rendererJSON)}_symbolize_colormap(m){return this._isLUTChanged()&&!this.bind()?m:(0,X.SJ)(m,this.lookup.colormapLut)}_symbolize_classBreaks(m){const o=["u8","u16","s8","s16"].indexOf(this.rasterInfo.pixelType)>-1;return this._isLUTChanged()&&!this.bind()?m:o?(0,X.SJ)(m,this.lookup.colormapLut):(0,X.zp)(m,this.lookup.remapLut)}_symbolize_stretch(m,x){const{pixelType:o,bandCount:S}=this.rasterInfo,g=this.rendererJSON,L=["u8","u16","s8","s16"].indexOf(o)>-1;let h,T;const{dra:P}=g,b=g.useGamma?g.gamma:null;if("histogramEqualization"===g.stretchType){const v=P?null:this.lookup.histogramLut,R=this.getStretchCutoff(g,m,x,!v),I=(0,X.dy)(m,Ge(Le({},R),{gamma:b}));T=(0,X.XV)(I,{lut:P?R.histogramLut:v,offset:0})}else if(L){var l,p;if(P){const v=this.getStretchCutoff(g,m,x);h=(0,X.hE)(Ge(Le({pixelType:o},v),{gamma:b}))}else if(this._isLUTChanged()){if(!this.bind())return m;h=this.lookup?this.lookup.stretchLut:null}else h=this.lookup?this.lookup.stretchLut:null;if(!h)return m;S>1&&(null==x?void 0:x.length)===(null==(l=(0,me.Wg)(m))?void 0:l.pixels.length)&&(null==(p=h)?void 0:p.lut.length)===S&&(h={lut:x.map(v=>h.lut[v]),offset:h.offset}),T=(0,X.XV)(m,h)}else{const v=this.getStretchCutoff(g,m,x);T=(0,X.dy)(m,Ge(Le({},v),{gamma:b}))}if(g.colorRamp){if(this._isLUTChanged(!0)&&!this.bind())return m;T=(0,X.SJ)(T,this.lookup.colormapLut)}return T}_symbolize_shadedRelief(m,x){var o,S;const g=this.rendererJSON,h=function(m,x){if(!(0,X.nk)(m))return m;const{width:o,height:S,mask:g}=m,L=new Uint8Array(o*S);g&&L.set(g);const{factor:h,sinZcosA:T,sinZsinA:P,cosZ:b,sinZcosAs:l,sinZsinAs:p,cosZs:v,weights:R}=ie(x),[I,_]=h,{hillshadeType:D}=x,C=m.pixels[0],k=new Uint8Array(o*S);let E,M,d,t,e,r,f,s;for(let a=1;a<S-1;a++){const i=a*o;for(let n=1;n<o-1;n++){if(g&&!g[i+n]){k[i+n]=0;continue}let y=8;if(g&&(y=g[i-o+n-1]+g[i-o+n]+g[i-o+n+1]+g[i+n-1]+g[i+n+1]+g[i+o+n-1]+g[i+o+n]+g[i+o+n+1],y<7)){k[i+n]=0,L[i+n]=0;continue}7===y?(E=g[i-o+n-1]?C[i-o+n-1]:C[i+n],M=g[i-o+n]?C[i-o+n]:C[i+n],d=g[i-o+n+1]?C[i-o+n+1]:C[i+n],t=g[i+n-1]?C[i+n-1]:C[i+n],e=g[i+n+1]?C[i+n+1]:C[i+n],r=g[i+o+n-1]?C[i+o+n-1]:C[i+n],f=g[i+o+n]?C[i+o+n]:C[i+n],s=g[i+o+n+1]?C[i+o+n+1]:C[i+n]):(E=C[i-o+n-1],M=C[i-o+n],d=C[i-o+n+1],t=C[i+n-1],e=C[i+n+1],r=C[i+o+n-1],f=C[i+o+n],s=C[i+o+n+1]);const w=(d+e+e+s-(E+t+t+r))*I,U=(r+f+f+s-(E+M+M+d))*_,N=Math.sqrt(1+w*w+U*U);let Y=0;if("traditional"===D){let V=255*(b+P*U-T*w)/N;V<0&&(V=0),Y=V}else{const V=p.length;for(let A=0;A<V;A++){let Q=255*(v[A]+p[A]*U-l[A]*w)/N;Q<0&&(Q=0),Y+=Q*R[A]}}k[i+n]=255&Y}}for(let a=0;a<S;a++)k[a*o]=k[a*o+1],k[(a+1)*o-1]=k[(a+1)*o-2];for(let a=1;a<o-1;a++)k[a]=k[a+o],k[a+(S-1)*o]=k[a+(S-2)*o];return new B.Z({width:o,height:S,pixels:[k],mask:g?L:null,pixelType:"u8",validPixelCount:m.validPixelCount,statistics:[{minValue:0,maxValue:255}]})}(m,Le(Le({},g),x));if(!g.colorRamp)return h;let T;if(this._isLUTChanged(!0)){if(!this.bind())return h;T=this.lookup?this.lookup.hsvMap:null}else T=this.lookup?this.lookup.hsvMap:null;return T?(function(m,x,o,S){if(!(0,X.nk)(m)||!(0,X.nk)(x))return;const{min:g,max:L}=S,h=m.pixels[0],{pixels:T,mask:P}=x,b=T[0],l=255.00001/(L-g),p=new Uint8ClampedArray(b.length),v=new Uint8ClampedArray(b.length),R=new Uint8ClampedArray(b.length),I=o.length-1;for(let _=0;_<b.length;_++){if(P&&0===P[_])continue;const D=Math.floor((b[_]-g)*l),[C,k]=o[D<0?0:D>I?I:D],E=h[_],M=E*k,d=M*(1-Math.abs(C%2-1)),t=E-M;switch(Math.floor(C)){case 0:p[_]=M+t,v[_]=d+t,R[_]=t;break;case 1:p[_]=d+t,v[_]=M+t,R[_]=t;break;case 2:p[_]=t,v[_]=M+t,R[_]=d+t;break;case 3:p[_]=t,v[_]=d+t,R[_]=M+t;break;case 4:p[_]=d+t,v[_]=t,R[_]=M+t;break;case 5:case 6:p[_]=M+t,v[_]=t,R[_]=d+t}}m.pixels=[p,v,R],m.updateStatistics()}(h,m,T,null!=(o=null==(S=(0,me.Wg)(this.rasterInfo.statistics))?void 0:S[0])?o:{min:0,max:8e3}),h):h}_updateVectorFieldRenderer(){const{bandCount:m,dataType:x}=this.rasterInfo;return 2===m&&("vector-magdir"===x||"vector-uv"===x)}_updateUVRenderer(m){const{bandCount:x,attributeTable:o,pixelType:S}=this.rasterInfo,g=m.field1;if(!g)return!1;const L=m.defaultSymbol,h=1===x&&["u8","s8"].includes(S);if(!function(m,x){const{attributeTable:o,bandCount:S}=m;return!(!(0,me.pC)(o)||S>1||x&&null==o.fields.find(g=>g.name.toLowerCase()===x.toLowerCase()))}(this.rasterInfo,g)&&!h)return!1;const T=[];if(o){const b=o.fields.filter(l=>"value"===l.name.toLowerCase())[0];if(!b)return!1;o.features.forEach(l=>{var p;const v=m.uniqueValueInfos.filter(I=>String(I.value)===String(l.attributes[g]))[0],R=null==v||null==(p=v.symbol)?void 0:p.color;R?T.push([l.attributes[b.name]].concat(R)):L&&T.push([l.attributes[b.name]].concat(L.color))})}else{if("value"!==g.toLowerCase())return!1;m.uniqueValueInfos.forEach(b=>{var l;const p=null==b||null==(l=b.symbol)?void 0:l.color;p?T.push([parseInt(""+b.value,10)].concat(p)):L&&T.push([parseInt(""+b.value,10)].concat(L.color))})}if(0===T.length)return!1;const P=(0,X.Pz)({colormap:T});return this.lookup={rendererJSON:m,colormapLut:P},this.canRenderInWebGL=!0,!0}_updateColormapRenderer(m){if(!function(m){const{bandCount:x,colormap:o}=m;return(0,me.pC)(o)&&o.length&&1===x}(this.rasterInfo))return!1;const x=m.colormapInfos.map(S=>[S.value].concat(S.color)).sort((S,g)=>S[0]-g[0]);if(!x||0===x.length)return!1;const o=(0,X.Pz)({colormap:x});return this.lookup={rendererJSON:m,colormapLut:o},this.canRenderInWebGL=!0,!0}_updateShadedReliefRenderer(m){if(!function(m){return"elevation"===m.dataType}(this.rasterInfo))return!1;if(m.colorRamp){const x=(0,oe.Jw)(m.colorRamp,256,!0),o=(0,X.Pz)({colormap:x}),S=[],g=o.indexedColormap;for(let L=0;L<g.length;L+=4){const h=(0,ge._Y)({r:g[L],g:g[L+1],b:g[L+2]});S.push([h.h/60,h.s/100,255*h.v/100])}this.lookup={rendererJSON:m,colormapLut:o,hsvMap:S}}else this.lookup=null;return this.canRenderInWebGL=!0,!0}_updateClassBreaksRenderer(m){const o=["u8","u16","s8","s16"].indexOf(this.rasterInfo.pixelType)>-1,S=m.classBreakInfos;if(null==S||!S.length)return!1;const g=S.sort((l,p)=>l.classMaxValue-p.classMaxValue),L=g[g.length-1];let h=m.minValue;if(!o){const l=[];for(let p=0;p<g.length;p++){var T;l.push({value:null!=(T=g[p].classMinValue)?T:h,mappedColor:g[p].symbol.color}),h=g[p].classMaxValue}return l.push({value:L.classMaxValue,mappedColor:L.symbol.color}),this.lookup={rendererJSON:m,remapLut:l},this.canRenderInWebGL=!1,!0}const P=[];h=Math.floor(m.minValue);for(let l=0;l<g.length;l++){const p=g[l];for(let v=h;v<p.classMaxValue;v++)P.push([v].concat(p.symbol.color));h=Math.ceil(p.classMaxValue)}L.classMaxValue===h&&P.push([L.classMaxValue].concat(L.symbol.color));const b=(0,X.Pz)({colormap:P,fillUnspecified:!1});return this.lookup={rendererJSON:m,colormapLut:b},this.canRenderInWebGL=!0,!0}_isHistogramRequired(m){return"percentClip"===m||"histogramEqualization"===m}_isValidRasterStatistics(m){return(0,me.pC)(m)&&m.length>0&&null!=m[0].min&&null!=m[0].max}_updateStretchRenderer(m){var x;let{stretchType:o,dra:S}=m;if(!("none"===o||null!=(x=m.statistics)&&x.length||this._isValidRasterStatistics(this.rasterInfo.statistics)||S))return!1;const g=(0,me.Wg)(m.histograms||this.rasterInfo.histograms);!this._isHistogramRequired(m.stretchType)||null!=g&&g.length||S||(o="minMax");const{gamma:L,useGamma:h,colorRamp:T}=m,P=this.rasterInfo.pixelType,b=!S&&["u8","u16","s8","s16"].indexOf(P)>-1;if("histogramEqualization"===o){const l=g.map(p=>(0,X.oc)(p));this.lookup={rendererJSON:m,histogramLut:l}}else if(b){const l=this.getStretchCutoff(m),p=(0,X.hE)(Ge(Le({pixelType:P},l),{gamma:h?L:null}));this.lookup={rendererJSON:m,stretchLut:p}}if(T){const l=(0,oe.Jw)(T,256,!0);this.lookup||(this.lookup={rendererJSON:m}),this.lookup.colormapLut=(0,X.Pz)({colormap:l}),this.lookup.rendererJSON=m}return this.canRenderInWebGL=!0,!0}getStretchCutoff(m,x=null,o,S){var g,L,h;let T,P,b=m.stretchType;var l;if(m.dra)if("minMax"===b&&(0,me.pC)(x)&&x.statistics)T=x.statistics.map(u=>[u.minValue,u.maxValue,0,0]);else{const u=(0,X.Hv)(x);T=(0,me.pC)(u)?u.statistics:null,P=(0,me.pC)(u)?u.histograms:null}else T=(null==(l=m.statistics)?void 0:l.length)>0?m.statistics:(0,me.Wg)(this.rasterInfo.statistics),P=m.histograms||(0,me.Wg)(this.rasterInfo.histograms);!this._isHistogramRequired(b)||null!=(g=P)&&g.length||(b="minMax");const p=(null==(L=T)?void 0:L.length)||(null==(h=P)?void 0:h.length)||this.rasterInfo.bandCount,v=[],R=[];let I,_,D,C,k,E,M,d,t,e,r,f;switch(T&&!Array.isArray(T[0])&&(T=T.map(u=>[u.min,u.max,u.avg,u.stddev])),b){case"none":{const u=ve[this.rasterInfo.pixelType]||ve.f32;for(d=0;d<p;d++)v[d]=u[0],R[d]=u[1]}break;case"minMax":for(d=0;d<p;d++)v[d]=T[d][0],R[d]=T[d][1];break;case"standardDeviation":for(d=0;d<p;d++)v[d]=T[d][2]-m.numberOfStandardDeviations*T[d][3],R[d]=T[d][2]+m.numberOfStandardDeviations*T[d][3],v[d]<T[d][0]&&(v[d]=T[d][0]),R[d]>T[d][1]&&(R[d]=T[d][1]);break;case"histogramEqualization":for(d=0;d<p;d++)v[d]=P[d].min,R[d]=P[d].max;break;case"percentClip":for(d=0;d<P.length;d++){for(I=P[d],k=new Uint32Array(I.size),C=I.counts,D=0,_=(I.max-I.min)/I.size,M=-.5===I.min&&1===_?.5:0,t=0;t<I.size;t++)D+=C[t],k[t]=D;for(E=m.minPercent*D/100,t=0;t<I.size;t++)if(k[t]>E){v[d]=I.min+_*(t+M);break}for(E=(1-m.maxPercent/100)*D,t=I.size-2;t>=0;t--)if(k[t]<E){R[d]=I.min+_*(t+2-M);break}}break;default:for(d=0;d<p;d++)v[d]=T[d][0],R[d]=T[d][1]}return"histogramEqualization"===b?(r=P[0].size||256,e=0,S&&(f=P.map(u=>(0,X.oc)(u)))):(r=m.max||255,e=m.min||0),this.getSelectedBandCutoffs({minCutOff:v,maxCutOff:R,outMax:r,outMin:e,histogramLut:f},o)}getSelectedBandCutoffs(m,x){if(null==x||0===x.length)return m;const o=Math.max.apply(null,x),{minCutOff:S,maxCutOff:g,outMin:L,outMax:h,histogramLut:T}=m;return S.length===x.length||S.length<=o?m:{minCutOff:x.map(P=>S[P]),maxCutOff:x.map(P=>g[P]),histogramLut:T?x.map(P=>T[P]):null,outMin:L,outMax:h}}generateStretchWebGLParams(m,x,o){let S=null,g=null;const L=this.lookup&&this.lookup.colormapLut;x.colorRamp&&L&&(S=L.indexedColormap,g=L.offset),"histogramEqualization"===x.stretchType&&(x=Ge(Le({},x),{stretchType:"minMax"}));const{gamma:h}=x,T=!!(x.useGamma&&h&&h.some(k=>1!==k)),{minCutOff:P,maxCutOff:b,outMin:l,outMax:p}=this.getStretchCutoff(x,m,o);let v=0;(0,me.pC)(m)&&(v=m.getPlaneCount(),2===v&&((m=m.clone()).statistics=[m.statistics[0]],m.pixels=[m.pixels[0]]));const R=Math.min(3,(null==o?void 0:o.length)||v||this.rasterInfo.bandCount),I=new Float32Array(R),_=S||T?1:255;let D;for(D=0;D<R;D++)I[D]=(p-l)/(b[D]-P[D])/_;const C=new Float32Array(R);if(T)for(D=0;D<R;D++)C[D]=h[D]>1?h[D]>2?6.5+_e(h[D]-2,2.5):6.5+100*_e(2-h[D],4):1;return{bandCount:R,outMin:l/_,outMax:p/_,minCutOff:P,maxCutOff:b,factor:I,useGamma:T,gamma:T?h:[1,1,1],gammaCorrection:T?C:[1,1,1],colormap:S,colormapOffset:g,stretchType:x.stretchType,type:"stretch"}}generateShadedReliefWebGLParams(m,x,o){var S,g,L;let h=null,T=null;const P=this.lookup&&this.lookup.colormapLut;m.colorRamp&&P&&(h=P.indexedColormap,T=P.offset);const l=ie(Ge(Le({},m),{isGCS:x,resolution:o})),p=null==(S=(0,me.Wg)(this.rasterInfo.statistics))?void 0:S[0];return Ge(Le({},l),{minValue:null!=(g=null==p?void 0:p.min)?g:0,maxValue:null!=(L=null==p?void 0:p.max)?L:8e3,hillshadeType:"traditional"===m.hillshadeType?0:1,type:"hillshade",colormap:h,colormapOffset:T})}_generateVectorFieldWebGLParams(m){var x,o,S,g,L;const{style:h,inputUnit:T,outputUnit:P,visualVariables:b,symbolTileSize:l,flowRepresentation:p}=m;let v;const R=null!=(x=null==b?void 0:b.find(M=>"sizeInfo"===M.type))?x:{type:"sizeInfo",field:"Magnitude",maxDataValue:null==(o=this.rasterInfo.statistics)?void 0:o[0].max,maxSize:.8*l,minDataValue:null==(S=this.rasterInfo.statistics)?void 0:S[0].min,minSize:.2*l},I=R?R.minDataValue:null==(g=this.rasterInfo.statistics)?void 0:g[0].min,_=R?R.maxDataValue:null==(L=this.rasterInfo.statistics)?void 0:L[0].max,D=(0,me.pC)(R.maxSize)&&(0,me.pC)(R.minSize)?[R.minSize/l,R.maxSize/l]:[.2,.8];"wind_speed"!==h&&"simple_scalar"!==h||(D[0]=D[1]=(D[0]+D[1])/2);const C=(0,me.pC)(I)&&(0,me.pC)(_)?[I,_]:null;if("classified_arrow"===h)if((0,me.pC)(I)&&(0,me.pC)(_)&&(0,me.pC)(R)){v=[];const M=(R.maxDataValue-R.minDataValue)/5;for(let d=0;d<6;d++)v.push(R.minDataValue+M*d)}else v=[0,1e-6,3.5,7,10.5,14];const k="flow_to"===p==("ocean_current_kn"===h||"ocean_current_m"===h)?0:Math.PI,E=null==b?void 0:b.find(M=>"rotationInfo"===M.type);return{breakValues:v,dataRange:C,inputUnit:T,outputUnit:P,symbolTileSize:l,symbolPercentRange:D,style:h||"single_arrow",rotation:k,rotationType:(null==E?void 0:E.rotationType)||m.rotationType,type:"vectorField"}}};function G(m){return(0,X.nk)(m)&&0!==m.validPixelCount}(0,ae._)([(0,pe.Cb)({json:{write:!0}})],Ce.prototype,"rendererJSON",void 0),(0,ae._)([(0,pe.Cb)({type:H.Z,json:{write:!0}})],Ce.prototype,"rasterInfo",void 0),(0,ae._)([(0,pe.Cb)({json:{write:!0}})],Ce.prototype,"lookup",void 0),(0,ae._)([(0,pe.Cb)()],Ce.prototype,"canRenderInWebGL",void 0),Ce=(0,ae._)([(0,Z.j)("esri.renderers.support.RasterSymbolizer")],Ce);var F=Ce},2512:(Pe,ke,te)=>{te.d(ke,{Ms:()=>ye,Jw:()=>Z,Uh:()=>c});var ae=te(68322),ge=te(52227);const ye=[{id:"aspect_predefined",type:"multipart",colorRamps:[{fromColor:[190,190,190],toColor:[255,45,8]},{fromColor:[255,45,8],toColor:[255,181,61]},{fromColor:[255,181,61],toColor:[255,254,52]},{fromColor:[255,254,52],toColor:[0,251,50]},{fromColor:[0,251,50],toColor:[255,254,52]},{fromColor:[0,253,255],toColor:[0,181,255]},{fromColor:[0,181,255],toColor:[26,35,253]},{fromColor:[26,35,253],toColor:[255,57,251]},{fromColor:[255,57,251],toColor:[255,45,8]}]},{id:"blackToWhite_predefined",fromColor:[0,0,0],toColor:[255,255,255]},{id:"blueBright_predefined",fromColor:[204,204,255],toColor:[0,0,224]},{id:"blueLightToDark_predefined",fromColor:[211,229,232],toColor:[46,100,140]},{id:"blueGreenBright_predefined",fromColor:[203,245,234],toColor:[48,207,146]},{id:"blueGreenLightToDark_predefined",fromColor:[216,242,237],toColor:[21,79,74]},{id:"brownLightToDark_predefined",fromColor:[240,236,170],toColor:[102,72,48]},{id:"brownToBlueGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[156,85,31],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[33,130,145]}]},{id:"brownToBlueGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[110,70,45],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[48,100,102]}]},{id:"coefficientBias_predefined",fromColor:[214,214,255],toColor:[0,57,148]},{id:"coldToHotDiverging_predefined",type:"multipart",colorRamps:[{fromColor:[69,117,181],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[214,47,39]}]},{id:"conditionNumber_predefined",type:"multipart",colorRamps:[{fromColor:[0,97,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,34,0]}]},{id:"cyanToPurple_predefined",type:"multipart",colorRamps:[{fromColor:[0,245,245],toColor:[0,0,245]},{fromColor:[0,0,245],toColor:[245,0,245]}]},{id:"cyanLightToBlueDark_predefined",type:"multipart",colorRamps:[{fromColor:[182,237,240],toColor:[31,131,224]},{fromColor:[31,131,224],toColor:[9,9,145]}]},{id:"distance_predefined",fromColor:[255,200,0],toColor:[0,0,255]},{id:"elevation1_predefined",type:"multipart",colorRamps:[{fromColor:[175,240,233],toColor:[255,255,179]},{fromColor:[255,255,179],toColor:[0,128,64]},{fromColor:[0,128,64],toColor:[252,186,3]},{fromColor:[252,186,3],toColor:[128,0,0]},{fromColor:[120,0,0],toColor:[105,48,13]},{fromColor:[105,48,13],toColor:[171,171,171]},{fromColor:[171,171,171],toColor:[255,252,255]}]},{id:"elevation2_predefined",type:"multipart",colorRamps:[{fromColor:[118,219,211],toColor:[255,255,199]},{fromColor:[255,255,199],toColor:[255,255,128]},{fromColor:[255,255,128],toColor:[217,194,121]},{fromColor:[217,194,121],toColor:[135,96,38]},{fromColor:[135,96,38],toColor:[150,150,181]},{fromColor:[150,150,181],toColor:[181,150,181]},{fromColor:[181,150,181],toColor:[255,252,255]}]},{id:"errors_predefined",fromColor:[255,235,214],toColor:[196,10,10]},{id:"grayLightToDark_predefined",fromColor:[219,219,219],toColor:[69,69,69]},{id:"greenBright_predefined",fromColor:[204,255,204],toColor:[14,204,14]},{id:"greenLightToDark_predefined",fromColor:[220,245,233],toColor:[34,102,51]},{id:"greenToBlue_predefined",type:"multipart",colorRamps:[{fromColor:[32,204,16],toColor:[0,242,242]},{fromColor:[0,242,242],toColor:[2,33,227]}]},{id:"orangeBright_predefined",fromColor:[255,235,204],toColor:[240,118,5]},{id:"orangeLightToDark_predefined",fromColor:[250,233,212],toColor:[171,65,36]},{id:"partialSpectrum_predefined",type:"multipart",colorRamps:[{fromColor:[242,241,162],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]},{fromColor:[252,3,69],toColor:[176,7,237]},{fromColor:[176,7,237],toColor:[2,29,173]}]},{id:"partialSpectrum1Diverging_predefined",type:"multipart",colorRamps:[{fromColor:[135,38,38],toColor:[240,149,12]},{fromColor:[240,149,12],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[74,80,181]},{fromColor:[74,80,181],toColor:[39,32,122]}]},{id:"partialSpectrum2Diverging_predefined",type:"multipart",colorRamps:[{fromColor:[115,77,42],toColor:[201,137,52]},{fromColor:[201,137,52],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[91,63,176]},{fromColor:[91,63,176],toColor:[81,13,97]}]},{id:"pinkToYellowGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[158,30,113],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[99,110,45]}]},{id:"pinkToYellowGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[97,47,73],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[22,59,15]}]},{id:"precipitation_predefined",type:"multipart",colorRamps:[{fromColor:[194,82,60],toColor:[237,161,19]},{fromColor:[237,161,19],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,219,0]},{fromColor:[0,219,0],toColor:[32,153,143]},{fromColor:[32,153,143],toColor:[11,44,122]}]},{id:"prediction_predefined",type:"multipart",colorRamps:[{fromColor:[40,146,199],toColor:[250,250,100]},{fromColor:[250,250,100],toColor:[232,16,20]}]},{id:"purpleBright_predefined",fromColor:[255,204,255],toColor:[199,0,199]},{id:"purpleToGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[77,32,150],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[20,122,11]}]},{id:"purpleToGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[67,14,89],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[24,79,15]}]},{id:"purpleBlueBright_predefined",fromColor:[223,184,230],toColor:[112,12,242]},{id:"purpleBlueLightToDark_predefined",fromColor:[229,213,242],toColor:[93,44,112]},{id:"purpleRedBright_predefined",fromColor:[255,204,225],toColor:[199,0,99]},{id:"purpleRedLightToDark_predefined",fromColor:[250,215,246],toColor:[143,17,57]},{id:"redBright_predefined",fromColor:[255,204,204],toColor:[219,0,0]},{id:"redLightToDark_predefined",fromColor:[255,224,224],toColor:[143,10,10]},{id:"redToBlueDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[196,69,57],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[48,95,207]}]},{id:"redToBlueDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[107,13,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[13,53,97]}]},{id:"redToGreen_predefined",type:"multipart",colorRamps:[{fromColor:[245,0,0],toColor:[245,245,0]},{fromColor:[245,245,0],toColor:[0,245,0]}]},{id:"redToGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[186,20,20],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[54,145,33]}]},{id:"redToGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[97,21,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[16,69,16]}]},{id:"slope_predefined",type:"multipart",colorRamps:[{fromColor:[56,168,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]}]},{id:"spectrumFullBright_predefined",type:"multipart",colorRamps:[{fromColor:[255,0,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,0,255]}]},{id:"spectrumFullDark_predefined",type:"multipart",colorRamps:[{fromColor:[153,0,0],toColor:[153,153,0]},{fromColor:[153,153,0],toColor:[0,153,153]},{fromColor:[0,153,153],toColor:[0,0,153]}]},{id:"spectrumFullLight_predefined",type:"multipart",colorRamps:[{fromColor:[255,153,153],toColor:[255,255,153]},{fromColor:[255,255,153],toColor:[153,255,255]},{fromColor:[153,255,255],toColor:[153,153,255]}]},{id:"surface_predefined",type:"multipart",colorRamps:[{fromColor:[112,153,89],toColor:[242,238,162]},{fromColor:[242,238,162],toColor:[242,206,133]},{fromColor:[242,206,133],toColor:[194,140,124]},{fromColor:[194,140,124],toColor:[255,242,255]}]},{id:"temperature_predefined",type:"multipart",colorRamps:[{fromColor:[255,252,255],toColor:[255,0,255]},{fromColor:[255,0,255],toColor:[0,0,255]},{fromColor:[0,0,255],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,255,0]},{fromColor:[0,255,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,128,0]},{fromColor:[255,128,0],toColor:[128,0,0]}]},{id:"whiteToBlack_predefined",fromColor:[255,255,255],toColor:[0,0,0]},{id:"yellowToDarkRed_predefined",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[242,167,46]},{fromColor:[242,167,46],toColor:[107,0,0]}]},{id:"yellowToGreenToDarkBlue_predefined",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[56,224,9]},{fromColor:[56,224,9],toColor:[26,147,171]},{fromColor:[26,147,171],toColor:[12,16,120]}]},{id:"yellowToRed_predefined",fromColor:[245,245,0],toColor:[255,0,0]},{id:"yellowGreenBright_predefined",fromColor:[236,252,204],toColor:[157,204,16]},{id:"yellowGreenLightToDark_predefined",fromColor:[215,240,175],toColor:[96,107,45]}],de={aspect_predefined:"Aspect",blackToWhite_predefined:"Black to White",blueBright_predefined:"Blue Bright",blueLightToDark_predefined:"Blue Light to Dark",blueGreenBright_predefined:"Blue-Green Bright",blueGreenLightToDark_predefined:"Blue-Green Light to Dark",brownLightToDark_predefined:"Brown Light to Dark",brownToBlueGreenDivergingBright_predefined:"Brown to Blue Green Diverging, Bright",brownToBlueGreenDivergingDark_predefined:"Brown to Blue Green Diverging, Dark",coefficientBias_predefined:"Coefficient Bias",coldToHotDiverging_predefined:"Cold to Hot Diverging",conditionNumber_predefined:"Condition Number",cyanToPurple_predefined:"Cyan to Purple",cyanLightToBlueDark_predefined:"Cyan-Light to Blue-Dark",distance_predefined:"Distance",elevation1_predefined:"Elevation #1",elevation2_predefined:"Elevation #2",errors_predefined:"Errors",grayLightToDark_predefined:"Gray Light to Dark",greenBright_predefined:"Green Bright",greenLightToDark_predefined:"Green Light to Dark",greenToBlue_predefined:"Green to Blue",orangeBright_predefined:"Orange Bright",orangeLightToDark_predefined:"Orange Light to Dark",partialSpectrum_predefined:"Partial Spectrum",partialSpectrum1Diverging_predefined:"Partial Spectrum 1 Diverging",partialSpectrum2Diverging_predefined:"Partial Spectrum 2 Diverging",pinkToYellowGreenDivergingBright_predefined:"Pink to YellowGreen Diverging, Bright",pinkToYellowGreenDivergingDark_predefined:"Pink to YellowGreen Diverging, Dark",precipitation_predefined:"Precipitation",prediction_predefined:"Prediction",purpleBright_predefined:"Purple Bright",purpleToGreenDivergingBright_predefined:"Purple to Green Diverging, Bright",purpleToGreenDivergingDark_predefined:"Purple to Green Diverging, Dark",purpleBlueBright_predefined:"Purple-Blue Bright",purpleBlueLightToDark_predefined:"Purple-Blue Light to Dark",purpleRedBright_predefined:"Purple-Red Bright",purpleRedLightToDark_predefined:"Purple-Red Light to Dark",redBright_predefined:"Red Bright",redLightToDark_predefined:"Red Light to Dark",redToBlueDivergingBright_predefined:"Red to Blue Diverging, Bright",redToBlueDivergingDark_predefined:"Red to Blue Diverging, Dark",redToGreen_predefined:"Red to Green",redToGreenDivergingBright_predefined:"Red to Green Diverging, Bright",redToGreenDivergingDark_predefined:"Red to Green Diverging, Dark",slope_predefined:"Slope",spectrumFullBright_predefined:"Spectrum-Full Bright",spectrumFullDark_predefined:"Spectrum-Full Dark",spectrumFullLight_predefined:"Spectrum-Full Light",surface_predefined:"Surface",temperature_predefined:"Temperature",whiteToBlack_predefined:"White to Black",yellowToDarkRed_predefined:"Yellow to Dark Red",yellowToGreenToDarkBlue_predefined:"Yellow to Green to Dark Blue",yellowToRed_predefined:"Yellow to Red",yellowGreenBright_predefined:"Yellow-Green Bright",yellowGreenLightToDark_predefined:"Yellow-Green Light to Dark"};function me(H,X){if(!H||!X||H.length!==X.length)return!1;for(let B=0;B<H.length;B++)if(H[B]>X[B]+2||H[B]<X[B]-2)return!1;return!0}function pe(H,X,B){const ie=(0,ge.Y3)(H),$=(0,ge.Y3)(X);return(0,ge.xr)({l:ie.l*(1-B)+B*$.l,a:ie.a*(1-B)+B*$.a,b:ie.b*(1-B)+B*$.b})}function c(H){const X=function(H,X){if(!H)return;const B=ye;let ie,$=null;return"algorithmic"===H.type?B.some(re=>{if(me(H.fromColor.toRgb(),re.fromColor)&&me(H.toColor.toRgb(),re.toColor))return $=re.id,!0}):"multipart"===H.type&&B.some(re=>{if(H.colorRamps&&re.colorRamps&&H.colorRamps.length===re.colorRamps.length&&(ie=H.colorRamps,!re.colorRamps.some((oe,ue)=>{if(!me(ie[ue].fromColor.toRgb(),new ae.Z(oe.fromColor).toRgb())||!me(ie[ue].toColor.toRgb(),new ae.Z(oe.toColor).toRgb()))return!0}))){if($)return!0;$=re.id}}),$}(H);return X?de[X]:null}function Z(H,X,B=!1){if(!H||!X||X<1)return;const ie="toJSON"in H?H.toJSON():H,$="multipart"===ie.type?ie.colorRamps.length:1,re=[],oe=[];let ue,we,ce,Te,ve,Ce=0;if(1===X)return ue="multipart"===ie.type?ie.colorRamps[0].fromColor:ie.fromColor,oe.push([0].concat(ue)),oe;for(let G=0;G<$;G++)re[G]={start:null,end:null},re[G].start=Ce,re[G].end=Ce+1/$,Ce=re[G].end;for(let G=0;G<X;G++)Te=G/(X-1),re.forEach((F,m)=>{if(Te>=F.start&&(Te<F.end||G===X-1&&m===$-1)){ve=(Te-F.start)/(F.end-F.start),"multipart"===ie.type?(ue=ie.colorRamps[m].fromColor,we=ie.colorRamps[m].toColor):(ue=ie.fromColor,we=ie.toColor),0===G?oe.push([G].concat(ue.slice(0,3))):G===X-1?oe.push([G].concat(we.slice(0,3))):(ce=pe({r:ue[0],g:ue[1],b:ue[2]},{r:we[0],g:we[1],b:we[2]},ve),oe.push([G,ce.r,ce.g,ce.b]));const x=null!=ue[3]?ue[3]>1?ue[3]/255:ue[3]:1,o=null!=we[3]?we[3]>1?we[3]/255:we[3]:1;B&&oe[G].push(Math.min(255,Math.round(255*(x*(1-ve)+o*ve))))}});return oe}}}]);