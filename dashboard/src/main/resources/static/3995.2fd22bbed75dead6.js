"use strict";(self.webpackChunkdashboard=self.webpackChunkdashboard||[]).push([[3995],{68325:(L,d,n)=>{n.d(d,{T:()=>y});var a=n(61921);const y={BingMapsLayer:(t=(0,a.Z)(function*(){return(yield n.e(4738).then(n.bind(n,64738))).default}),function(){return t.apply(this,arguments)}),BuildingSceneLayer:function(){var t=(0,a.Z)(function*(){return(yield Promise.all([n.e(3055),n.e(8592),n.e(8901)]).then(n.bind(n,78901))).default});return function(){return t.apply(this,arguments)}}(),CSVLayer:function(){var t=(0,a.Z)(function*(){return(yield n.e(7903).then(n.bind(n,67903))).default});return function(){return t.apply(this,arguments)}}(),ElevationLayer:function(){var t=(0,a.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(5708)]).then(n.bind(n,5708))).default});return function(){return t.apply(this,arguments)}}(),FeatureLayer:function(){var t=(0,a.Z)(function*(){return(yield Promise.resolve().then(n.bind(n,71221))).default});return function(){return t.apply(this,arguments)}}(),GroupLayer:function(){var t=(0,a.Z)(function*(){return(yield n.e(9871).then(n.bind(n,49871))).default});return function(){return t.apply(this,arguments)}}(),GeoRSSLayer:function(){var t=(0,a.Z)(function*(){return(yield n.e(8595).then(n.bind(n,88595))).default});return function(){return t.apply(this,arguments)}}(),ImageryLayer:function(){var t=(0,a.Z)(function*(){return(yield Promise.all([n.e(1092),n.e(4786),n.e(5878),n.e(6136)]).then(n.bind(n,76136))).default});return function(){return t.apply(this,arguments)}}(),ImageryTileLayer:function(){var t=(0,a.Z)(function*(){return(yield Promise.all([n.e(1092),n.e(4786),n.e(5878),n.e(2791),n.e(8592),n.e(9205)]).then(n.bind(n,99205))).default});return function(){return t.apply(this,arguments)}}(),IntegratedMeshLayer:function(){var t=(0,a.Z)(function*(){return(yield Promise.all([n.e(3055),n.e(8592),n.e(8435)]).then(n.bind(n,8435))).default});return function(){return t.apply(this,arguments)}}(),KMLLayer:function(){var t=(0,a.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(4252)]).then(n.bind(n,84252))).default});return function(){return t.apply(this,arguments)}}(),MapImageLayer:function(){var t=(0,a.Z)(function*(){return(yield Promise.all([n.e(3394),n.e(8592),n.e(9453)]).then(n.bind(n,58382))).default});return function(){return t.apply(this,arguments)}}(),MapNotesLayer:function(){var t=(0,a.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(5352)]).then(n.bind(n,15352))).default});return function(){return t.apply(this,arguments)}}(),OGCFeatureLayer:function(){var t=(0,a.Z)(function*(){return(yield Promise.all([n.e(8646),n.e(817)]).then(n.bind(n,68020))).default});return function(){return t.apply(this,arguments)}}(),OpenStreetMapLayer:function(){var t=(0,a.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(4586)]).then(n.bind(n,84586))).default});return function(){return t.apply(this,arguments)}}(),PointCloudLayer:function(){var t=(0,a.Z)(function*(){return(yield Promise.all([n.e(3055),n.e(8592),n.e(1892)]).then(n.bind(n,1892))).default});return function(){return t.apply(this,arguments)}}(),RouteLayer:function(){var t=(0,a.Z)(function*(){return(yield n.e(704).then(n.bind(n,40704))).default});return function(){return t.apply(this,arguments)}}(),SceneLayer:function(){var t=(0,a.Z)(function*(){return(yield Promise.all([n.e(3055),n.e(8592),n.e(1252)]).then(n.bind(n,71252))).default});return function(){return t.apply(this,arguments)}}(),StreamLayer:function(){var t=(0,a.Z)(function*(){return(yield n.e(3679).then(n.bind(n,73679))).default});return function(){return t.apply(this,arguments)}}(),TileLayer:function(){var t=(0,a.Z)(function*(){return(yield Promise.all([n.e(3394),n.e(8592),n.e(6238)]).then(n.bind(n,14116))).default});return function(){return t.apply(this,arguments)}}(),UnknownLayer:function(){var t=(0,a.Z)(function*(){return(yield n.e(7644).then(n.bind(n,7644))).default});return function(){return t.apply(this,arguments)}}(),UnsupportedLayer:function(){var t=(0,a.Z)(function*(){return(yield n.e(9347).then(n.bind(n,39347))).default});return function(){return t.apply(this,arguments)}}(),VectorTileLayer:function(){var t=(0,a.Z)(function*(){return(yield Promise.all([n.e(4945),n.e(8592),n.e(6107)]).then(n.bind(n,24628))).default});return function(){return t.apply(this,arguments)}}(),VoxelLayer:function(){var t=(0,a.Z)(function*(){return(yield n.e(7032).then(n.bind(n,17032))).default});return function(){return t.apply(this,arguments)}}(),WebTileLayer:function(){var t=(0,a.Z)(function*(){return(yield n.e(8592).then(n.bind(n,5575))).default});return function(){return t.apply(this,arguments)}}(),WFSLayer:function(){var t=(0,a.Z)(function*(){return(yield Promise.all([n.e(9756),n.e(9675)]).then(n.bind(n,69675))).default});return function(){return t.apply(this,arguments)}}(),WMSLayer:function(){var t=(0,a.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(3970)]).then(n.bind(n,53970))).default});return function(){return t.apply(this,arguments)}}(),WMTSLayer:function(){var t=(0,a.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(1125)]).then(n.bind(n,91125))).default});return function(){return t.apply(this,arguments)}}()};var t},59861:(L,d,n)=>{n.d(d,{m:()=>t});var a=n(89225),y=n(93112);function t(o){return{origin:"portal-item",url:(0,a.mN)(o.itemUrl),portal:o.portal||y.Z.getDefault(),portalItem:o,readResourcePaths:[]}}},83995:(L,d,n)=>{n.r(d),n.d(d,{getFirstLayerOrTableId:()=>Z,getNumLayersAndTables:()=>h,load:()=>O,preprocessFSItemData:()=>T});var a=n(61921),y=n(22795),t=n(68325),o=n(93112),m=n(59861),v=n(79283),E=n(11939);function O(r,u){return c.apply(this,arguments)}function c(){return(c=(0,a.Z)(function*(r,u){const e=r.instance.portalItem;return e&&e.id?(yield e.load(u),S(r),C(r,u)):Promise.resolve()})).apply(this,arguments)}function S(r){const u=r.instance.portalItem;if(-1===r.supportedTypes.indexOf(u.type))throw new y.Z("portal:invalid-layer-item-type","Invalid layer item type '${type}', expected '${expectedType}'",{type:u.type,expectedType:r.supportedTypes.join(", ")})}function C(r,u){return g.apply(this,arguments)}function g(){return(g=(0,a.Z)(function*(r,u){const e=r.instance,i=e.portalItem,{url:l,title:f}=i,s=(0,m.m)(i);if("group"===e.type)return e.read({title:f},s),W(e,r);l&&e.read({url:l},s);const D=yield M(r,u);return D&&e.read(D,s),e.resourceReferences={portalItem:i,paths:s.readResourcePaths},e.read({title:f},s),(0,v.y)(e,s)})).apply(this,arguments)}function W(r,u){let e;const i=r.portalItem.type;switch(i){case"Feature Service":case"Feature Collection":e=t.T.FeatureLayer;break;case"Stream Service":e=t.T.StreamLayer;break;case"Scene Service":e=t.T.SceneLayer;break;default:throw new y.Z("portal:unsupported-item-type-as-group",`The item type '${i}' is not supported as a 'IGroupLayer'`)}let l;return e().then(f=>(l=f,M(u))).then(function(){var f=(0,a.Z)(function*(s){return"Feature Service"===i?(s=yield T(s,r.portalItem.url),P(r,l,s)):h(s)>0?P(r,l,s):function(r,u){return r.portalItem.url?(0,E.b)(r.portalItem.url).then(e=>{var i,l;function f(s){return{id:s.id,name:s.name}}e&&P(r,u,{layers:null==(i=e.layers)?void 0:i.map(f),tables:null==(l=e.tables)?void 0:l.map(f)})}):Promise.resolve()}(r,l)});return function(s){return f.apply(this,arguments)}}())}function P(r,u,e){let i=e.layers||[];const l=e.tables||[];"Feature Collection"===r.portalItem.type&&(i.forEach(f=>{var s;"Table"===(null==f||null==(s=f.layerDefinition)?void 0:s.type)&&l.push(f)}),i=i.filter(f=>{var s;return"Table"!==(null==f||null==(s=f.layerDefinition)?void 0:s.type)})),i.reverse().forEach(f=>{const s=I(r,u,e,f);r.add(s)}),l.reverse().forEach(f=>{const s=I(r,u,e,f);r.tables.add(s)})}function I(r,u,e,i){const l=new u({portalItem:r.portalItem.clone(),layerId:i.id,sublayerTitleMode:"service-name"});if("Feature Collection"===r.portalItem.type){const f={origin:"portal-item",portal:r.portalItem.portal||o.Z.getDefault()};l.read(i,f);const s=e.showLegend;null!=s&&l.read({showLegend:s},f)}return l}function M(r,u){if(!1===r.supportsData)return Promise.resolve(void 0);const e=r.instance;return e.portalItem.fetchData("json",u).catch(()=>null).then(function(){var i=(0,a.Z)(function*(l){if(function(r){return"stream"!==r.type&&"layerId"in r}(e)){let f,s=!0;return l&&h(l)>0&&(null==e.layerId&&(e.layerId=Z(l)),f=function(r,u){const e=r.layers;if(e)for(let l=0;l<e.length;l++)if(e[l].id===u)return e[l];const i=r.tables;if(i)for(let l=0;l<i.length;l++)if(i[l].id===u)return i[l];return null}(l,e.layerId),f&&(1===h(l)&&(s=!1),null!=l.showLegend&&(f.showLegend=l.showLegend))),s&&"service-name"!==e.sublayerTitleMode&&(e.sublayerTitleMode="item-title-and-service-name"),f}return l});return function(l){return i.apply(this,arguments)}}())}function T(r,u){return p.apply(this,arguments)}function p(){return(p=(0,a.Z)(function*(r,u){var e,i;if(null==(null==(e=r)?void 0:e.layers)||null==(null==(i=r)?void 0:i.tables)){const l=yield(0,E.b)(u);(r=r||{}).layers=r.layers||(null==l?void 0:l.layers),r.tables=r.tables||(null==l?void 0:l.tables)}return r})).apply(this,arguments)}function Z(r){const u=r.layers;if(u&&u.length)return u[0].id;const e=r.tables;return e&&e.length?e[0].id:null}function h(r){var u,e,i,l;return(null!=(u=null==r||null==(e=r.layers)?void 0:e.length)?u:0)+(null!=(i=null==r||null==(l=r.tables)?void 0:l.length)?i:0)}},11939:(L,d,n)=>{n.d(d,{b:()=>t});var a=n(61921),y=n(40662);function t(m){return o.apply(this,arguments)}function o(){return(o=(0,a.Z)(function*(m){const{data:v}=yield(0,y.default)(m,{responseType:"json",query:{f:"json"}});return v})).apply(this,arguments)}}}]);