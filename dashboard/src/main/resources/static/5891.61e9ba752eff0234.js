"use strict";var ys=Object.defineProperty,ds=Object.defineProperties,_s=Object.getOwnPropertyDescriptors,Q=Object.getOwnPropertySymbols,vs=Object.prototype.hasOwnProperty,Ms=Object.prototype.propertyIsEnumerable,q=(L,E,l)=>E in L?ys(L,E,{enumerable:!0,configurable:!0,writable:!0,value:l}):L[E]=l,F=(L,E)=>{for(var l in E||(E={}))vs.call(E,l)&&q(L,l,E[l]);if(Q)for(var l of Q(E))Ms.call(E,l)&&q(L,l,E[l]);return L},ss=(L,E)=>ds(L,_s(E));(self.webpackChunkdashboard=self.webpackChunkdashboard||[]).push([[5891],{85891:(L,E,l)=>{l.r(E),l.d(E,{getPatternDescriptor:()=>Y,getSymbolLayerFill:()=>i,previewSymbol3D:()=>fs});var Z=l(61921),H=l(53181),J=l(52227),N=(l(67474),l(22795)),es=l(33870),O=l(60305),ts=l(12523),D=l(12788),U=l(97367),ns=l(87262),rs=l(46342),b=l(65099),W=l(71005),os=l(1801),V=l(12363);const j=22,w=120,as=es.Z.getLogger("esri.symbols.support.previewSymbol3D");function k(s){const e=s.outline,r=(0,O.pC)(s.material)?s.material.color:null,t=(0,O.pC)(r)?r.toHex():null;if((0,O.Wi)(e)||"none"===e.pattern)return"fill"===s.type&&"#ffffff"===t?{color:"#bdc3c7",width:.75}:null;const n=(0,D.F2)(e.size)||0;return{color:"rgba("+((0,O.pC)(e.color)?e.color.toRgba():"255,255,255,1")+")",width:Math.min(n,80),style:"pattern"in s?(0,U.Sp)(e.pattern):null,join:"butt",cap:e.patternCap}}function A(s,e=1){const r=s.a,t=(0,J._Y)(s),n=t.h,o=t.s/e,a=100-(100-t.v)/e,{r:h,g:d,b:m}=(0,J.xr)({h:n,s:o,v:a});return[h,d,m,r]}function I(s){return"water"===s.type?(0,O.Wi)(s.color)?null:s.color:(0,O.Wi)(s.material)||(0,O.Wi)(s.material.color)?null:s.material.color}function i(s,e=0){const r=I(s);if(!r){if("fill"===s.type)return null;const o=(0,b.uH)(U.Ne.r,e);return[o,o,o,100]}const t=r.toRgba();for(let n=0;n<3;n++)t[n]=(0,b.uH)(t[n],e);return t}function Y(s,e){return S.apply(this,arguments)}function S(){return(S=(0,Z.Z)(function*(s,e){const r=s.style;return"none"===r?null:{type:"pattern",x:0,y:0,src:yield(0,U.Od)((0,H.V)(`esri/symbols/patterns/${r}.png`),e.toCss(!0)),width:5,height:5}})).apply(this,arguments)}function G(s){return s.outline?k(s):{color:"rgba(0, 0, 0, 1)",width:1.5}}function $(s,e){const r=I(s);if(!r)return null;let t="rgba(";return t+=(0,b.uH)(r.r,e)+",",t+=(0,b.uH)(r.g,e)+",",t+=(0,b.uH)(r.b,e)+",",t+r.a+");"}function B(s,e){const r=$(s,e);return r?"pattern"in s&&"none"===s.pattern?null:{color:r,width:Math.min(s.size?(0,D.F2)(s.size):.75,80),style:"pattern"in s?(0,U.Sp)(s.pattern):null,cap:"cap"in s?s.cap:null,join:"join"in s?"miter"===s.join?(0,D.F2)(2):s.join:null}:{}}function R(s,e,r){const t=.75*r;return{type:"linear",x1:t?.25*t:0,y1:t?.5*t:0,x2:t||4,y2:t?.5*t:4,colors:[{color:s,offset:0},{color:e,offset:1}]}}function K(){return(K=(0,Z.Z)(function*(s,e){const r="mesh-3d"===s.type,t=s.symbolLayers,n=e&&e.size?(0,D.F2)(e.size):null,o=e&&e.maxSize?(0,D.F2)(e.maxSize):null,a=n||j,h=[];let d=0,m=0,_=!1;for(let y=0;y<t.length;y++){const u=t.getItemAt(y),p=[];if(r&&"fill"!==u.type)continue;const P=b.JZ.fill[0];switch(u.type){case"fill":{const c=k(u),f=Math.min(a,o||w);d=Math.max(d,f),m=Math.max(m,f),_=!0;let v=i(u,0);const M="pattern"in u&&u.pattern,g=I(u);!r&&(0,O.pC)(M)&&"style"===M.type&&"solid"!==M.style&&g&&(v=yield Y(M,g)),p.push({shape:P,fill:v,stroke:c});break}case"line":{const c=B(u,0);if((0,O.Wi)(c))break;const f={stroke:c,shape:P};d=Math.max(d,j),m=Math.max(m,j),p.push(f);break}case"extrude":{const c=F({join:"round",width:1},B(u,-.4)),f=i(u,0),v=i(u,-.2),M=Math.min(a,o||w),g=(0,b.EV)(M);c.width=1,p.push({shape:g[0],fill:v,stroke:c}),p.push({shape:g[1],fill:v,stroke:c}),p.push({shape:g[2],fill:f,stroke:c});const C=.7*j+.5*M;d=Math.max(d,j),m=Math.max(m,C);break}case"water":{const c=I(u),f=A(c),v=A(c,2),M=A(c,3),g=(0,b.ht)();_=!0,p.push({shape:g[0],fill:f}),p.push({shape:g[1],fill:v}),p.push({shape:g[2],fill:M});const x=Math.min(a,o||w);d=Math.max(d,x),m=Math.max(m,x);break}}h.push(p)}return Promise.resolve((0,W.w)(h,[d,m],{node:e&&e.node,scale:_,opacity:e&&e.opacity}))})).apply(this,arguments)}function fs(s,e){if(0===s.symbolLayers.length)return Promise.reject(new N.Z("symbolPreview: renderPreviewHTML3D","No symbolLayers in the symbol."));switch(s.type){case"point-3d":return function(s,e){const r=e&&e.size?(0,D.F2)(e.size):null,t=e&&e.maxSize?(0,D.F2)(e.maxSize):null,n=e&&e.disableUpsampling,o=s.symbolLayers,a=[];let h=0,d=0;const m=o.getItemAt(o.length-1);let _;return m&&"icon"===m.type&&(_=m.size&&(0,D.F2)(m.size)),o.forEach(y=>{if("icon"!==y.type&&"object"!==y.type)return;const u="icon"===y.type?y.size&&(0,D.F2)(y.size):0,p=r||u?Math.ceil(Math.min(r||u,t||w)):j;if(y&&y.resource&&y.resource.href){const c=function(s,e){const r=e&&e.resource,t=r&&r.href;if(s.thumbnail&&s.thumbnail.url)return Promise.resolve(s.thumbnail.url);if(t&&"object"!==e.type)return Promise.resolve((0,V.nf)(s,e));const n=(0,H.V)("esri/images/Legend/legend3dsymboldefault.png");return s.styleOrigin&&(s.styleOrigin.styleName||s.styleOrigin.styleUrl)?(0,os.resolveWebStyleSymbol)(s.styleOrigin,{portal:s.styleOrigin.portal},"webRef").catch(o=>o).then(o=>{var a;return(null==o||null==(a=o.thumbnail)?void 0:a.url)||n}):Promise.resolve(n)}(s,y).then(function(f){const v=y.get("material.color"),M=function(s){return"icon"===s.type?"multiply":"tint"}(y);return(0,W.r)(f,p,v,M,n)}).then(function(f){const v=f.width,M=f.height;return h=Math.max(h,v),d=Math.max(d,M),[{shape:{type:"image",x:0,y:0,width:v,height:M,src:f.url},fill:null,stroke:null}]});a.push(c)}else{var P;let c=p;"icon"===y.type&&_&&r&&(c=p*(u/_));const f="tall"===(null==e?void 0:e.symbolConfig)||(null==e||null==(P=e.symbolConfig)?void 0:P.isTall)||"object"===y.type&&function(s){const e=s.depth,r=s.height,t=s.width;return t&&e&&r&&t===e&&t<r}(y);h=Math.max(h,f?20:c),d=Math.max(d,c),a.push(Promise.resolve(function(s,e,r){const t=[];if(!s)return t;switch(s.type){case"icon":{const n=0,o=0,a=e,h=e;switch(s.resource&&s.resource.primitive||ns.SI){case"circle":t.push({shape:{type:"circle",cx:0,cy:0,r:.5*e},fill:i(s,0),stroke:k(s)});break;case"square":t.push({shape:{type:"path",path:[{command:"M",values:[n,h]},{command:"L",values:[n,o]},{command:"L",values:[a,o]},{command:"L",values:[a,h]},{command:"Z",values:[]}]},fill:i(s,0),stroke:k(s)});break;case"triangle":t.push({shape:{type:"path",path:[{command:"M",values:[n,h]},{command:"L",values:[.5*a,o]},{command:"L",values:[a,h]},{command:"Z",values:[]}]},fill:i(s,0),stroke:k(s)});break;case"cross":t.push({shape:{type:"path",path:[{command:"M",values:[.5*a,o]},{command:"L",values:[.5*a,h]},{command:"M",values:[n,.5*h]},{command:"L",values:[a,.5*h]}]},stroke:G(s)});break;case"x":t.push({shape:{type:"path",path:[{command:"M",values:[n,o]},{command:"L",values:[a,h]},{command:"M",values:[a,o]},{command:"L",values:[n,h]}]},stroke:G(s)});break;case"kite":t.push({shape:{type:"path",path:[{command:"M",values:[n,.5*h]},{command:"L",values:[.5*a,o]},{command:"L",values:[a,.5*h]},{command:"L",values:[.5*a,h]},{command:"Z",values:[]}]},fill:i(s,0),stroke:k(s)})}break}case"object":switch(s.resource&&s.resource.primitive||rs.SI){case"cone":{const n=R(i(s,0),i(s,-.6),r?20:e),o=(0,b.TE)(e,r);t.push({shape:o[0],fill:n}),t.push({shape:o[1],fill:n});break}case"inverted-cone":{const n=i(s,0),o=R(n,i(s,-.6),e),a=(0,b.DY)(e);t.push({shape:a[0],fill:o}),t.push({shape:a[1],fill:n});break}case"cube":{const n=(0,b.Pc)(e,r);t.push({shape:n[0],fill:i(s,0)}),t.push({shape:n[1],fill:i(s,-.3)}),t.push({shape:n[2],fill:i(s,-.5)});break}case"cylinder":{const n=R(i(s,0),i(s,-.6),r?20:e),o=(0,b.EB)(e,r);t.push({shape:o[0],fill:n}),t.push({shape:o[1],fill:n}),t.push({shape:o[2],fill:i(s,0)});break}case"diamond":{const n=(0,b.XX)(e);t.push({shape:n[0],fill:i(s,-.3)}),t.push({shape:n[1],fill:i(s,0)}),t.push({shape:n[2],fill:i(s,-.3)}),t.push({shape:n[3],fill:i(s,-.7)});break}case"sphere":{const n=R(i(s,0),i(s,-.6));n.x1=0,n.y1=0,n.x2=.25*e,n.y2=.25*e,t.push({shape:{type:"circle",cx:0,cy:0,r:.5*e},fill:n});break}case"tetrahedron":{const n=(0,b.tp)(e);t.push({shape:n[0],fill:i(s,-.3)}),t.push({shape:n[1],fill:i(s,0)}),t.push({shape:n[2],fill:i(s,-.6)});break}}}return t}(y,c,f)))}}),(0,ts.as)(a).then(function(y){const u=[];return y.forEach(function(p){p.value?u.push(p.value):p.error&&as.warn("error while building swatchInfo!",p.error)}),(0,W.w)(u,[h,d],{node:e&&e.node,scale:!1,opacity:e&&e.opacity})})}(s,e);case"line-3d":return function(s,e){const r=s.symbolLayers,t=[],n=(0,V.YW)(s),o=e&&e.size?(0,D.F2)(e.size):null,a=(e&&e.maxSize?(0,D.F2)(e.maxSize):null)||80;let h,d=0,m=0;return r.forEach((_,y)=>{if(!_||"line"!==_.type&&"path"!==_.type)return;const u=[];switch(_.type){case"line":{const p=B(_,0);if((0,O.Wi)(p))break;const P=p&&p.width||0;0===y&&(h=P);const c=Math.min(o||P,a),f=0===y?c:o?c*(P/h):c,v=f>20?2*f:40;m=Math.max(m,f),d=Math.max(d,v),p.width=f,u.push({shape:{type:"path",path:[{command:"M",values:[0,.5*m]},{command:"L",values:[d,.5*m]}]},stroke:p});break}case"path":{const p=Math.min(o||j,a),P=i(_,0),c=i(_,-.2),f=$(_,-.4),v=f?{color:f,width:1}:{};if("quad"===_.profile){const M=_.width,g=_.height,x=(0,b.eb)(M&&g?M/g:1,0===g,0===M),C=ss(F({},v),{join:"bevel"});u.push({shape:x[0],fill:c,stroke:C}),u.push({shape:x[1],fill:c,stroke:C}),u.push({shape:x[2],fill:P,stroke:C})}else u.push({shape:b.JZ.pathSymbol3DLayer[0],fill:c,stroke:v}),u.push({shape:b.JZ.pathSymbol3DLayer[1],fill:P,stroke:v});m=Math.max(m,p),d=m}}t.push(u)}),Promise.resolve((0,W.w)(t,[d,m],{node:e&&e.node,scale:n,opacity:e&&e.opacity}))}(s,e);case"polygon-3d":case"mesh-3d":return function(s,e){return K.apply(this,arguments)}(s,e)}return Promise.reject(new N.Z("symbolPreview: swatchInfo3D","symbol not supported."))}}}]);