"use strict";var He=Object.defineProperty,Ke=Object.defineProperties,We=Object.getOwnPropertyDescriptors,Ze=Object.getOwnPropertySymbols,Je=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable,ke=(ee,k,S)=>k in ee?He(ee,k,{enumerable:!0,configurable:!0,writable:!0,value:S}):ee[k]=S,le=(ee,k)=>{for(var S in k||(k={}))Je.call(k,S)&&ke(ee,S,k[S]);if(Ze)for(var S of Ze(k))Xe.call(k,S)&&ke(ee,S,k[S]);return ee},Ve=(ee,k)=>Ke(ee,We(k));(self.webpackChunkdashboard=self.webpackChunkdashboard||[]).push([[6580],{24371:(ee,k,S)=>{function Z(z,W){const O=z.count;W||(W=new z.TypedArrayConstructor(O));for(let E=0;E<O;E++)W[E]=z.get(E);return W}S.d(k,{m:()=>Z}),Object.freeze({__proto__:null,copy:function(z,W,O){const E=z.typedBuffer,R=z.typedBufferStride,_=W.typedBuffer,P=W.typedBufferStride,w=O?O.count:W.count;let A=(O&&O.dstIndex?O.dstIndex:0)*R,C=(O&&O.srcIndex?O.srcIndex:0)*P;for(let N=0;N<w;++N)E[A]=_[C],A+=R,C+=P},makeDense:Z})},47360:(ee,k,S)=>{S.d(k,{f:()=>z,n:()=>K});var B=S(41365);function Z(O,E,R){const _=O.typedBuffer,P=O.typedBufferStride,w=E.typedBuffer,A=E.typedBufferStride,C=R?R.count:E.count;let N=(R&&R.dstIndex?R.dstIndex:0)*P,L=(R&&R.srcIndex?R.srcIndex:0)*A;for(let H=0;H<C;++H)_[N]=w[L],_[N+1]=w[L+1],N+=P,L+=A}function K(O,E,R){const _=O.typedBuffer,P=O.typedBufferStride,w=E.typedBuffer,A=E.typedBufferStride,C=R?R.count:E.count;let N=(R&&R.dstIndex?R.dstIndex:0)*P,L=(R&&R.srcIndex?R.srcIndex:0)*A;if((0,B.U)(E.elementType)){const H=(0,B.Op)(E.elementType);if((0,B.B3)(E.elementType))for(let j=0;j<C;++j)_[N]=Math.max(w[L]/H,-1),_[N+1]=Math.max(w[L+1]/H,-1),N+=P,L+=A;else for(let j=0;j<C;++j)_[N]=w[L]/H,_[N+1]=w[L+1]/H,N+=P,L+=A}else Z(O,E,R);return O}function z(O,E,R,_){var P,w;const A=O.typedBuffer,C=O.typedBufferStride,N=null!=(P=null==_?void 0:_.count)?P:O.count;let L=(null!=(w=null==_?void 0:_.dstIndex)?w:0)*C;for(let H=0;H<N;++H)A[L]=E,A[L+1]=R,L+=C}Object.freeze({__proto__:null,copy:Z,normalizeIntegerBuffer:K,fill:z})},24164:(ee,k,S)=>{S.d(k,{a:()=>W,s:()=>z,t:()=>K});var B=S(35642);function K(E,R,_){if(E.count!==R.count)return void B.k.error("source and destination buffers need to have the same number of elements");const P=E.count,w=_[0],A=_[1],C=_[2],N=_[3],L=_[4],H=_[5],j=_[6],X=_[7],$=_[8],J=E.typedBuffer,te=E.typedBufferStride,q=R.typedBuffer,be=R.typedBufferStride;for(let xe=0;xe<P;xe++){const _e=xe*te,ye=xe*be,de=q[ye],pe=q[ye+1],ne=q[ye+2],Se=q[ye+3];J[_e]=w*de+N*pe+j*ne,J[_e+1]=A*de+L*pe+X*ne,J[_e+2]=C*de+H*pe+$*ne,J[_e+3]=Se}}function z(E,R,_){const P=Math.min(E.count,R.count),w=E.typedBuffer,A=E.typedBufferStride,C=R.typedBuffer,N=R.typedBufferStride;for(let L=0;L<P;L++){const H=L*A,j=L*N;w[H]=_*C[j],w[H+1]=_*C[j+1],w[H+2]=_*C[j+2],w[H+3]=_*C[j+3]}}function W(E,R,_){const P=Math.min(E.count,R.count),w=E.typedBuffer,A=E.typedBufferStride,C=R.typedBuffer,N=R.typedBufferStride;for(let L=0;L<P;L++){const H=L*A,j=L*N;w[H]=C[j]>>_,w[H+1]=C[j+1]>>_,w[H+2]=C[j+2]>>_,w[H+3]=C[j+3]>>_}}Object.freeze({__proto__:null,transformMat4:function(E,R,_){if(E.count!==R.count)return void B.k.error("source and destination buffers need to have the same number of elements");const P=E.count,w=_[0],A=_[1],C=_[2],N=_[3],L=_[4],H=_[5],j=_[6],X=_[7],$=_[8],J=_[9],te=_[10],q=_[11],be=_[12],xe=_[13],_e=_[14],ye=_[15],de=E.typedBuffer,pe=E.typedBufferStride,ne=R.typedBuffer,Se=R.typedBufferStride;for(let Te=0;Te<P;Te++){const ce=Te*pe,we=Te*Se,ge=ne[we],ve=ne[we+1],ie=ne[we+2],me=ne[we+3];de[ce]=w*ge+L*ve+$*ie+be*me,de[ce+1]=A*ge+H*ve+J*ie+xe*me,de[ce+2]=C*ge+j*ve+te*ie+_e*me,de[ce+3]=N*ge+X*ve+q*ie+ye*me}},transformMat3:K,scale:z,shiftRight:W})},89914:(ee,k,S)=>{function B(z,W,O){const E=z.typedBuffer,R=z.typedBufferStride,_=W.typedBuffer,P=W.typedBufferStride,w=O?O.count:W.count;let A=(O&&O.dstIndex?O.dstIndex:0)*R,C=(O&&O.srcIndex?O.srcIndex:0)*P;for(let N=0;N<w;++N)E[A]=_[C],E[A+1]=_[C+1],E[A+2]=_[C+2],E[A+3]=_[C+3],A+=R,C+=P}function Z(z,W,O,E,R,_){var P,w;const A=z.typedBuffer,C=z.typedBufferStride,N=null!=(P=null==_?void 0:_.count)?P:z.count;let L=(null!=(w=null==_?void 0:_.dstIndex)?w:0)*C;for(let H=0;H<N;++H)A[L]=W,A[L+1]=O,A[L+2]=E,A[L+3]=R,L+=C}S.d(k,{c:()=>B,f:()=>Z}),Object.freeze({__proto__:null,copy:B,fill:Z})},82975:(ee,k,S)=>{function B(){return[0,0,0,0]}function K($,J,te,q){return[$,J,te,q]}function W($,J){return new Float64Array($,J,4)}function E(){return K(1,1,1,1)}function R(){return K(1,0,0,0)}function _(){return K(0,1,0,0)}function P(){return K(0,0,1,0)}function w(){return K(0,0,0,1)}S.d(k,{a:()=>W,c:()=>B,f:()=>K});const C=E(),N=R(),L=_(),H=P(),j=w();Object.freeze({__proto__:null,create:B,clone:function($){return[$[0],$[1],$[2],$[3]]},fromValues:K,fromArray:function($){const J=[0,0,0,0],te=Math.min(4,$.length);for(let q=0;q<te;++q)J[q]=$[q];return J},createView:W,zeros:function(){return[0,0,0,0]},ones:E,unitX:R,unitY:_,unitZ:P,unitW:w,ZEROS:[0,0,0,0],ONES:C,UNIT_X:N,UNIT_Y:L,UNIT_Z:H,UNIT_W:j})},92706:(ee,k,S)=>{S.d(k,{x:()=>K});var B=S(60305),Z=S(85132);class K{constructor(O){this.allocator=O,this.items=[],this.itemsPtr=0,this.tickHandle=Z.Z.before(()=>this.reset()),this.grow()}destroy(){this.tickHandle&&(this.tickHandle.remove(),this.tickHandle=(0,B.Bd)(this.tickHandle)),this.items=(0,B.Bd)(this.items)}get(){return 0===this.itemsPtr&&(0,Z.Z)(()=>{}),this.itemsPtr===this.items.length&&this.grow(),this.items[this.itemsPtr++]}reset(){const O=Math.min(3*Math.max(8,this.itemsPtr),this.itemsPtr+3*z);this.items.length=Math.min(O,this.items.length),this.itemsPtr=0}grow(){for(let O=0;O<Math.max(8,Math.min(this.items.length,z));O++)this.items.push(this.allocator())}}const z=1024},41365:(ee,k,S)=>{function Z(O){switch(O){case"u8":case"i8":return 1;case"u16":case"i16":return 2;case"u32":case"i32":case"f32":return 4;case"f64":return 8;default:return}}function K(O){switch(O){case"u8":case"u16":case"u32":return!1;case"i8":case"i16":case"i32":case"f32":case"f64":return!0;default:return}}function z(O){switch(O){case"u8":case"u16":case"u32":case"i8":case"i16":case"i32":return!0;case"f32":case"f64":return!1;default:return}}function W(O){switch(O){case"u8":return 255;case"u16":return 65535;case"u32":return 4294967295;case"i8":return 127;case"i16":return 32767;case"i32":return 2147483647;case"f32":return 3402823e32;case"f64":return 179769e303;default:return}}S.d(k,{n1:()=>Z,U:()=>z,B3:()=>K,Op:()=>W}),S(67474)},71351:(ee,k,S)=>{S.d(k,{gS:()=>P});var B=S(41365);function P(w,A){return new w(new ArrayBuffer(A*w.ElementCount*(0,B.n1)(w.ElementType)))}Object.freeze({__proto__:null,copy:function(w,A,C){const N=w.typedBuffer,L=w.typedBufferStride,H=A.typedBuffer,j=A.typedBufferStride,X=C?C.count:A.count;let $=(C&&C.dstIndex?C.dstIndex:0)*L,J=(C&&C.srcIndex?C.srcIndex:0)*j;for(let te=0;te<X;++te){for(let q=0;q<9;++q)N[$+q]=H[J+q];$+=L,J+=j}}}),Object.freeze({__proto__:null,copy:function(w,A,C){const N=w.typedBuffer,L=w.typedBufferStride,H=A.typedBuffer,j=A.typedBufferStride,X=C?C.count:A.count;let $=(C&&C.dstIndex?C.dstIndex:0)*L,J=(C&&C.srcIndex?C.srcIndex:0)*j;for(let te=0;te<X;++te){for(let q=0;q<16;++q)N[$+q]=H[J+q];$+=L,J+=j}}}),S(24371),S(47360),S(52055),S(89914)},83876:(ee,k,S)=>{S.d(k,{MP:()=>L,WM:()=>A});var B=S(60305),Z=S(85132),K=S(25461),z=S(4003),W=S(9334),O=S(64298),E=S(10127),R=S(82975);class _{constructor(X,$,J){this.itemByteSize=X,this.itemCreate=$,this.buffers=[],this.items=[],this.itemsPerBuffer=0,this.itemsPtr=0,this.itemsPerBuffer=Math.ceil(J/this.itemByteSize),this.tickHandle=Z.Z.before(()=>this.reset())}destroy(){this.tickHandle&&(this.tickHandle.remove(),this.tickHandle=(0,B.Bd)(this.tickHandle)),this.itemsPtr=0,this.items=(0,B.Bd)(this.items),this.buffers=(0,B.Bd)(this.buffers)}get(){0===this.itemsPtr&&(0,Z.Z)(()=>{});const X=Math.floor(this.itemsPtr/this.itemsPerBuffer);for(;this.buffers.length<=X;){const $=new ArrayBuffer(this.itemsPerBuffer*this.itemByteSize);for(let J=0;J<this.itemsPerBuffer;++J)this.items.push(this.itemCreate($,J*this.itemByteSize));this.buffers.push($)}return this.items[this.itemsPtr++]}reset(){const X=2*(Math.floor(this.itemsPtr/this.itemsPerBuffer)+1);for(;this.buffers.length>X;)this.buffers.pop(),this.items.length=this.buffers.length*this.itemsPerBuffer;this.itemsPtr=0}static createVec2f64(X=P){return new _(16,O.c,X)}static createVec3f64(X=P){return new _(24,E.b,X)}static createVec4f64(X=P){return new _(32,R.a,X)}static createMat3f64(X=P){return new _(72,K.a,X)}static createMat4f64(X=P){return new _(128,z.a,X)}static createQuatf64(X=P){return new _(32,W.c,X)}get test(){return{size:this.buffers.length*this.itemsPerBuffer*this.itemByteSize}}}const P=4096,A=(_.createVec2f64(),_.createVec3f64()),L=(_.createVec4f64(),_.createMat3f64(),_.createMat4f64());_.createQuatf64()},74924:(ee,k,S)=>{S.d(k,{C:()=>R});var B=S(61921),Z=S(40662),K=S(50898),z=S(22795),W=S(60305),O=S(12523),E=S(89225);class R{constructor(w){this.streamDataRequester=w}loadJSON(w,A){var C=this;return(0,B.Z)(function*(){return C.load("json",w,A)})()}loadBinary(w,A){var C=this;return(0,B.Z)(function*(){return(0,E.HK)(w)?((0,O.k_)(A),(0,E.AH)(w)):C.load("binary",w,A)})()}loadImage(w,A){var C=this;return(0,B.Z)(function*(){return C.load("image",w,A)})()}load(w,A,C){var N=this;return(0,B.Z)(function*(){if((0,W.Wi)(N.streamDataRequester))return(yield(0,Z.default)(A,{responseType:_[w]})).data;const L=yield(0,K.q6)(N.streamDataRequester.request(A,w,C));if(!0===L.ok)return L.value;throw(0,O.r9)(L.error),new z.Z("",`Request for resource failed: ${L.error}`)})()}}const _={image:"image",binary:"array-buffer",json:"json"}},40873:(ee,k,S)=>{S.d(k,{jX:()=>W,DA:()=>z,nh:()=>K});var B=S(89868),Z=S(71857);function K(O,E=Z.p){return"number"==typeof O?E(O):(0,B.Uc)(O)||(0,B.lq)(O)?new Uint32Array(O):O}function z(O){const E="number"==typeof O?O:O.length;if(E<3)return new Uint16Array(0);const R=E-2,_=R<=65536?new Uint16Array(3*R):new Uint32Array(3*R);if("number"==typeof O){let P=0;for(let w=0;w<R;w+=1)w%2==0?(_[P++]=w,_[P++]=w+1,_[P++]=w+2):(_[P++]=w+1,_[P++]=w,_[P++]=w+2)}else{let P=0;for(let w=0;w<R;w+=1)if(w%2==0){const C=O[w+1],N=O[w+2];_[P++]=O[w],_[P++]=C,_[P++]=N}else{const C=O[w],N=O[w+2];_[P++]=O[w+1],_[P++]=C,_[P++]=N}}return _}function W(O){const E="number"==typeof O?O:O.length;if(E<3)return new Uint16Array(0);const R=E-2,_=R<=65536?new Uint16Array(3*R):new Uint32Array(3*R);if("number"==typeof O){let P=0;for(let w=0;w<R;++w)_[P++]=0,_[P++]=w+1,_[P++]=w+2;return _}{const P=O[0];let w=O[1],A=0;for(let C=0;C<R;++C){const N=O[C+2];_[A++]=P,_[A++]=w,_[A++]=N,w=N}return _}}},30934:(ee,k,S)=>{S.d(k,{z:()=>je});var B=S(61921),Z=S(60305),K=S(4003),z=S(22795);const O=S(33870).Z.getLogger("esri.views.3d.glTF");var P=S(64465),w=S(35741),A=S(89225),C=S(25503),N=S(88034),L=S(38203),H=S(9334),j=S(56626),X=S(24371);class ${constructor(a){this.data=a,this.offset4=0,this.dataUint32=new Uint32Array(this.data,0,Math.floor(this.data.byteLength/4))}readUint32(){const a=this.offset4;return this.offset4+=1,this.dataUint32[a]}readUint8Array(a){const h=4*this.offset4;return this.offset4+=a/4,new Uint8Array(this.data,h,a)}remainingBytes(){return this.data.byteLength-4*this.offset4}}const J={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1},te={pbrMetallicRoughness:J,emissiveFactor:[0,0,0],alphaMode:"OPAQUE",alphaCutoff:.5,doubleSided:!1},q={ESRI_externalColorMixMode:"tint"},be=(x={})=>{const a=le(le({},J),x.pbrMetallicRoughness),h=function(x){switch(x.ESRI_externalColorMixMode){case"multiply":case"tint":case"ignore":case"replace":break;default:(0,P.Bg)(x.ESRI_externalColorMixMode),x.ESRI_externalColorMixMode="tint"}return x}(le(le({},q),x.extras));return Ve(le(le({},te),x),{pbrMetallicRoughness:a,extras:h})},_e={magFilter:9729,minFilter:9987,wrapS:10497,wrapT:10497};class ne{constructor(a,h,y,d,b){this.context=a,this.errorContext=h,this.uri=y,this.json=d,this.glbBuffer=b,this.bufferLoaders=new Map,this.textureLoaders=new Map,this.textureCache=new Map,this.materialCache=new Map,this.nodeParentMap=new Map,this.nodeTransformCache=new Map,this.baseUri=function(x){let a,h;return x.replace(/^(.*\/)?([^/]*)$/,(y,d,b)=>(a=d||"",h=b||"","")),{dirPart:a,filePart:h}}(this.uri).dirPart,this.checkVersionSupported(),this.checkRequiredExtensionsSupported(),h.errorUnsupportedIf(null==d.scenes,"Scenes must be defined."),h.errorUnsupportedIf(null==d.meshes,"Meshes must be defined"),h.errorUnsupportedIf(null==d.nodes,"Nodes must be defined."),this.computeNodeParents()}static load(a,h,y,d){var b=this;return(0,B.Z)(function*(){if((0,A.HK)(y)){const V=(0,A.sJ)(y);if("model/gltf-binary"!==V.mediaType)try{const D=JSON.parse(V.isBase64?atob(V.data):V.data);return new ne(a,h,y,D)}catch(D){}const G=(0,A.AH)(y);if(ne.isGLBData(G))return b.fromGLBData(a,h,y,G)}if(y.endsWith(".gltf")){const V=yield a.loadJSON(y,d);return new ne(a,h,y,V)}const v=yield a.loadBinary(y,d);if(ne.isGLBData(v))return b.fromGLBData(a,h,y,v);const I=yield a.loadJSON(y,d);return new ne(a,h,y,I)})()}static isGLBData(a){const h=new $(a);return h.remainingBytes()>=4&&1179937895===h.readUint32()}static fromGLBData(a,h,y,d){return(0,B.Z)(function*(){const b=yield ne.parseGLBData(h,d);return new ne(a,h,y,b.json,b.binaryData)})()}static parseGLBData(a,h){return(0,B.Z)(function*(){const y=new $(h);a.assert(y.remainingBytes()>=12,"GLB binary data is insufficiently large.");const d=y.readUint32(),b=y.readUint32(),v=y.readUint32();a.assert(1179937895===d,"Magic first 4 bytes do not fit to expected GLB value."),a.assert(h.byteLength>=v,"GLB binary data is smaller than header specifies."),a.errorUnsupportedIf(2!==b,"An unsupported GLB container version was detected. Only version 2 is supported.");let I,V,G=0;for(;y.remainingBytes()>=8;){const D=y.readUint32(),Y=y.readUint32();0===G?(a.assert(1313821514===Y,"First GLB chunk must be JSON."),a.assert(D>=0,"No JSON data found."),I=yield ie(y.readUint8Array(D))):1===G?(a.errorUnsupportedIf(5130562!==Y,"Second GLB chunk expected to be BIN."),V=y.readUint8Array(D)):a.warnUnsupported("More than 2 GLB chunks detected. Skipping."),G+=1}return I||a.error("No GLB JSON chunk detected."),{json:I,binaryData:V}})()}getBuffer(a,h){var y=this;return(0,B.Z)(function*(){const d=y.json.buffers[a],b=y.errorContext;if(null==d.uri)return b.assert(null!=y.glbBuffer,"GLB buffer not present"),y.glbBuffer;const v=yield y.getBufferLoader(a,h);return b.assert(v.byteLength===d.byteLength,"Buffer byte lengths should match."),v})()}getBufferLoader(a,h){var y=this;return(0,B.Z)(function*(){const d=y.bufferLoaders.get(a);if(d)return d;const v=y.context.loadBinary(y.resolveUri(y.json.buffers[a].uri),h).then(I=>new Uint8Array(I));return y.bufferLoaders.set(a,v),v})()}getAccessor(a,h){var y=this;return(0,B.Z)(function*(){const d=y.errorContext;d.errorUnsupportedIf(!y.json.accessors,"Accessors missing.");const b=y.json.accessors[a];d.errorUnsupportedIf(null==(null==b?void 0:b.bufferView),"Some accessor does not specify a bufferView."),d.errorUnsupportedIf(b.type in["MAT2","MAT3","MAT4"],`AttributeType ${b.type} is not supported`);const v=y.json.bufferViews[b.bufferView],I=yield y.getBuffer(v.buffer,h),V=we[b.type],G=ge[b.componentType],D=V*G,Y=v.byteStride||D;return{raw:I.buffer,byteStride:Y,byteOffset:I.byteOffset+(v.byteOffset||0)+(b.byteOffset||0),entryCount:b.count,isDenselyPacked:Y===D,componentCount:V,componentByteSize:G,componentType:b.componentType,min:b.min,max:b.max,normalized:!!b.normalized}})()}getIndexData(a,h){var y=this;return(0,B.Z)(function*(){if(null==a.indices)return null;const d=yield y.getAccessor(a.indices,h);if(d.isDenselyPacked)switch(d.componentType){case 5121:return new Uint8Array(d.raw,d.byteOffset,d.entryCount);case 5123:return new Uint16Array(d.raw,d.byteOffset,d.entryCount);case 5125:return new Uint32Array(d.raw,d.byteOffset,d.entryCount)}else switch(d.componentType){case 5121:return(0,X.m)(y.wrapAccessor(j.D_,d));case 5123:return(0,X.m)(y.wrapAccessor(j.av,d));case 5125:return(0,X.m)(y.wrapAccessor(j.Nu,d))}})()}getPositionData(a,h){var y=this;return(0,B.Z)(function*(){const d=y.errorContext;d.errorUnsupportedIf(null==a.attributes.POSITION,"No POSITION vertex data found.");const b=yield y.getAccessor(a.attributes.POSITION,h);return d.errorUnsupportedIf(5126!==b.componentType,"Expected type FLOAT for POSITION vertex attribute, but found "+Be[b.componentType]),d.errorUnsupportedIf(3!==b.componentCount,"POSITION vertex attribute must have 3 components, but found "+b.componentCount.toFixed()),y.wrapAccessor(j.ct,b)})()}getNormalData(a,h){var y=this;return(0,B.Z)(function*(){const d=y.errorContext;d.assert(null!=a.attributes.NORMAL,"No NORMAL vertex data found.");const b=yield y.getAccessor(a.attributes.NORMAL,h);return d.errorUnsupportedIf(5126!==b.componentType,"Expected type FLOAT for NORMAL vertex attribute, but found "+Be[b.componentType]),d.errorUnsupportedIf(3!==b.componentCount,"NORMAL vertex attribute must have 3 components, but found "+b.componentCount.toFixed()),y.wrapAccessor(j.ct,b)})()}getTangentData(a,h){var y=this;return(0,B.Z)(function*(){const d=y.errorContext;d.assert(null!=a.attributes.TANGENT,"No TANGENT vertex data found.");const b=yield y.getAccessor(a.attributes.TANGENT,h);return d.errorUnsupportedIf(5126!==b.componentType,"Expected type FLOAT for TANGENT vertex attribute, but found "+Be[b.componentType]),d.errorUnsupportedIf(4!==b.componentCount,"TANGENT vertex attribute must have 4 components, but found "+b.componentCount.toFixed()),new j.ek(b.raw,b.byteOffset,b.byteStride,b.byteOffset+b.byteStride*b.entryCount)})()}getTextureCoordinates(a,h){var y=this;return(0,B.Z)(function*(){const d=y.errorContext;d.assert(null!=a.attributes.TEXCOORD_0,"No TEXCOORD_0 vertex data found.");const b=yield y.getAccessor(a.attributes.TEXCOORD_0,h);return d.errorUnsupportedIf(2!==b.componentCount,"TEXCOORD_0 vertex attribute must have 2 components, but found "+b.componentCount.toFixed()),5126===b.componentType?y.wrapAccessor(j.Eu,b):(d.errorUnsupportedIf(!b.normalized,"Integer component types are only supported for a normalized accessor for TEXCOORD_0."),function(x){switch(x.componentType){case 5120:return new j.Vs(x.raw,x.byteOffset,x.byteStride,x.byteOffset+x.byteStride*x.entryCount);case 5121:return new j.xA(x.raw,x.byteOffset,x.byteStride,x.byteOffset+x.byteStride*x.entryCount);case 5122:return new j.or(x.raw,x.byteOffset,x.byteStride,x.byteOffset+x.byteStride*x.entryCount);case 5123:return new j.TS(x.raw,x.byteOffset,x.byteStride,x.byteOffset+x.byteStride*x.entryCount);case 5125:return new j.qt(x.raw,x.byteOffset,x.byteStride,x.byteOffset+x.byteStride*x.entryCount);case 5126:return new j.Eu(x.raw,x.byteOffset,x.byteStride,x.byteOffset+x.byteStride*x.entryCount);default:return void(0,P.Bg)(x.componentType)}}(b))})()}getVertexColors(a,h){var y=this;return(0,B.Z)(function*(){const d=y.errorContext;d.assert(null!=a.attributes.COLOR_0,"No COLOR_0 vertex data found.");const b=yield y.getAccessor(a.attributes.COLOR_0,h);if(d.errorUnsupportedIf(4!==b.componentCount&&3!==b.componentCount,"COLOR_0 attribute must have 3 or 4 components, but found "+b.componentCount.toFixed()),4===b.componentCount){if(5126===b.componentType)return y.wrapAccessor(j.ek,b);if(5121===b.componentType)return y.wrapAccessor(j.mc,b);if(5123===b.componentType)return y.wrapAccessor(j.v6,b)}else if(3===b.componentCount){if(5126===b.componentType)return y.wrapAccessor(j.ct,b);if(5121===b.componentType)return y.wrapAccessor(j.ne,b);if(5123===b.componentType)return y.wrapAccessor(j.mw,b)}d.errorUnsupported("Unsupported component type for COLOR_0 attribute: "+Be[b.componentType])})()}hasPositions(a){return void 0!==a.attributes.POSITION}hasNormals(a){return void 0!==a.attributes.NORMAL}hasVertexColors(a){return void 0!==a.attributes.COLOR_0}hasTextureCoordinates(a){return void 0!==a.attributes.TEXCOORD_0}hasTangents(a){return void 0!==a.attributes.TANGENT}getMaterial(a,h,y){var d=this;return(0,B.Z)(function*(){let b=d.materialCache.get(a.material);if(!b){const v=null!=a.material?be(d.json.materials[a.material]):be(),I=v.pbrMetallicRoughness,V=d.hasVertexColors(a),G=d.getTexture(I.baseColorTexture,h),D=d.getTexture(v.normalTexture,h),Y=y?d.getTexture(v.occlusionTexture,h):null,Q=y?d.getTexture(v.emissiveTexture,h):null,oe=y?d.getTexture(I.metallicRoughnessTexture,h):null,se=null!=a.material?a.material:-1;b={alphaMode:v.alphaMode,alphaCutoff:v.alphaCutoff,color:I.baseColorFactor,doubleSided:!!v.doubleSided,colorTexture:yield G,normalTexture:yield D,name:v.name,id:se,occlusionTexture:yield Y,emissiveTexture:yield Q,emissiveFactor:v.emissiveFactor,metallicFactor:I.metallicFactor,roughnessFactor:I.roughnessFactor,metallicRoughnessTexture:yield oe,vertexColors:V,ESRI_externalColorMixMode:v.extras.ESRI_externalColorMixMode}}return b})()}getTexture(a,h){var y=this;return(0,B.Z)(function*(){if(!a)return null;y.errorContext.errorUnsupportedIf(0!==(a.texCoord||0),"Only TEXCOORD with index 0 is supported.");const d=a.index,b=y.errorContext,v=y.json.textures[d],I=(x=null!=v.sampler?y.json.samplers[v.sampler]:{},le(le({},_e),x));var x;b.errorUnsupportedIf(null==v.source,"Source is expected to be defined for a texture.");const V=y.json.images[v.source],G=yield y.loadTextureImageData(d,v,h);return(0,w.s1)(y.textureCache,d,()=>{const D=Q=>33071===Q||33648===Q||10497===Q,Y=Q=>(b.error(`Unexpected TextureSampler WrapMode: ${Q}. Using default REPEAT(10497).`),10497);return{data:G,wrapS:D(I.wrapS)?I.wrapS:Y(I.wrapS),wrapT:D(I.wrapT)?I.wrapT:Y(I.wrapT),minFilter:I.minFilter,name:V.name,id:d}})})()}getNodeTransform(a){if(void 0===a)return Te;let h=this.nodeTransformCache.get(a);if(!h){const y=this.getNodeTransform(this.getNodeParent(a)),d=this.json.nodes[a];d.matrix?h=(0,N.m)((0,K.c)(),y,d.matrix):d.translation||d.rotation||d.scale?(h=(0,K.b)(y),d.translation&&(0,N.t)(h,h,d.translation),d.rotation&&(ce[3]=(0,L.g)(ce,d.rotation),(0,N.d)(h,h,ce[3],ce)),d.scale&&(0,N.f)(h,h,d.scale)):h=y,this.nodeTransformCache.set(a,h)}return h}wrapAccessor(a,h){return new a(h.raw,h.byteOffset,h.byteStride,h.byteOffset+h.byteStride*(h.entryCount-1)+h.componentByteSize*h.componentCount)}resolveUri(a){return(0,A.hF)(a,this.baseUri)}getNodeParent(a){return this.nodeParentMap.get(a)}checkVersionSupported(){const a=C.G.parse(this.json.asset.version,"glTF");Se.validate(a)}checkRequiredExtensionsSupported(){const a=this.json;a.extensionsRequired&&0!==a.extensionsRequired.length&&this.errorContext.errorUnsupported("gltf loader was not able to load unsupported feature. Required extensions: "+a.extensionsRequired.join(", "))}computeNodeParents(){this.json.nodes.forEach((a,h)=>{a.children&&a.children.forEach(y=>{this.nodeParentMap.set(y,h)})})}loadTextureImageData(a,h,y){var d=this;return(0,B.Z)(function*(){const b=d.textureLoaders.get(a);if(b)return b;const v=d.createTextureLoader(h,y);return d.textureLoaders.set(a,v),v})()}createTextureLoader(a,h){var y=this;return(0,B.Z)(function*(){const d=y.json.images[a.source];if(d.uri)return y.context.loadImage(y.resolveUri(d.uri),h);const b=y.errorContext;b.errorUnsupportedIf(null==d.bufferView,"Image bufferView must be defined."),b.errorUnsupportedIf(null==d.mimeType,"Image mimeType must be defined.");const v=y.json.bufferViews[d.bufferView],I=yield y.getBuffer(v.buffer,h);return b.errorUnsupportedIf(null!=v.byteStride,"byteStride not supported for image buffer"),function(x,a){return Ie.apply(this,arguments)}(new Uint8Array(I.buffer,I.byteOffset+(v.byteOffset||0),v.byteLength),d.mimeType)})()}}const Se=new C.G(2,0,"glTF"),Te=(0,N.o)((0,K.c)(),Math.PI/2),ce=(0,H.a)(),we={SCALAR:1,VEC2:2,VEC3:3,VEC4:4},ge={5120:1,5121:1,5122:2,5123:2,5126:4,5125:4};function ie(x){return me.apply(this,arguments)}function me(){return(me=(0,B.Z)(function*(x){return new Promise((a,h)=>{const y=new Blob([x]),d=new FileReader;d.onload=()=>{a(JSON.parse(d.result))},d.onerror=b=>{h(b)},d.readAsText(y)})})).apply(this,arguments)}function Ie(){return(Ie=(0,B.Z)(function*(x,a){return new Promise((h,y)=>{const d=new Blob([x],{type:a}),b=URL.createObjectURL(d),v=new Image;v.addEventListener("load",()=>{URL.revokeObjectURL(b),"decode"in v?v.decode().then(()=>h(v),()=>h(v)):h(v)}),v.addEventListener("error",I=>{URL.revokeObjectURL(b),y(I)}),v.src=b})})).apply(this,arguments)}const Be={5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5125:"UNSIGNED_INT",5126:"FLOAT"};let De=0;function je(x,a){return Le.apply(this,arguments)}function Le(){return Le=(0,B.Z)(function*(x,a,h={},y=!0){const d=yield ne.load(x,U,a,h),b="gltf_"+De++,v={lods:[],materials:new Map,textures:new Map,meta:re(d)},I=!(!d.json.asset.extras||"symbolResource"!==d.json.asset.extras.ESRI_type),V=new Map;yield he(d,function(){var G=(0,B.Z)(function*(D,Y,Q,oe){var se;const fe=null!=(se=V.get(Q))?se:0;V.set(Q,fe+1);const ae=void 0!==D.mode?D.mode:4,Me=4===ae||5===ae||6===ae?ae:null;if((0,Z.Wi)(Me))return void U.warnUnsupported("Unsupported primitive mode ("+F[ae]+"). Skipping primitive.");if(!d.hasPositions(D))return void U.warn("Skipping primitive without POSITION vertex attribute.");const Ce=d.getPositionData(D,h),Ae=d.getMaterial(D,h,y),Ee=d.hasNormals(D)?d.getNormalData(D,h):null,Re=d.hasTangents(D)?d.getTangentData(D,h):null,Pe=d.hasTextureCoordinates(D)?d.getTextureCoordinates(D,h):null,Ne=d.hasVertexColors(D)?d.getVertexColors(D,h):null,Ge=d.getIndexData(D,h),ze={transform:(0,K.b)(Y),attributes:{position:yield Ce,normal:Ee?yield Ee:null,texCoord0:Pe?yield Pe:null,color:Ne?yield Ne:null,tangent:Re?yield Re:null},indices:yield Ge,primitiveType:Me,material:T(v,yield Ae,b)};let Fe=null;(0,Z.pC)(v.meta)&&(0,Z.pC)(v.meta.ESRI_lod)&&"screenSpaceRadius"===v.meta.ESRI_lod.metric&&(Fe=v.meta.ESRI_lod.thresholds[Q]),v.lods[Q]=v.lods[Q]||{parts:[],name:oe,lodThreshold:Fe},v.lods[Q].parts[fe]=ze});return function(D,Y,Q,oe){return G.apply(this,arguments)}}());for(const G of v.lods)G.parts=G.parts.filter(D=>!!D);return{model:v,meta:{isEsriSymbolResource:I,uri:d.uri},customMeta:{}}}),Le.apply(this,arguments)}function re(x){let h=null;return x.json.nodes.forEach(y=>{const d=y.extras;(0,Z.pC)(d)&&(d.ESRI_proxyEllipsoid||d.ESRI_lod)&&(h=d)}),h}function he(x,a){return Oe.apply(this,arguments)}function Oe(){return Oe=(0,B.Z)(function*(x,a){const h=x.json,y=h.scenes[h.scene||0].nodes,d=y.length>1,b=[];for(const V of y){const G=h.nodes[V];b.push(v(V,0)),ue(G)&&!d&&G.extensions.MSFT_lod.ids.forEach((D,Y)=>v(D,Y+1))}function v(V,G){return I.apply(this,arguments)}function I(){return(I=(0,B.Z)(function*(V,G){const D=h.nodes[V],Y=x.getNodeTransform(V);if(U.warnUnsupportedIf(null!=D.weights,"Morph targets are not supported."),null!=D.mesh){const Q=h.meshes[D.mesh];for(const oe of Q.primitives)b.push(a(oe,Y,G,Q.name))}for(const Q of D.children||[])b.push(v(Q,G))})).apply(this,arguments)}yield Promise.all(b)}),Oe.apply(this,arguments)}function ue(x){return x.extensions&&x.extensions.MSFT_lod&&Array.isArray(x.extensions.MSFT_lod.ids)}function T(x,a,h){const y=b=>{const v=`${h}_tex_${b&&b.id}${b&&b.name?"_"+b.name:""}`;if(b&&!x.textures.has(v)){const I=function(x,a={}){return{data:x,parameters:le({wrap:le({s:10497,t:10497},a.wrap),noUnpackFlip:!0,mipmap:!1},a)}}(b.data,{wrap:{s:b.wrapS,t:b.wrapT},mipmap:M.some(V=>V===b.minFilter),noUnpackFlip:!0});x.textures.set(v,I)}return v},d=`${h}_mat_${a.id}_${a.name}`;if(!x.materials.has(d)){const b=function(x={}){return le({color:[1,1,1],opacity:1,alphaMode:"OPAQUE",alphaCutoff:.5,doubleSided:!1,castShadows:!0,receiveShadows:!0,receiveAmbientOcclustion:!0,textureColor:null,textureNormal:null,textureOcclusion:null,textureEmissive:null,textureMetallicRoughness:null,emissiveFactor:[0,0,0],metallicFactor:1,roughnessFactor:1,colorMixMode:"multiply"},x)}({color:[a.color[0],a.color[1],a.color[2]],opacity:a.color[3],alphaMode:a.alphaMode,alphaCutoff:a.alphaCutoff,doubleSided:a.doubleSided,colorMixMode:a.ESRI_externalColorMixMode,textureColor:a.colorTexture?y(a.colorTexture):void 0,textureNormal:a.normalTexture?y(a.normalTexture):void 0,textureOcclusion:a.occlusionTexture?y(a.occlusionTexture):void 0,textureEmissive:a.emissiveTexture?y(a.emissiveTexture):void 0,textureMetallicRoughness:a.metallicRoughnessTexture?y(a.metallicRoughnessTexture):void 0,emissiveFactor:[a.emissiveFactor[0],a.emissiveFactor[1],a.emissiveFactor[2]],metallicFactor:a.metallicFactor,roughnessFactor:a.roughnessFactor});x.materials.set(d,b)}return d}const U=new class{error(a){throw new z.Z("gltf-loader-error",a)}errorUnsupported(a){throw new z.Z("gltf-loader-unsupported-feature",a)}errorUnsupportedIf(a,h){a&&this.errorUnsupported(h)}assert(a,h){a||this.error(h)}warn(a){O.warn(a)}warnUnsupported(a){this.warn("[Unsupported Feature] "+a)}warnUnsupportedIf(a,h){a&&this.warnUnsupported(h)}},M=[9987,9985],F=["POINTS","LINES","LINE_LOOP","LINE_STRIP","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN"]},71857:(ee,k,S)=>{S.d(k,{NO:()=>je,cM:()=>De,p:()=>Ie,DX:()=>Be});var B=S(6618),Z=S(10127),K=S(92706);function Te(T,U,M){return(0,B.f)(ge,U,T),(0,B.f)(ve,M,T),(0,B.l)((0,B.c)(ge,ge,ve))/2}S(87492),S(22791),S(83876),(0,Z.c)(),(0,Z.c)(),new K.x(()=>({origin:null,vector:null})),new K.x(function(T){return T?{origin:(0,Z.a)(T.origin),vector:(0,Z.a)(T.vector)}:{origin:(0,Z.c)(),vector:(0,Z.c)()}}),new K.x(()=>({p0:null,p1:null,p2:null}));const ge=(0,Z.c)(),ve=(0,Z.c)();let ie=(()=>{const T=new Uint32Array(131072);for(let U=0;U<T.length;++U)T[U]=U;return T})();const me=new Uint16Array([0]),Ue=(()=>{const T=new Uint16Array(65536);for(let U=0;U<T.length;++U)T[U]=U;return T})();function Ie(T){if(1===T)return me;if(T<Ue.length)return new Uint16Array(Ue.buffer,0,T);if(T>ie.length){const U=Math.max(2*ie.length,T);ie=new Uint32Array(U);for(let M=0;M<ie.length;M++)ie[M]=M}return new Uint32Array(ie.buffer,0,T)}function Be(T){if(1===T)return new Uint16Array(me);if(T<Ue.length)return new Uint16Array(Ue.slice(0,T));if(T>ie.length){const U=new Uint32Array(T);for(let M=0;M<U.length;M++)U[M]=M;return U}return new Uint32Array(ie.slice(0,T))}function De(T,U,M){if(!T)return!1;const{size:F,data:x}=T;(0,B.s)(M,0,0,0),(0,B.s)(ue,0,0,0);let a=0,h=0;for(let y=0;y<U.length-2;y+=3){const d=U[y+0]*F,b=U[y+1]*F,v=U[y+2]*F;(0,B.s)(re,x[d+0],x[d+1],x[d+2]),(0,B.s)(he,x[b+0],x[b+1],x[b+2]),(0,B.s)(Oe,x[v+0],x[v+1],x[v+2]);const I=Te(re,he,Oe);I?((0,B.b)(re,re,he),(0,B.b)(re,re,Oe),(0,B.a)(re,re,1/3*I),(0,B.b)(M,M,re),a+=I):((0,B.b)(ue,ue,re),(0,B.b)(ue,ue,he),(0,B.b)(ue,ue,Oe),h+=3)}return!(0===h&&0===a||(0!==a?((0,B.a)(M,M,1/a),0):0===h||((0,B.a)(M,ue,1/h),0)))}function je(T,U,M){if(!T||!U)return!1;const{size:F,data:x}=T;(0,B.s)(M,0,0,0);let a=-1,h=0;for(let y=0;y<U.length;y++){const d=U[y]*F;a!==d&&(M[0]+=x[d+0],M[1]+=x[d+1],M[2]+=x[d+2],h++),a=d}return h>1&&(0,B.a)(M,M,1/h),h>0}const re=(0,Z.c)(),he=(0,Z.c)(),Oe=(0,Z.c)(),ue=(0,Z.c)()},80850:(ee,k,S)=>{S.d(k,{K:()=>B});const B=2.1}}]);