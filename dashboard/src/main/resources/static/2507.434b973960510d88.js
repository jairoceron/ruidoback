"use strict";var te=Object.defineProperty,le=Object.defineProperties,ne=Object.getOwnPropertyDescriptors,R=Object.getOwnPropertySymbols,se=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable,Z=(d,r,o)=>r in d?te(d,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):d[r]=o,D=(d,r)=>{for(var o in r||(r={}))se.call(r,o)&&Z(d,o,r[o]);if(R)for(var o of R(r))oe.call(r,o)&&Z(d,o,r[o]);return d},z=(d,r)=>le(d,ne(r));(self.webpackChunkdashboard=self.webpackChunkdashboard||[]).push([[2507],{82507:(d,r,o)=>{o.r(r),o.d(r,{previewSymbol2D:()=>b});var B=o(68322),S=o(22795),y=o(12788),P=o(97367),C=o(65099),W=o(71005);const F="picture-fill",L=120,V=document.createElement("canvas");function b(n,e){var u,M;const h=null!=(null==e?void 0:e.size)?(0,y.F2)(e.size):null,g=null!=(null==e?void 0:e.maxSize)?(0,y.F2)(e.maxSize):null,ee=null!=(null==e?void 0:e.opacity)?e.opacity:null,E=null!=(null==e?void 0:e.rotation)?e.rotation:"angle"in n?n.angle:null,_=(0,P._M)(n);let f=(0,P.mx)(n);if(_&&!f){const l="type"in _?null:new B.Z(_);"#ffffff"===(l?l.toHex():null)&&(f={color:"#bdc3c7",width:.75})}const c={shape:null,fill:null,stroke:f,offset:[0,0]};null!=(u=f)&&u.width&&(f.width=Math.min(f.width,80));const m=(null==(M=f)?void 0:M.width)||0;let v=null!=h&&(null==(null==e?void 0:e.scale)||(null==e?void 0:e.scale)),a=0,t=0,w=!1;switch(n.type){case"simple-marker":{const l=n.style,i=Math.min(null!=h?h:(0,y.F2)(n.size),g||L);switch(a=i,t=i,l){case"circle":c.shape={type:"circle",cx:0,cy:0,r:.5*i},v||(a+=m,t+=m);break;case"cross":c.shape={type:"path",path:[{command:"M",values:[0,.5*t]},{command:"L",values:[a,.5*t]},{command:"M",values:[.5*a,0]},{command:"L",values:[.5*a,t]}]};break;case"diamond":c.shape={type:"path",path:[{command:"M",values:[0,.5*t]},{command:"L",values:[.5*a,0]},{command:"L",values:[a,.5*t]},{command:"L",values:[.5*a,t]},{command:"Z",values:[]}]},v||(a+=m,t+=m);break;case"square":c.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[a,0]},{command:"L",values:[a,t]},{command:"L",values:[0,t]},{command:"Z",values:[]}]},v||(a+=m,t+=m),E&&(w=!0);break;case"triangle":c.shape={type:"path",path:[{command:"M",values:[.5*a,0]},{command:"L",values:[a,t]},{command:"L",values:[0,t]},{command:"Z",values:[]}]},v||(a+=m,t+=m),E&&(w=!0);break;case"x":c.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[a,t]},{command:"M",values:[a,0]},{command:"L",values:[0,t]}]},E&&(w=!0);break;case"path":c.shape={type:"path",path:n.path||""},v||(a+=m,t+=m),E&&(w=!0),v=!0}break}case"simple-line":{const l=Math.min(null!=h?h:m,g||80),i=l>22?2*l:40;f.width=l,a=i,t=l,c.shape={type:"path",path:[{command:"M",values:[0,t]},{command:"L",values:[a,t]}]};break}case F:case"simple-fill":a=Math.min(null!=h?h:22,g||L)+m,t=a,v=!0,c.shape="object"==typeof(null==e?void 0:e.symbolConfig)&&null!=e&&e.symbolConfig.isSquareFill?C.JZ.squareFill[0]:C.JZ.fill[0];break;case"picture-marker":{let l=(0,y.F2)(n.width),i=(0,y.F2)(n.height);const s=null!=h?h:Math.max(l,i),p=l/i;l=p<=1?Math.ceil(s*p):s,i=p<=1?s:Math.ceil(s/p),a=Math.min(l,g||L),t=Math.min(i,g||L),c.shape={type:"image",x:-Math.round(a/2),y:-Math.round(t/2),width:a,height:t,src:n.url||""},E&&(w=!0);break}case"text":{const l=n,i=l.text||"Aa",s=l.font,p=Math.min(null!=h?h:(0,y.F2)(s.size),g||L),ae=function(n,e){const u=V.getContext("2d"),M=[];return e&&(e.weight&&M.push(e.weight),e.size&&M.push(e.size+"px"),e.family&&M.push(e.family)),u.font=M.join(" "),u.measureText(n).width}(i,{weight:s.weight,size:p,family:s.family}),T=/[\uE600-\uE6FF]/.test(i);a=T?p:ae,t=p;let A=.25*function(n){if(0===n.length)return 0;if(n.length>2){const e=(0,y.Wz)(1),u=parseFloat(n);switch(n.slice(-2)){case"px":return u;case"pt":return u*e;case"in":return 72*u*e;case"pc":return 12*u*e;case"mm":return 2.8346456692913384*u*e;case"cm":return 28.346456692913385*u*e}}return parseFloat(n)}((s?p:0).toString());T&&(A+=5),c.shape={type:"text",text:i,x:0,y:A,align:"middle",decoration:s&&s.decoration,rotated:l.rotated,kerning:l.kerning},c.font=s&&{size:p,style:s.style,decoration:s.decoration,weight:s.weight,family:s.family};break}}if(!c.shape)return Promise.reject(new S.Z("symbolPreview: renderPreviewHTML2D","symbol not supported."));const x=_,U=n.color;let k=null;return x&&"pattern"===x.type&&U&&n.type!==F?k=(0,P.Od)(x.src,U.toCss(!0)).then(l=>(x.src=l,c.fill=x,c)):(c.fill=_,k=Promise.resolve(c)),k.then(l=>{const i=[[l]];if("object"==typeof(null==e?void 0:e.symbolConfig)&&null!=e&&e.symbolConfig.applyColorModulation){const s=.6*a;i.unshift([z(D({},l),{offset:[-s,0],fill:(0,C.dc)(_,-.3)})]),i.push([z(D({},l),{offset:[s,0],fill:(0,C.dc)(_,.3)})]),a+=2*s}return(0,W.w)(i,[a,t],{node:e&&e.node,scale:v,opacity:ee,rotation:E,useRotationSize:w})})}}}]);