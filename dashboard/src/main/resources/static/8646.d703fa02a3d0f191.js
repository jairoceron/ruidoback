"use strict";var we=Object.defineProperty,De=Object.defineProperties,ve=Object.getOwnPropertyDescriptors,_e=Object.getOwnPropertySymbols,Ce=Object.prototype.hasOwnProperty,Se=Object.prototype.propertyIsEnumerable,ge=(j,h,a)=>h in j?we(j,h,{enumerable:!0,configurable:!0,writable:!0,value:a}):j[h]=a,w=(j,h)=>{for(var a in h||(h={}))Ce.call(h,a)&&ge(j,a,h[a]);if(_e)for(var a of _e(h))Se.call(h,a)&&ge(j,a,h[a]);return j},A=(j,h)=>De(j,ve(h));(self.webpackChunkdashboard=self.webpackChunkdashboard||[]).push([[8646],{54135:(j,h,a)=>{a.d(h,{lG:()=>te,q9:()=>x,my:()=>pe,O3:()=>ce});var O=a(22795),ne=a(82535),D=a(82490);const P={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function x(e){return P[e]}function*E(e){switch(e.type){case"Feature":yield e;break;case"FeatureCollection":for(const t of e.features)t&&(yield t)}}function*H(e){if(!e)return null;switch(e.type){case"Point":yield e.coordinates;break;case"LineString":case"MultiPoint":yield*e.coordinates;break;case"MultiLineString":case"Polygon":for(const t of e.coordinates)yield*t;break;case"MultiPolygon":for(const t of e.coordinates)for(const r of t)yield*r}}function I(e){for(const t of e)if(t.length>2)return!0;return!1}function $(e){let t=0;for(let r=0;r<e.length;r++){const s=e[r],p=e[(r+1)%e.length];t+=s[0]*p[1]-p[0]*s[1]}return t<=0}function Z(e){const t=e[0],r=e[e.length-1];return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]||e.push(t),e}function ae(e,t,r){switch(t.type){case"LineString":case"MultiPoint":return function(e,t,r){return U(e,t.coordinates,r),e}(e,t,r);case"MultiLineString":return function(e,t,r){for(const s of t.coordinates)U(e,s,r);return e}(e,t,r);case"MultiPolygon":return function(e,t,r){for(const s of t.coordinates){re(e,s[0],r);for(let p=1;p<s.length;p++)V(e,s[p],r)}return e}(e,t,r);case"Point":return function(e,t,r){return q(e,t.coordinates,r),e}(e,t,r);case"Polygon":return function(e,t,r){const s=t.coordinates;re(e,s[0],r);for(let p=1;p<s.length;p++)V(e,s[p],r);return e}(e,t,r)}}function re(e,t,r){const s=Z(t);!function(e){return!$(e)}(s)?U(e,s,r):z(e,s,r)}function V(e,t,r){const s=Z(t);!function(e){return $(e)}(s)?U(e,s,r):z(e,s,r)}function U(e,t,r){for(const s of t)q(e,s,r);e.lengths.push(t.length)}function z(e,t,r){for(let s=t.length-1;s>=0;s--)q(e,t[s],r);e.lengths.push(t.length)}function q(e,t,r){const[s,p,v]=t;e.coords.push(s,p),r.hasZ&&e.coords.push(v||0)}function ee(e){switch(typeof e){case"string":return"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function ce(e){if(!e)throw new O.Z("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==e.type&&"FeatureCollection"!==e.type)throw new O.Z("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:e});const{crs:t}=e;if(!t)return;const r="string"==typeof t?t:"name"===t.type?t.properties.name:"EPSG"===t.type?t.properties.code:null,s=new RegExp(".*(CRS84H?|4326)$","i");if(!r||!s.test(r))throw new O.Z("geojson-layer:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:t})}function pe(e,t={}){const r=[],s=new Set,p=new Set;let v,C=!1,G=Number.NEGATIVE_INFINITY,d=null,n=!1,{geometryType:o=null}=t,i=!1;for(const f of E(e)){const{geometry:y,properties:m,id:c}=f;if((!y||(o||(o=x(y.type)),x(y.type)===o))&&(C||(C=I(H(y))),n||(n=null!=c,n&&(v=typeof c,"number"===v&&(d=Object.keys(m).filter(g=>m[g]===c)))),n&&"number"===v&&null!=c&&(G=Math.max(G,c),d.length>1?d=d.filter(g=>m[g]===c):1===d.length&&(d=m[d[0]]===c?d:[])),!i&&m)){let g=!0;for(const T in m){if(s.has(T))continue;const R=m[T];if(null==R){g=!1,p.add(T);continue}const F=ee(R);"unknown"!==F?(p.delete(T),s.add(T),r.push({name:T,alias:T,type:F})):p.add(T)}i=g}}const l=d&&1===d.length&&d[0]||null;if(l)for(const f of r)f.name===l&&(f.type="esriFieldTypeOID");return{fields:r,geometryType:o,hasZ:C,maxObjectId:Math.max(0,G),objectIdFieldName:l,objectIdFieldType:v,unknownFields:Array.from(p)}}function te(e,t){return Array.from(function*(e,t={}){const{geometryType:r,objectIdField:s}=t;for(const v of e){var p;const{geometry:C,properties:G,id:d}=v;if(C&&x(C.type)!==r)continue;const n=G||{};let o=null!=(p=n[s])?p:null;s&&null!=d&&!n[s]&&(n[s]=o=d),yield new ne.ZP(C?ae(new D.Z,C,t):null,n,null,o)}}(E(e),t))}},31378:(j,h,a)=>{a.d(h,{MS:()=>N,Dm:()=>E,Hq:()=>H,bU:()=>x});var O=a(67474),ne=a(85071),D=a(26729),P=a(21984);function x(I){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===I||"esriGeometryMultipoint"===I?P.I4:"esriGeometryPolyline"===I?P.ET:P.lF}}}function E(I,b){if((0,O.Z)("csp-restrictions"))return()=>w({[b]:null},I);try{let W=`this.${b} = null;`;for(const Z in I)W+=`this${Z.indexOf(".")?`["${Z}"]`:`.${Z}`} = ${JSON.stringify(I[Z])};`;const $=new Function(W);return()=>new $}catch(W){return()=>w({[b]:null},I)}}function H(I={}){return[{name:"New Feature",description:"",prototype:{attributes:(0,ne.d9)(I)}}]}function N(I,b){return{attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:I},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:b,supportsDelete:b,supportsEditing:b,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:b,supportsExceedsLimitStatistics:!0},query:D.g,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0},editing:{supportsGeometryUpdate:b,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1}}}},48646:(j,h,a)=>{a.d(h,{w9:()=>le,j:()=>ue,G4:()=>re,gp:()=>U,eS:()=>q,d:()=>ce,yN:()=>pe,WW:()=>e});var O=a(61921),D=(a(73513),a(40662)),P=a(22795),x=a(33870),E=a(60305),H=a(89096),N=a(87337),I=a(90097),b=a(34425),W=a(54135),$=a(31378),Z=a(25808),ae=a(26047),L=a(56703);const J=x.Z.getLogger("esri.layers.graphics.sources.ogcfeature");function le(n,o){return Y.apply(this,arguments)}function Y(){return(Y=(0,O.Z)(function*(n,o,i={},l=5){const{links:f}=n,y=d(f,"items","application/geo+json")||d(f,"http://www.opengis.net/def/rel/ogc/1.0/items","application/geo+json");if((0,E.Wi)(y))throw new P.Z("ogc-feature-layer:missing-items-page","Missing items url");const{data:m}=yield(0,D.default)(y.href,{signal:i.signal,query:A(w({limit:l},i.customParameters),{token:i.apiKey}),headers:{accept:"application/geo+json"}});yield(0,W.O3)(m);const c=(0,W.my)(m,{geometryType:o.geometryType}),g=o.fields||c.fields||[],T=null!=o.hasZ?o.hasZ:c.hasZ,R=c.geometryType,F=o.objectIdField||c.objectIdFieldName||"OBJECTID";let _=o.timeInfo;const k=g.find(u=>u.name===F);if(k)k.type="esriFieldTypeOID",k.editable=!1,k.nullable=!1;else{if(!c.objectIdFieldType)throw new P.Z("ogc-feature-layer:missing-feature-id","Collection geojson require a feature id as a unique identifier");g.unshift({name:F,alias:F,type:"esriFieldTypeOID",editable:!1,nullable:!1})}if(F!==c.objectIdFieldName){const u=g.find(M=>M.name===c.objectIdFieldName);u&&(u.type="esriFieldTypeInteger")}g===c.fields&&c.unknownFields.length>0&&J.warn({name:"ogc-feature-layer:unknown-field-types",message:"Some fields types couldn't be inferred from the features and were dropped",details:{unknownFields:c.unknownFields}});for(const u of g){if(null==u.name&&(u.name=u.alias),null==u.alias&&(u.alias=u.name),"esriFieldTypeOID"!==u.type&&"esriFieldTypeGlobalID"!==u.type&&(u.editable=null==u.editable||!!u.editable,u.nullable=null==u.nullable||!!u.nullable),!u.name)throw new P.Z("ogc-feature-layer:invalid-field-name","field name is missing",{field:u});if(-1===ae.v.jsonValues.indexOf(u.type))throw new P.Z("ogc-feature-layer:invalid-field-type",`invalid type for field "${u.name}"`,{field:u})}if(_){const u=new Z.Z(g);if(_.startTimeField){const M=u.get(_.startTimeField);M?(_.startTimeField=M.name,M.type="esriFieldTypeDate"):_.startTimeField=null}if(_.endTimeField){const M=u.get(_.endTimeField);M?(_.endTimeField=M.name,M.type="esriFieldTypeDate"):_.endTimeField=null}if(_.trackIdField){const M=u.get(_.trackIdField);M?_.trackIdField=M.name:(_.trackIdField=null,J.warn({name:"ogc-feature-layer:invalid-timeInfo-trackIdField",message:"trackIdField is missing",details:{timeInfo:_}}))}_.startTimeField||_.endTimeField||(J.warn({name:"ogc-feature-layer:invalid-timeInfo",message:"startTimeField and endTimeField are missing",details:{timeInfo:_}}),_=null)}return{drawingInfo:R?(0,$.bU)(R):null,geometryType:R,fields:g,hasZ:!!T,objectIdField:F,timeInfo:_}})).apply(this,arguments)}function ue(n){return X.apply(this,arguments)}function X(){return(X=(0,O.Z)(function*(n,o={}){const{links:i}=n,l=d(i,"data","application/json")||d(i,"http://www.opengis.net/def/rel/ogc/1.0/data","application/json");if((0,E.Wi)(l))throw new P.Z("ogc-feature-layer:missing-collections-page","Missing collections url");const{apiKey:f,customParameters:y,signal:m}=o,{data:c}=yield(0,D.default)(l.href,{signal:m,headers:{accept:"application/json"},query:A(w({},y),{token:f})});return c})).apply(this,arguments)}function re(n){return V.apply(this,arguments)}function V(){return(V=(0,O.Z)(function*(n,o={}){const{links:i}=n,l=d(i,"conformance","application/json")||d(i,"http://www.opengis.net/def/rel/ogc/1.0/conformance","application/json");if((0,E.Wi)(l))throw new P.Z("ogc-feature-layer:missing-conformance-page","Missing conformance url");const{apiKey:f,customParameters:y,signal:m}=o,{data:c}=yield(0,D.default)(l.href,{signal:m,headers:{accept:"application/json"},query:A(w({},y),{token:f})});return c})).apply(this,arguments)}function U(n){return z.apply(this,arguments)}function z(){return(z=(0,O.Z)(function*(n,o={}){const{apiKey:i,customParameters:l,signal:f}=o,{data:y}=yield(0,D.default)(n,{signal:f,headers:{accept:"application/json"},query:A(w({},l),{token:i})});return y})).apply(this,arguments)}function q(n){return ee.apply(this,arguments)}function ee(){return(ee=(0,O.Z)(function*(n,o={}){const i="application/vnd.oai.openapi+json;version=3.0",l=d(n.links,"service-desc",i);if((0,E.Wi)(l))return J.warn("ogc-feature-layer:missing-openapi-page","The OGC API-Features server does not have an OpenAPI page."),null;const{apiKey:f,customParameters:y,signal:m}=o,{data:c}=yield(0,D.default)(l.href,{signal:m,headers:{accept:i},query:A(w({},y),{token:f})});return c})).apply(this,arguments)}function ce(n){const o=/^http:\/\/www\.opengis.net\/def\/crs\/(?<authority>.*)\/(?<version>.*)\/(?<code>.*)$/i.exec(n),i=null==o?void 0:o.groups;if(!i)return null;const{authority:l,code:f}=i;switch(l.toLowerCase()){case"ogc":switch(f.toLowerCase()){case"crs27":return L.Z.GCS_NAD_1927.wkid;case"crs83":return 4269;case"crs84":case"crs84h":return L.Z.WGS84.wkid;default:return null}case"esri":case"epsg":{const y=Number.parseInt(f,10);return Number.isNaN(y)?null:y}default:return null}}function pe(n,o,i){return te.apply(this,arguments)}function te(){return(te=(0,O.Z)(function*(n,o,i){const l=yield e(n,o,i);return(0,I.cn)(l)})).apply(this,arguments)}function e(n,o,i){return t.apply(this,arguments)}function t(){return(t=(0,O.Z)(function*(n,o,i){const{capabilities:{query:{maxRecordCount:l}},collection:f,layerDefinition:y,queryParameters:{apiKey:m,customParameters:c},spatialReference:g,supportedCrs:T}=n,{links:R}=f,F=d(R,"items","application/geo+json")||d(R,"http://www.opengis.net/def/rel/ogc/1.0/items","application/geo+json");if((0,E.Wi)(F))throw new P.Z("ogc-feature-layer:missing-items-page","Missing items url");const{geometry:_,num:k,start:u,timeExtent:M,where:he}=o;if(o.objectIds)throw new P.Z("ogc-feature-layer:query-by-objectids-not-supported","Queries with objectids are not supported");const Ee=L.Z.fromJSON(g),Q=(0,E.Pt)(o.outSpatialReference,Ee),oe=Q.isWGS84?null:s(Q,T),Ie=G(_,T),Pe=v(M),Me=C(he),Oe=null!=k?k:null!=u&&void 0!==u?10:l,{data:B}=yield(0,D.default)(F.href,A(w({},i),{query:A(w(w({},c),Ie),{crs:oe,datetime:Pe,query:Me,limit:Oe,startindex:u,token:m}),headers:{accept:"application/geo+json"}}));let ie=!1;B.links&&(ie=!!B.links.find(se=>"next"===se.rel)),!ie&&Number.isInteger(B.numberMatched)&&Number.isInteger(B.numberReturned)&&(ie=B.numberReturned<B.numberMatched);const{fields:be,globalIdField:Te,hasM:je,hasZ:de,objectIdField:fe}=y,ye=y.geometryType,me=(0,W.lG)(B,{geometryType:ye,hasZ:de,objectIdField:fe});if(!oe&&Q.isWebMercator)for(const K of me)if((0,E.pC)(K.geometry)){const se=(0,I.di)(K.geometry,ye,de,!1);se.spatialReference=L.Z.WGS84,K.geometry=(0,I.GH)((0,N.iV)(se,Q))}for(const K of me)K.objectId=K.attributes[fe];const Fe=oe||!oe&&Q.isWebMercator?Q.toJSON():H.Zn,S=new b.Z;return S.exceededTransferLimit=ie,S.features=me,S.fields=be,S.geometryType=ye,S.globalIdFieldName=Te,S.hasM=je,S.hasZ=de,S.objectIdFieldName=fe,S.spatialReference=Fe,S})).apply(this,arguments)}function s(n,o){var i;const{isWebMercator:l,wkid:f}=n;return f?l?null!=(y=null!=(m=null!=(c=null!=(g=o[3857])?g:o[102100])?c:o[102113])?m:o[900913])?y:null:null!=(i=o[n.wkid])?i:null:null;var y,m,c,g}function p(n){if((0,E.Wi)(n))return"";const{xmin:o,ymin:i,xmax:l,ymax:f}=n;return`${o},${i},${l},${f}`}function v(n){if((0,E.Wi)(n))return null;const{start:o,end:i}=n;return`${(0,E.pC)(o)?o.toISOString():".."}/${(0,E.pC)(i)?i.toISOString():".."}`}function C(n){return(0,E.Wi)(n)||!n||"1=1"===n?null:n}function G(n,o){if(!function(n){return(0,E.pC)(n)&&"extent"===n.type}(n))return null;const{spatialReference:i}=n;if(!i||i.isWGS84)return{bbox:p(n)};const l=s(i,o);return l?{bbox:p(n),"bbox-crs":l}:i.isWebMercator?{bbox:p((0,N.iV)(n,L.Z.WGS84))}:null}function d(n,o,i){return n.find(l=>l.rel===o&&l.type===i)||n.find(l=>l.rel===o&&!l.type)}}}]);