"use strict";var vt=Object.defineProperty,Dt=Object.defineProperties,yt=Object.getOwnPropertyDescriptors,Et=Object.getOwnPropertySymbols,Ct=Object.prototype.hasOwnProperty,St=Object.prototype.propertyIsEnumerable,wt=(x,m,_)=>m in x?vt(x,m,{enumerable:!0,configurable:!0,writable:!0,value:_}):x[m]=_,ht=(x,m)=>{for(var _ in m||(m={}))Ct.call(m,_)&&wt(x,_,m[_]);if(Et)for(var _ of Et(m))St.call(m,_)&&wt(x,_,m[_]);return x},Ut=(x,m)=>Dt(x,yt(m));(self.webpackChunkdashboard=self.webpackChunkdashboard||[]).push([[3984],{20547:(x,m,_)=>{_.d(m,{mR:()=>Mt,C$:()=>$,e2:()=>dt,wO:()=>et,Mk:()=>rt,cM:()=>It,Z_:()=>ct,ws:()=>mt,xV:()=>q,UK:()=>Lt,Yw:()=>it,$_:()=>z,nU:()=>tt,$K:()=>Q,hj:()=>ft,Y8:()=>W});var I=_(22795),w=_(33870),f=(_(22791),_(22806),_(38963)),O=_(16266);class T{constructor(){this.color=[0,0,0,0],this.haloColor=[0,0,0,0],this.haloSize=0,this.size=12,this.angle=0,this.offsetX=0,this.offsetY=0,this.hAnchor=0,this.vAnchor=0}acquire(p,L,E,D,R,S,ut,y,b){this.color=p,this.haloColor=L,this.haloSize=E,this.size=D,this.angle=R,this.offsetX=S,this.offsetY=ut,this.hAnchor=y,this.vAnchor=b}release(){this.color[0]=this.color[1]=this.color[2]=this.color[3]=0,this.haloColor[0]=this.haloColor[1]=this.haloColor[2]=this.haloColor[3]=0,this.haloSize=0,this.size=0,this.angle=0,this.offsetX=0,this.offsetY=0,this.hAnchor=0,this.vAnchor=0}}T.pool=new O.Z(T),_(13006);const N=w.Z.getLogger("esri.views.2d.engine.webgl.Utils"),t="geometry",h=[{name:t,strideInBytes:36,divisor:0}],P=[{name:t,strideInBytes:12,divisor:0}],v=[{name:t,strideInBytes:40,divisor:0}],l=[{name:t,strideInBytes:36,divisor:0}],d=[{name:t,strideInBytes:36,divisor:0}];function U(s){const p={};for(const L of s)p[L.name]=L.strideInBytes;return p}const C=U([{name:t,strideInBytes:36,divisor:0}]),F=U(h),X=U(P),_t=U(v),H=U(l),Z=U(d);function z(s,p){switch(s){case f.LW.MARKER:return C;case f.LW.FILL:return p?X:F;case f.LW.LINE:return _t;case f.LW.TEXT:return H;case f.LW.LABEL:return Z}}const K=[t],Y=[t],V=[t],k=[t],j=[t];function J(s){switch(s){case f.LW.MARKER:return K;case f.LW.FILL:return Y;case f.LW.LINE:return V;case f.LW.TEXT:return k;case f.LW.LABEL:return j}}function W(s){switch(s%4){case 0:case 2:return 4;case 1:case 3:return 1}}function $(s,p){switch(p%4){case 0:case 2:return new Uint32Array(Math.floor(s*p/4));case 1:case 3:return new Uint8Array(s*p)}}function dt(s,p){switch(p%4){case 0:case 2:return new Uint32Array(s);case 1:case 3:return new Uint8Array(s)}}function Q(s){return null!=s}function ft(s){return"number"==typeof s}function mt(s){switch(s){case"butt":return 0;case"round":return 1;case"square":return 2;default:return N.error(new I.Z("mapview-invalid-type",`Cap type ${s} is not a valid option. Defaulting to round`)),1}}function q(s){switch(s){case"miter":return 2;case"bevel":return 0;case"round":return 1;default:return N.error(new I.Z("mapview-invalid-type",`Join type ${s} is not a valid option. Defaulting to round`)),1}}function tt(s){switch(s){case"opacity":return f.pc.OPACITY;case"color":return f.pc.COLOR;case"rotation":return f.pc.ROTATION;case"size":return f.pc.SIZE;default:return N.error(`Cannot interpret unknown vv: ${s}`),null}}function et(s,p,L,E,D,R,S){for(const y in R){const b=R[y].stride,lt=W(b),xt=R[y].data,Ot=L[y].data,Pt=b*D.vertexCount/lt,Rt=b*s/lt,Nt=b*D.vertexFrom/lt;for(let G=0;G<Pt;++G)Ot[G+Rt]=xt[G+Nt]}const ut=D.indexCount;for(let y=0;y<ut;++y)E[y+p]=S[y+D.indexFrom]-D.vertexFrom+s}const Mt={[t]:35044};function rt(s,p){const L=[];for(let E=0;E<5;++E){const D=J(E),R={};for(const S of D)R[S]={data:p(E,S)};L.push({data:s(E),buffers:R})}return L}function nt(s){switch(s){case 5120:case 5121:return 1;case 5122:case 5123:return 2;case 5126:case 5124:case 5125:return 4}}function it(s){switch(s){case 5121:return 1;case 32819:return 2;case 5126:return 4;default:return void N.error(new I.Z("webgl-utils",`Unable to handle type ${s}`))}}function Lt(s){switch(s){case 5121:return Uint8Array;case 32819:return Uint16Array;case 5126:return Float32Array;default:return void N.error(new I.Z("webgl-utils",`Unable to handle type ${s}`))}}const at=s=>{const p=new Map;for(const L in s)for(const E of s[L])p.set(E.name,E.location);return p},st=s=>{const p={};for(const L in s){const E=s[L];p[L]=E.length?E[0].stride:0}return p},B=new Map,It=(s,p)=>{if(!B.has(s)){const L=function(s){const p={};for(const L in s){let D=0;p[L]=s[L].map(R=>{const S=Ut(ht({},R),{normalized:R.normalized||!1,divisor:R.divisor||0,offset:D,stride:0});return D+=R.count*nt(R.type),S}),p[L].forEach(R=>R.stride=D)}return p}(p),E={strides:st(L),bufferLayouts:L,attributes:at(p)};B.set(s,E)}return B.get(s)};function ct(s){s(f.LW.FILL),s(f.LW.LINE),s(f.LW.MARKER),s(f.LW.TEXT),s(f.LW.LABEL)}},22806:(x,m,_)=>{_.d(m,{pr:()=>f,t2:()=>i,aH:()=>N});var I=_(1452);function f(t,e=0,u=!1){const A=t[e+3];return t[e+0]*=A,t[e+1]*=A,t[e+2]*=A,u||(t[e+3]*=255),t}function i(t){if(!t)return 0;const{r:e,g:u,b:A,a:h}=t;return(0,I.Jz)(e*h,u*h,A*h,255*h)}function N(t){if(!t)return 0;const[e,u,A,h]=t;return(0,I.Jz)(e*(h/255),u*(h/255),A*(h/255),h)}},99155:(x,m,_)=>{_.d(m,{xl:()=>pt,aK:()=>Q,eF:()=>X,XJ:()=>at,$0:()=>e,iV:()=>et,Zd:()=>Tt,uG:()=>tt,Jc:()=>gt,xm:()=>u,m4:()=>q,MI:()=>ct,AI:()=>g,Ip:()=>st,ru:()=>f,fL:()=>ot,iJ:()=>K,nM:()=>Y,Ij:()=>V,f2:()=>k,Ic:()=>z,Al:()=>Z,QU:()=>j,Jw:()=>J,kF:()=>W,yP:()=>$,D3:()=>H,Iw:()=>F,tQ:()=>rt,I_:()=>O,a:()=>it,CU:()=>nt,V4:()=>At});const g=1e-30,f=4294967295,O=512,e=8,u=29,F=8,X={metrics:{width:15,height:17,left:0,top:-7,advance:14}},H=0,Z=0,z=0,K=1,Y=2,V=3,k=4,j=5,J=6,W=5,$=6,pt=1,Q=2,q=2,tt=1,Tt=2,et=4,rt=1.05,gt=6,At=5,nt=6,it=1.15,ot=2,at=8,st=500,ct=10},38963:(x,m,_)=>{var I,w,g,M,f,O,T,i;_.d(m,{Un:()=>T,pc:()=>M,jx:()=>g,LW:()=>I,X:()=>f,mf:()=>O}),(i=I||(I={}))[i.FILL=0]="FILL",i[i.LINE=1]="LINE",i[i.MARKER=2]="MARKER",i[i.TEXT=3]="TEXT",i[i.LABEL=4]="LABEL",function(i){i[i.SUCCEEDED=0]="SUCCEEDED",i[i.FAILED_OUT_OF_MEMORY=1]="FAILED_OUT_OF_MEMORY"}(w||(w={})),function(i){i[i.NONE=0]="NONE",i[i.MAP=1]="MAP",i[i.LABEL=2]="LABEL",i[i.LABEL_ALPHA=4]="LABEL_ALPHA",i[i.HITTEST=8]="HITTEST",i[i.HIGHLIGHT=16]="HIGHLIGHT",i[i.CLIP=32]="CLIP",i[i.DEBUG=64]="DEBUG",i[i.NUM_DRAW_PHASES=9]="NUM_DRAW_PHASES"}(g||(g={})),function(i){i[i.SIZE=0]="SIZE",i[i.COLOR=1]="COLOR",i[i.OPACITY=2]="OPACITY",i[i.ROTATION=3]="ROTATION"}(M||(M={})),function(i){i[i.NONE=0]="NONE",i[i.OPACITY=1]="OPACITY",i[i.COLOR=2]="COLOR",i[i.ROTATION=4]="ROTATION",i[i.SIZE_MINMAX_VALUE=8]="SIZE_MINMAX_VALUE",i[i.SIZE_SCALE_STOPS=16]="SIZE_SCALE_STOPS",i[i.SIZE_FIELD_STOPS=32]="SIZE_FIELD_STOPS",i[i.SIZE_UNIT_VALUE=64]="SIZE_UNIT_VALUE"}(f||(f={})),function(i){i[i.MINMAX_TARGETS_OUTLINE=128]="MINMAX_TARGETS_OUTLINE",i[i.SCALE_TARGETS_OUTLINE=256]="SCALE_TARGETS_OUTLINE",i[i.FIELD_TARGETS_OUTLINE=512]="FIELD_TARGETS_OUTLINE",i[i.UNIT_TARGETS_OUTLINE=1024]="UNIT_TARGETS_OUTLINE"}(O||(O={})),function(i){i[i.SPRITE=0]="SPRITE",i[i.GLYPH=1]="GLYPH"}(T||(T={}))},1452:(x,m,_)=>{_.d(m,{UJ:()=>A,Jz:()=>h,Au:()=>u});const I=new Float32Array(1);function u(l){return[255&l,(65280&l)>>>8,(16711680&l)>>>16,(4278190080&l)>>>24]}function A(l,d){return 65535&l|d<<16}function h(l,d,U,C){return 255&l|(255&d)<<8|(255&U)<<16|C<<24}new Uint32Array(I.buffer)},13006:(x,m,_)=>{_.d(m,{Z:()=>T});var I=_(22791),w=_(60305),g=_(36320),M=_(40150),f=_(70517);class T{constructor(t,e,u=null){this._context=t,this.type="texture",this._glName=null,this._descriptor=void 0,this._samplingModeDirty=!1,this._wrapModeDirty=!1,t.instanceCounter.increment(M._g.Texture,this),this._descriptor=ht({target:3553,samplingMode:9729,wrapMode:10497,flipped:!1,hasMipmap:!1,isOpaque:!1,unpackAlignment:4,preMultiplyAlpha:!1},e),34067===this._descriptor.target?this.setDataCubeMap(u):this.setData(u)}get glName(){return this._glName}get descriptor(){return this._descriptor}dispose(){this._context.gl&&this._glName&&(this._context.unbindTextureAllUnits(this),this._context.gl.deleteTexture(this._glName),this._glName=null,this._context.instanceCounter.decrement(M._g.Texture,this))}release(){this.dispose()}resize(t,e){const u=this._descriptor;u.width===t&&u.height===e||(u.width=t,u.height=e,34067===this._descriptor.target?this.setDataCubeMap(null):this.setData(null))}setDataCubeMap(t=null){for(let e=34069;e<=34074;e++)this.setData(t,e)}setData(t,e=3553){if(!this._context||!this._context.gl)return;const u=this._context.gl;this._glName||(this._glName=u.createTexture()),void 0===t&&(t=null),null===t&&(this._descriptor.width=this._descriptor.width||4,this._descriptor.height=this._descriptor.height||4);const A=this._context.bindTexture(this,T.TEXTURE_UNIT_FOR_UPDATES),h=this._descriptor;T._validateTexture(this._context,h),u.pixelStorei(u.UNPACK_ALIGNMENT,h.unpackAlignment),u.pixelStorei(u.UNPACK_FLIP_Y_WEBGL,h.flipped?1:0),u.pixelStorei(u.UNPACK_PREMULTIPLY_ALPHA_WEBGL,h.preMultiplyAlpha?1:0);const P=h.pixelFormat;let v=h.internalFormat?h.internalFormat:this._deriveInternalFormat(P,h.dataType);if(t instanceof ImageData||t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement){let l=t.width,d=t.height;t instanceof HTMLVideoElement&&(l=t.videoWidth,d=t.videoHeight),u.texImage2D(e,0,v,P,h.dataType,t),(0,g.zu)(u),h.hasMipmap&&this.generateMipmap(),void 0===h.width&&(h.width=l),void 0===h.height&&(h.height=d)}else{null!=h.width&&null!=h.height||console.error("Width and height must be specified!"),u.DEPTH24_STENCIL8&&v===u.DEPTH_STENCIL&&(v=u.DEPTH24_STENCIL8);let l=h.width,d=h.height;if((0,w.pC)(N=t)&&"type"in N&&"compressed"===N.type){const U=Math.round(Math.log(Math.max(l,d))/Math.LN2)+1;h.hasMipmap=h.hasMipmap&&U===t.levels.length;for(let C=0;;++C){const F=t.levels[Math.min(C,t.levels.length-1)];if(u.compressedTexImage2D(e,C,v,l,d,0,F),1===l&&1===d||!h.hasMipmap)break;l=Math.max(1,l>>1),d=Math.max(1,d>>1)}}else if((0,w.pC)(t))u.texImage2D(e,0,v,l,d,0,P,h.dataType,t),(0,g.zu)(u),h.hasMipmap&&this.generateMipmap();else for(let U=0;u.texImage2D(e,U,v,l,d,0,P,h.dataType,null),(0,g.zu)(u),(1!==l||1!==d)&&h.hasMipmap;++U)l=Math.max(1,l>>1),d=Math.max(1,d>>1)}var N;T._applySamplingMode(u,this._descriptor),T._applyWrapMode(u,this._descriptor),T._applyAnisotropicFilteringParameters(this._context,this._descriptor),(0,g.zu)(u),this._context.bindTexture(A,T.TEXTURE_UNIT_FOR_UPDATES)}updateData(t,e,u,A,h,P,v=3553){P||console.error("An attempt to use uninitialized data!"),this._glName||console.error("An attempt to update uninitialized texture!");const l=this._context.gl,d=this._descriptor,U=this._context.bindTexture(this,T.TEXTURE_UNIT_FOR_UPDATES);(e<0||u<0||A>d.width||h>d.height||e+A>d.width||u+h>d.height)&&console.error("An attempt to update out of bounds of the texture!"),l.pixelStorei(l.UNPACK_ALIGNMENT,d.unpackAlignment),l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,d.flipped?1:0),l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,d.preMultiplyAlpha?1:0),P instanceof ImageData||P instanceof HTMLImageElement||P instanceof HTMLCanvasElement||P instanceof HTMLVideoElement?l.texSubImage2D(v,t,e,u,d.pixelFormat,d.dataType,P):l.texSubImage2D(v,t,e,u,A,h,d.pixelFormat,d.dataType,P),this._context.bindTexture(U,T.TEXTURE_UNIT_FOR_UPDATES)}generateMipmap(){const t=this._descriptor;t.hasMipmap||(t.hasMipmap=!0,this._samplingModeDirty=!0,T._validateTexture(this._context,t)),9729===t.samplingMode?(this._samplingModeDirty=!0,t.samplingMode=9985):9728===t.samplingMode&&(this._samplingModeDirty=!0,t.samplingMode=9984);const e=this._context.bindTexture(this,T.TEXTURE_UNIT_FOR_UPDATES);this._context.gl.generateMipmap(t.target),this._context.bindTexture(e,T.TEXTURE_UNIT_FOR_UPDATES)}setSamplingMode(t){t!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=t,this._samplingModeDirty=!0)}setWrapMode(t){t!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=t,T._validateTexture(this._context,this._descriptor),this._wrapModeDirty=!0)}applyChanges(){const t=this._context.gl,e=this._descriptor;this._samplingModeDirty&&(T._applySamplingMode(t,e),this._samplingModeDirty=!1),this._wrapModeDirty&&(T._applyWrapMode(t,e),this._wrapModeDirty=!1)}_deriveInternalFormat(t,e){if("webgl"===this._context.webglVersion)return t;if(5126===e)switch(t){case 6408:return 34836;case 6407:return 34837;default:throw new Error("Unable to derive format")}return t}static _validateTexture(t,e){(e.width<0||e.height<0)&&console.error("Negative dimension parameters are not allowed!");const u=(0,I.wt)(e.width)&&(0,I.wt)(e.height);(0,f.Z)(t.gl)||u||("number"==typeof e.wrapMode?33071!==e.wrapMode&&console.error("Non-power-of-two textures must have a wrap mode of CLAMP_TO_EDGE!"):33071===e.wrapMode.s&&33071===e.wrapMode.t||console.error("Non-power-of-two textures must have a wrap mode of CLAMP_TO_EDGE!"),e.hasMipmap&&console.error("Mipmapping requires power-of-two textures!"))}static _applySamplingMode(t,e){let u=e.samplingMode,A=e.samplingMode;9985===u||9987===u?(u=9729,e.hasMipmap||(A=9729)):9984!==u&&9986!==u||(u=9728,e.hasMipmap||(A=9728)),t.texParameteri(e.target,t.TEXTURE_MAG_FILTER,u),t.texParameteri(e.target,t.TEXTURE_MIN_FILTER,A)}static _applyWrapMode(t,e){"number"==typeof e.wrapMode?(t.texParameteri(e.target,t.TEXTURE_WRAP_S,e.wrapMode),t.texParameteri(e.target,t.TEXTURE_WRAP_T,e.wrapMode)):(t.texParameteri(e.target,t.TEXTURE_WRAP_S,e.wrapMode.s),t.texParameteri(e.target,t.TEXTURE_WRAP_T,e.wrapMode.t))}static _applyAnisotropicFilteringParameters(t,e){var u;const A=t.capabilities.textureFilterAnisotropic;!A||t.gl.texParameterf(e.target,A.TEXTURE_MAX_ANISOTROPY,null!=(u=e.maxAnisotropy)?u:1)}}T.TEXTURE_UNIT_FOR_UPDATES=0},70517:(x,m,_)=>{function I(w){return window.WebGL2RenderingContext&&w instanceof window.WebGL2RenderingContext}_.d(m,{Z:()=>I})},36320:(x,m,_)=>{_.d(m,{zu:()=>N,hZ:()=>T,CG:()=>i});var I=_(22795),w=_(67474);const M=_(33870).Z.getLogger("esri/views/webgl"),O=!!(0,w.Z)("enable-feature:webgl-debug");function T(){return O}function i(){return O}function N(t){if(T()){const e=t.getError();if(e){const u=function(t,e){switch(e){case t.INVALID_ENUM:return"Invalid Enum. An unacceptable value has been specified for an enumerated argument.";case t.INVALID_VALUE:return"Invalid Value. A numeric argument is out of range.";case t.INVALID_OPERATION:return"Invalid Operation. The specified command is not allowed for the current state.";case t.INVALID_FRAMEBUFFER_OPERATION:return"Invalid Framebuffer operation. The currently bound framebuffer is not framebuffer complete when trying to render to or to read from it.";case t.OUT_OF_MEMORY:return"Out of memory. Not enough memory is left to execute the command.";case t.CONTEXT_LOST_WEBGL:return"WebGL context has been lost";default:return"Unknown error"}}(t,e),A=(new Error).stack;M.error(new I.Z("webgl-error","WebGL error occured",{message:u,stack:A}))}}}},40150:(x,m,_)=>{_.d(m,{Ld:()=>I,Lu:()=>g,_g:()=>w});const I=33984;var w,M;(M=w||(w={}))[M.Texture=0]="Texture",M[M.Buffer=1]="Buffer",M[M.VAO=2]="VAO",M[M.Program=3]="Program",M[M.Framebuffer=4]="Framebuffer",M[M.Renderbuffer=5]="Renderbuffer",M[M.COUNT=6]="COUNT";const g=33306}}]);