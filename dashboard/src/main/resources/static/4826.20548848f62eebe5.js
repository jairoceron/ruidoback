"use strict";var q=Object.defineProperty,_=Object.defineProperties,rr=Object.getOwnPropertyDescriptors,N=Object.getOwnPropertySymbols,tr=Object.prototype.hasOwnProperty,er=Object.prototype.propertyIsEnumerable,T=(o,a,r)=>a in o?q(o,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[a]=r,h=(o,a)=>{for(var r in a||(a={}))tr.call(a,r)&&T(o,r,a[r]);if(N)for(var r of N(a))er.call(a,r)&&T(o,r,a[r]);return o},Z=(o,a)=>_(o,rr(a));(self.webpackChunkdashboard=self.webpackChunkdashboard||[]).push([[4826],{94826:(o,a,r)=>{r.r(a),r.d(a,{default:()=>$});var s=r(60046),l=r(9077),P=(r(67474),r(57025),r(33870),r(42442)),b=r(61921),j=r(40662),J=r(62855),O=r(62354),u=r(27569),x=r(38953),R=(r(73513),r(83459)),I=r(54792),E=r(60305),d=r(67424),G=r(56703),M=r(23878),U=r(51201),z=r(91619),C=r(27640),D=r(27876),K=r(70393);function v(e){return U.default.fromJSON(e).features.map(t=>t.geometry)}let i=class extends I.wq{constructor(e){super(e),this.directions=null,this.facilities=null,this.incidents=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.routes=null}readFacilities(e){return v(e)}readIncidents(e){return v(e)}readPointBarriers(e,t){return v(t.barriers)}readPolylineBarriers(e){return v(e)}readPolygonBarriers(e){return v(e)}readRoutes(e){return function(e){return e.features.map(t=>{const m=G.Z.fromJSON(e.spatialReference),y=R.Z.fromJSON(t);return(0,E.pC)(y.geometry)&&(y.geometry.spatialReference=m),y})}(e)}};(0,s._)([(0,l.Cb)({type:[M.Z]})],i.prototype,"directions",void 0),(0,s._)([(0,l.Cb)({type:[C.Z]})],i.prototype,"facilities",void 0),(0,s._)([(0,d.r)("facilities")],i.prototype,"readFacilities",null),(0,s._)([(0,l.Cb)({type:[C.Z]})],i.prototype,"incidents",void 0),(0,s._)([(0,d.r)("incidents")],i.prototype,"readIncidents",null),(0,s._)([(0,l.Cb)({type:[z.Z]})],i.prototype,"messages",void 0),(0,s._)([(0,l.Cb)({type:[C.Z]})],i.prototype,"pointBarriers",void 0),(0,s._)([(0,d.r)("pointBarriers",["barriers"])],i.prototype,"readPointBarriers",null),(0,s._)([(0,l.Cb)({type:[D.Z]})],i.prototype,"polylineBarriers",void 0),(0,s._)([(0,d.r)("polylineBarriers")],i.prototype,"readPolylineBarriers",null),(0,s._)([(0,l.Cb)({type:[K.Z]})],i.prototype,"polygonBarriers",void 0),(0,s._)([(0,d.r)("polygonBarriers")],i.prototype,"readPolygonBarriers",null),(0,s._)([(0,l.Cb)({type:[R.Z]})],i.prototype,"routes",void 0),(0,s._)([(0,d.r)("routes")],i.prototype,"readRoutes",null),i=(0,s._)([(0,P.j)("esri.rest.support.ClosestFacilitySolveResult")],i);var Q=i;const V=(0,J.E)({accumulateAttributes:{name:"accumulateAttributeNames"},attributeParameterValues:!0,directionsTimeAttribute:{name:"directionsTimeAttributeName"},impedanceAttribute:{name:"impedanceAttributeName"},facilities:!0,incidents:!0,outSpatialReference:{name:"outSR",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:"barriers"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:"restrictionAttributeNames"},returnPointBarriers:{name:"returnBarriers"},returnRoutes:{name:"returnCFRoutes"},travelMode:!0});function S(){return(S=(0,b.Z)(function*(e,t,m){const y=[],f=[],p={},c={},A=(0,x.en)(e),{path:F}=A;t.incidents&&t.incidents.features&&(0,u.et)(t.incidents.features,f,"incidents.features",p),t.facilities&&t.facilities.features&&(0,u.et)(t.facilities.features,f,"facilities.features",p),t.pointBarriers&&t.pointBarriers.features&&(0,u.et)(t.pointBarriers.features,f,"pointBarriers.features",p),t.polylineBarriers&&t.polylineBarriers.features&&(0,u.et)(t.polylineBarriers.features,f,"polylineBarriers.features",p),t.polygonBarriers&&t.polygonBarriers.features&&(0,u.et)(t.polygonBarriers.features,f,"polygonBarriers.features",p);const H=yield(0,O.aX)(f);for(const n in p){const B=p[n];y.push(n),c[n]=H.slice(B[0],B[1])}if((0,u.Wf)(c,y)){let n=null;try{n=yield(0,u.bI)(F,t.apiKey,m)}catch(B){}n&&!n.hasZ&&(0,u.ef)(c,y)}for(const n in c)c[n].forEach((B,w)=>{t.get(n)[w].geometry=B});const Y=Z(h({},m),{query:Z(h(h({},A.query),V.toQueryParams(t)),{f:"json"})}),{data:k}=yield(0,j.default)(`${F}/solveClosestFacility`,Y);return Q.fromJSON(k)})).apply(this,arguments)}var X=r(72528);let g=class extends X.Z{constructor(e){super(e),this.url=null}solve(e,t){return function(e,t,m){return S.apply(this,arguments)}(this.url,e,t)}};(0,s._)([(0,l.Cb)()],g.prototype,"url",void 0),g=(0,s._)([(0,P.j)("esri.tasks.ClosestFacilityTask")],g);var $=g}}]);