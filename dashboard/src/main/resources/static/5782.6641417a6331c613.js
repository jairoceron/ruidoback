"use strict";(self.webpackChunkdashboard=self.webpackChunkdashboard||[]).push([[5782],{21276:(ue,G,w)=>{w.d(G,{ym:()=>g,RF:()=>l,vY:()=>$,J9:()=>c,U1:()=>d,Ie:()=>u,G6:()=>M});var T=w(60305),I=w(52917);const H=(t,e,i)=>[e,i],b=(t,e,i)=>[e,i,t[2]],R=(t,e,i)=>[e,i,t[2],t[3]];function $(t){return t?{originPosition:"upper-left"===t.originPosition?"upperLeft":"lower-left"===t.originPosition?"lowerLeft":t.originPosition,scale:t.tolerance?[t.tolerance,t.tolerance]:[1,1],translate:t.extent?[t.extent.xmin,t.extent.ymax]:[0,0]}:null}function D({scale:t,translate:e},i){return Math.round((i-e[0])/t[0])}function A({scale:t,translate:e},i){return Math.round((e[1]-i)/t[1])}function U(t,e,i){const r=[];let s,y,p,x;for(let P=0;P<i.length;P++){const z=i[P];P>0?(p=D(t,z[0]),x=A(t,z[1]),p===s&&x===y||(r.push(e(z,p-s,x-y)),s=p,y=x)):(s=D(t,z[0]),y=A(t,z[1]),r.push(e(z,s,y)))}return r.length>0?r:null}function k({scale:t,translate:e},i){return i*t[0]+e[0]}function F({scale:t,translate:e},i){return e[1]-i*t[1]}function O(t,e,i){const r=new Array(i.length);if(!i.length)return r;const[s,y]=t.scale;let p=k(t,i[0][0]),x=F(t,i[0][1]);r[0]=e(i[0],p,x);for(let P=1;P<i.length;P++){const z=i[P];p+=z[0]*s,x-=z[1]*y,r[P]=e(z,p,x)}return r}function X(t,e,i){const r=new Array(i.length);for(let s=0;s<i.length;s++)r[s]=O(t,e,i[s]);return r}function l(t,e,i,r,s){return e.x=D(t,i.x),e.y=A(t,i.y),e!==i&&(r&&(e.z=i.z),s&&(e.m=i.m)),e}function g(t,e){return t&&e?(0,I.wp)(e)?l(t,{},e,!1,!1):(0,I.l9)(e)?function(t,e,i,r,s){const y=function(t,e,i,r){const s=[],y=i?r?R:b:r?b:H;for(let p=0;p<e.length;p++){const x=U(t,y,e[p]);x&&x.length>=2&&s.push(x)}return s.length?s:null}(t,i.paths,r,s);return y?(e.paths=y,e):null}(t,{},e,!1,!1):(0,I.oU)(e)?function(t,e,i,r,s){const y=function(t,e,i,r){const s=[],y=i?r?R:b:r?b:H;for(let p=0;p<e.length;p++){const x=U(t,y,e[p]);x&&x.length>=3&&s.push(x)}return s.length?s:null}(t,i.rings,r,s);return y?(e.rings=y,e):null}(t,{},e,!1,!1):(0,I.aW)(e)?function(t,e,i,r,s){return e.points=function(t,e,i,r){return U(t,i?r?R:b:r?b:H,e)}(t,i.points,r,s),e}(t,{},e,!1,!1):(0,I.YX)(e)?function(t,e,i,r,s){return e.xmin=D(t,i.xmin),e.ymin=A(t,i.ymin),e.xmax=D(t,i.xmax),e.ymax=A(t,i.ymax),e}(t,{},e):null:null}function c(t,e,i,r,s){return(0,T.pC)(i)&&(e.points=function(t,e,i,r){return O(t,i?r?R:b:r?b:H,e)}(t,i.points,r,s)),e}function d(t,e,i,r,s){return(0,T.Wi)(i)||(e.x=k(t,i.x),e.y=F(t,i.y),e!==i&&(r&&(e.z=i.z),s&&(e.m=i.m))),e}function u(t,e,i,r,s){return(0,T.pC)(i)&&(e.rings=function(t,e,i,r){return X(t,i?r?R:b:r?b:H,e)}(t,i.rings,r,s)),e}function M(t,e,i,r,s){return(0,T.pC)(i)&&(e.paths=function(t,e,i,r){return X(t,i?r?R:b:r?b:H,e)}(t,i.paths,r,s)),e}},41272:(ue,G,w)=>{w.r(G),w.d(G,{previewCIMSymbol:()=>ie});var T=w(61921),I=w(12788),V=w(40662),H=w(12523),b=w(9171),R=w(52917),$=w(47475),q=w(72459);class U{constructor(){}rasterizeText(a,n){this._textRasterizationCanvas||(this._textRasterizationCanvas=document.createElement("canvas"));const l=this._textRasterizationCanvas,o=l.getContext("2d");this.setFontProperties(o,n),this.parameters=n,this.textLines=a.split(/\r?\n/),this.lineHeight=this.computeLineHeight();const h=this.computeTextWidth(o,n),g=this.lineHeight*this.textLines.length;var f;l.width=h,l.height=g,this.renderedLineHeight=Math.round(this.lineHeight*n.pixelRatio),this.renderedHaloSize=n.halo.size*n.pixelRatio,this.renderedWidth=h*n.pixelRatio,this.renderedHeight=g*n.pixelRatio,this.fillStyle=`rgba(${(f=n.color).slice(0,3).toString()},${f[3]})`,this.haloStyle=function(f){return`rgb(${f.slice(0,3).toString()})`}(n.halo.color);const m=this.renderedLineHeight,c=this.renderedHaloSize;this.setFontProperties(o,n);const d=function(f,a){return"center"===f?.5*a:"right"===f?a:0}(o.textAlign,this.renderedWidth)+c,u=c;let M=0,t=0;c>0&&this.renderHalo(o,d,u,M,t,n),t+=u,M+=d;for(const r of this.textLines)o.globalCompositeOperation="destination-out",o.fillStyle="rgb(0, 0, 0)",o.fillText(r,M,t),o.globalCompositeOperation="source-over",o.fillStyle=this.fillStyle,o.fillText(r,M,t),t+=m;const e=o.getImageData(0,0,this.renderedWidth,this.renderedHeight),i=new Uint8Array(e.data);if(n.premultiplyColors){let r;for(let s=0;s<i.length;s+=4)r=i[s+3]/255,i[s]=i[s]*r,i[s+1]=i[s+1]*r,i[s+2]=i[s+2]*r}return{size:[this.renderedWidth,this.renderedHeight],image:new Uint32Array(i.buffer),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0}}renderHalo(a,n,l,o,h,g){const m=this.renderedWidth,c=this.renderedHeight;this._haloRasterizationCanvas||(this._haloRasterizationCanvas=document.createElement("canvas")),this._haloRasterizationCanvas.width=m,this._haloRasterizationCanvas.height=c;const d=this._haloRasterizationCanvas,u=d.getContext("2d");u.clearRect(0,0,m,c),this.setFontProperties(u,g),u.fillStyle=this.haloStyle,u.strokeStyle=this.haloStyle;const M=this.renderedHaloSize<3;u.lineJoin=M?"miter":"round",M?this.renderHaloEmulated(u,n,l):this.renderHaloNative(u,n,l),a.globalAlpha=this.parameters.halo.color[3],a.drawImage(d,0,0,m,c,o,h,m,c),a.globalAlpha=1}renderHaloEmulated(a,n,l){const o=this.renderedLineHeight,h=this.renderedHaloSize;for(const g of this.textLines){for(const[m,c]of J)a.fillText(g,n+h*m,l+h*c);l+=o}}renderHaloNative(a,n,l){const o=this.renderedLineHeight,h=this.renderedHaloSize;for(const g of this.textLines){const m=2*h,c=5,d=.1;for(let u=0;u<c;u++)a.lineWidth=(1-(c-1)*d+u*d)*m,a.strokeText(g,n,l);l+=o}}setFontProperties(a,n){const l=n.font,o=`${l.style} ${l.weight} ${(0,I.F2)(n.size*n.pixelRatio)}px ${l.family}, sans-serif`;let h;switch(a.font=o,a.textBaseline="top",n.horizontalAlignment){default:h="left";break;case"right":h="right";break;case"center":h="center"}a.textAlign=h}computeTextWidth(a,n){let l=0;for(const h of this.textLines)l=Math.max(l,a.measureText(h).width);const o=n.font;return("italic"===o.style||"oblique"===o.style||"string"==typeof o.weight&&("bold"===o.weight||"bolder"===o.weight)||"number"==typeof o.weight&&o.weight>600)&&(l+=.3*a.measureText("A").width),l+=2*this.parameters.halo.size,Math.round(l)}computeLineHeight(){return Math.round(1.275*this.parameters.size+2*this.parameters.halo.size)}}const J=[];{const f=16;for(let a=0;a<360;a+=360/f)J.push([Math.cos(Math.PI*a/180),Math.sin(Math.PI*a/180)])}var F,f,C=w(60194),W=w(85628),k=w(26093);(f=F||(F={})).Legend="legend",f.Preview="preview";const O=(f,a,n)=>{if(f&&f.targetSize){let l;if(n){const o=Math.max(n.frame.xmax-n.frame.xmin,n.frame.ymax-n.frame.ymin);l=f.targetSize/(0,I.F2)(o)}else l=f.targetSize/a.referenceSize;return l}return f&&f.scaleFactor?f.scaleFactor:1},X={fill:{legend:{frame:{xmax:15,xmin:0,ymax:15,ymin:0},geometry:{rings:[[[0,15],[15,7.5],[15,0],[0,0],[0,15]]]},canvasPaths:{rings:[[[0,15],[0,0],[15,7.5],[15,15],[0,15]]]}},preview:{frame:{xmax:100,xmin:0,ymax:100,ymin:0},geometry:{rings:[[[0,100],[100,100],[100,0],[0,0],[0,100]]]},canvasPaths:{rings:[[[0,100],[0,0],[100,0],[100,100],[0,100]]]}}},stroke:{legend:{frame:{xmax:24,xmin:0,ymax:-2,ymin:2},geometry:{paths:[[[0,0],[12,0],[24,0]]]},canvasPaths:{paths:[[[0,2],[12,2],[24,2]]]}},preview:{frame:{xmax:100,xmin:0,ymax:-2,ymin:2},geometry:{paths:[[[0,0],[50,0],[100,0]]]},canvasPaths:{paths:[[[0,2],[50,2],[100,2]]]}}}};function L(f,a,n,l){let o,h;return"function"==typeof f.materialHash?(o=(0,f.materialHash)(a,n,l),h=(0,$.S)(f.cim,f.materialOverrides)):(o=f.materialHash,h=f.cim),{analyzedCIM:h,hash:o}}const j=new class{constructor(a,n){this._spatialReference=a,this._avoidSDF=n,this._resourceCache=new Map,this._rasterizer=new q.Z,this._textRasterizer=new U,this._pictureMarkerCache=new Map}rasterizeCIMSymbolAsync(a,n,l,o,h,g,m,c){var d=this;return(0,T.Z)(function*(){o=o||(n?null!=n.centroid?"esriGeometryPolygon":(0,R.Ji)(n.geometry):null)||function(f){if(!(f&&f.data&&f.data.symbol))return null;switch(f.data.symbol.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}(a);const u=yield d.analyzeCIMSymbol(a,n?function(f){return(f?Object.keys(f):[]).map(a=>({name:a,alias:a,type:"string"==typeof f[a]?"esriFieldTypeString":"esriFieldTypeDouble"}))}(n.attributes):null,l,o,c);return d.rasterizeCIMSymbol(u,n,o,h,g,m)})()}analyzeCIMSymbol(a,n,l,o,h){var g=this;return(0,T.Z)(function*(){const m=[],c=n?{geometryType:o,spatialReference:g._spatialReference,fields:n}:null;let d;yield(0,$.c)(a.data,c,m,g._avoidSDF),(0,H.k_)(h);for(const u of m)"CIMPictureMarker"!==u.cim.type&&"CIMPictureFill"!==u.cim.type&&"CIMPictureStroke"!==u.cim.type||(d||(d=[]),d.push(g.fetchPictureMarkerResource(u,h))),l&&"text"===u.type&&"string"==typeof u.text&&u.text.indexOf("[")>-1&&(u.text=(0,C.Qs)(l,u.text,u.cim.textCase));return d&&(yield Promise.all(d)),m})()}fetchPictureMarkerResource(a,n){var l=this;return(0,T.Z)(function*(){const o=a.materialHash;if(!l._pictureMarkerCache.get(o)){const h=(yield(0,V.default)(a.cim.url,{responseType:"image",signal:n&&n.signal})).data;l._pictureMarkerCache.set(o,h)}})()}rasterizeCIMSymbol(a,n,l,o,h,g){const m=[];for(const c of a){o&&"function"==typeof o.scaleFactor&&(o.scaleFactor=o.scaleFactor(n,h,g));const d=this._getRasterizedResource(c,n,l,o,h,g);if(!d)continue;let u=0,M=d.anchorX||0,t=d.anchorY||0,e=!1,i=0,r=0;if("esriGeometryPoint"===l){const s=O(o,c,null);if(i=(0,C.hf)(c.offsetX,n,h,g)*s||0,r=(0,C.hf)(c.offsetY,n,h,g)*s||0,"marker"===c.type)u=(0,C.hf)(c.rotation,n,h,g)||0,e=!!c.rotateClockwise&&c.rotateClockwise;else if("text"===c.type){if(u=(0,C.hf)(c.angle,n,h,g)||0,void 0!==c.horizontalAlignment)switch(c.horizontalAlignment){case"left":M=-.5;break;case"right":M=.5;break;default:M=0}if(void 0!==c.verticalAlignment)switch(c.verticalAlignment){case"top":t=.5;break;case"bottom":t=-.5;break;case"baseline":t=-.25;break;default:t=0}}}null!=d&&m.push({angle:u,rotateClockWise:e,anchorX:M,anchorY:t,offsetX:i,offsetY:r,rasterizedResource:d})}return this.getSymbolImage(m)}getSymbolImage(a){const n=document.createElement("canvas"),l=n.getContext("2d");let o=0,h=0,g=0,m=0;const c=[];for(let t=0;t<a.length;t++){const e=a[t],i=e.rasterizedResource;if(!i)continue;const r=i.size,s=e.offsetX,y=e.offsetY,p=e.anchorX,x=e.anchorY,P=e.rotateClockWise||!1;let z=e.angle,v=(0,I.F2)(s)-r[0]*(.5+p),S=(0,I.F2)(y)-r[1]*(.5+x),Y=v+r[0],E=S+r[1];if(z){P&&(z=-z);const N=Math.sin(z*Math.PI/180),_=Math.cos(z*Math.PI/180),ne=v*_-S*N,re=v*N+S*_,oe=v*_-E*N,se=v*N+E*_,le=Y*_-E*N,he=Y*N+E*_,ce=Y*_-S*N,me=Y*N+S*_;v=Math.min(ne,oe,le,ce),S=Math.min(re,se,he,me),Y=Math.max(ne,oe,le,ce),E=Math.max(re,se,he,me)}o=v<o?v:o,h=S<h?S:h,g=Y>g?Y:g,m=E>m?E:m;const ae=l.createImageData(i.size[0],i.size[1]);ae.data.set(new Uint8ClampedArray(i.image.buffer)),c.push({offsetX:s,offsetY:y,rotateClockwise:P,angle:z,rasterizedImage:ae,anchorX:p,anchorY:x})}n.width=g-o,n.height=m-h;const d=-o,u=m;for(let t=0;t<c.length;t++){const e=c[t],i=this._imageDataToCanvas(e.rasterizedImage),y=d-e.rasterizedImage.width*(.5+e.anchorX),p=u-e.rasterizedImage.height*(.5-e.anchorY);if(e.angle){const x=(360-e.angle)*Math.PI/180;l.save(),l.translate((0,I.F2)(e.offsetX),-(0,I.F2)(e.offsetY)),l.translate(d,u),l.rotate(x),l.translate(-d,-u),l.drawImage(i,y,p),l.restore()}else l.drawImage(i,y+(0,I.F2)(e.offsetX),p-(0,I.F2)(e.offsetY))}const M=new k.Z({x:d/n.width-.5,y:u/n.height-.5});return{imageData:0!==n.width&&0!==n.height?l.getImageData(0,0,n.width,n.height):l.createImageData(1,1),anchorPosition:M}}_imageDataToCanvas(a){this._imageDataCanvas||(this._imageDataCanvas=document.createElement("canvas"));const n=this._imageDataCanvas,l=n.getContext("2d");return n.width=a.width,n.height=a.height,l.putImageData(a,0,0),n}_imageTo32Array(a,n,l){this._imageDataCanvas||(this._imageDataCanvas=document.createElement("canvas"));const o=this._imageDataCanvas,h=o.getContext("2d");return o.width=n,o.height=l,h.drawImage(a,0,0,n,l),new Uint32Array(h.getImageData(0,0,n,l).data.buffer)}_getRasterizedResource(a,n,l,o,h,g){let m,c,d,u;if("esriGeometryPolyline"===l||"esriGeometryPolygon"===l){const t=o&&o.style?o.style:F.Legend,e="esriGeometryPolyline"===l?X.stroke[t]:X.fill[t];if("line"===a.type){if("CIMSolidStroke"!==a.cim.type){if("CIMPictureStroke"===a.cim.type){const i=(0,C.hf)(a.width,n,h,g),{image:r,width:s,height:y}=this._getPictureResource(a,i);return this._rasterizePictureResource(a,r,s,y,e,i)}return null}({analyzedCIM:m,hash:d}=L(a,n,h,g)),c=this._embedCIMLayerInVectorMarker(m,e)}else if("marker"===a.type){if("CIMPictureMarker"===a.cim.type||"CIMVectorMarker"!==a.cim.type)return null;a.cim.offsetX=(0,C.hf)(a.offsetX,n,h,g),a.cim.offsetY=(0,C.hf)(a.offsetY,n,h,g),a.cim.rotation=(0,C.hf)(a.rotation,n,h,g),a.cim.markerPlacement=a.markerPlacement,({analyzedCIM:m}=L(a,n,h,g)),d=(0,b.hP)(JSON.stringify(m)).toString(),c=this._embedCIMLayerInVectorMarker(m,e)}else{if("text"===a.type)return null;if("fill"===a.type){if("CIMHatchFill"===a.cim.type||"CIMVectorMarker"===a.cim.type||"CIMPictureMarker"===a.cim.type||"CIMPictureFill"===a.cim.type){const i=a.cim.size||a.cim.height;let r,s,y;if("CIMPictureMarker"===a.cim.type||"CIMPictureFill"===a.cim.type)({image:r,width:s,height:y}=this._getPictureResource(a,i));else{({analyzedCIM:m,hash:d}=L(a,n,h,g));const p=this._rasterizer.rasterizeJSONResource(m,1,this._avoidSDF);r=p.image,s=p.size[0],y=p.size[1]}return this._rasterizePictureResource(a,r,s,y,e,null)}if("CIMSolidFill"!==a.cim.type)return null;({analyzedCIM:m,hash:d}=L(a,n,h,g)),c=this._embedCIMLayerInVectorMarker(m,e)}}}else{if("text"===a.type)return u=this._rasterizeTextResource(a,n,o,h,g),u;({analyzedCIM:m,hash:d}=L(a,n,h,g));const t=O(o,a,null);if("CIMPictureMarker"===a.cim.type){const e=(0,C.hf)(a.size,n,h,g)*t,{image:i,width:r,height:s}=this._getPictureResource(a,e);return u={image:i,size:[r,s],sdf:!1,simplePattern:!1,anchorX:a.anchorPoint?a.anchorPoint.x:0,anchorY:a.anchorPoint?a.anchorPoint.y:0},u}(0,W.FW)(m,t,{preserveOutlineWidth:!1}),c=m}d+=l,o&&(d+=JSON.stringify(o));const M=this._resourceCache;return M.has(d)?M.get(d):(u=this._rasterizer.rasterizeJSONResource(c,window.devicePixelRatio||1,this._avoidSDF),M.set(d,u),u)}_rasterizeTextResource(a,n,l,o,h){const g=O(l,a,null),m=(0,C.hf)(a.text,n,o,h);if(!m||0===m.length)return null;const c=(0,C.hf)(a.fontName,n,o,h),d=(0,C.hf)(a.style,n,o,h),u=(0,C.hf)(a.weight,n,o,h),M=(0,C.hf)(a.decoration,n,o,h),t=(0,C.hf)(a.size,n,o,h)*g,e=(0,C.hf)(a.horizontalAlignment,n,o,h),i=(0,C.hf)(a.verticalAlignment,n,o,h),r=(0,C.nn)((0,C.hf)(a.color,n,o,h)),s=(0,C.nn)((0,C.hf)(a.outlineColor,n,o,h)),y={color:r,size:t,horizontalAlignment:e,verticalAlignment:i,font:{family:c,style:d,weight:u,decoration:M},halo:{size:(0,C.hf)(a.outlineSize,n,o,h)||0,color:s,style:d},pixelRatio:1,premultiplyColors:!this._avoidSDF};return this._textRasterizer.rasterizeText(m,y)}_rasterizePictureResource(a,n,l,o,h,g){const m=document.createElement("canvas"),c=m.getContext("2d");m.height=(0,I.F2)(Math.max(Math.abs(h.frame.ymax-h.frame.ymin),g)),m.width=(0,I.F2)(Math.abs(h.frame.xmax-h.frame.xmin));const d=c.createImageData(l,o);d.data.set(new Uint8ClampedArray(n.buffer));const u=this._imageDataToCanvas(d),M=c.createPattern(u,"repeat"),t=Math.cos((-a.cim.rotation||0)*Math.PI/180),e=Math.sin((-a.cim.rotation||0)*Math.PI/180);M.setTransform({m11:t,m12:e,m21:-e,m22:t,m41:(0,I.F2)(a.cim.offsetX)||0,m42:(0,I.F2)(a.cim.offsetY)||0});const i=h.canvasPaths;let r,s,y;(0,R.oU)(i)?(r=i.rings,c.fillStyle=M,s=c.fill,y=["evenodd"]):(0,R.l9)(i)&&(r=i.paths,c.strokeStyle=M,c.lineWidth=g,s=c.stroke,r[0][0][1]=m.height/2,r[0][1][1]=m.height/2),c.beginPath();for(const P of r){const z=P?P.length:0;if(z>1){let v=P[0];c.moveTo((0,I.F2)(v[0]),(0,I.F2)(v[1]));for(let S=1;S<z;++S)v=P[S],c.lineTo((0,I.F2)(v[0]),(0,I.F2)(v[1]));c.closePath()}}s.apply(c,y);const p=c.getImageData(0,0,m.width,m.height),x=new Uint8Array(p.data);return{size:[m.width,m.height],image:new Uint32Array(x.buffer),sdf:!1,simplePattern:!1,anchorX:0,anchorY:0}}_getPictureResource(a,n){const l=this._pictureMarkerCache.get(a.materialHash);if(!l)return null;const o=l.height/l.width,h=n?o>1?(0,I.F2)(n):(0,I.F2)(n)/o:l.width,g=n?o>1?(0,I.F2)(n)*o:(0,I.F2)(n):l.height;return{image:this._imageTo32Array(l,h,g),width:h,height:g}}_embedCIMLayerInVectorMarker(a,n){const l=(0,R.oU)(n.geometry)?"CIMPolygonSymbol":"CIMLineSymbol";return{type:"CIMVectorMarker",frame:n.frame,markerGraphics:[{type:"CIMMarkerGraphic",geometry:n.geometry,symbol:{type:l,symbolLayers:[a]}}]}}}(null,!0);function ie(f){return B.apply(this,arguments)}function B(){return B=(0,T.Z)(function*(f,a={}){const{size:n,maxSize:l,node:o,opacity:h}=a,g=a.cimOptions||a,{feature:m,fieldMap:c,geometryType:d,style:u}=g,M=(0,W.kW)(f),t=Math.min(null!=n?n:M,null!=l?l:(0,I.Wz)(120));t!==M&&(f=f.clone(),(0,W.PI)(f,t,{preserveOutlineWidth:!0}));let e=3;f&&f.data&&f.data.symbol&&"CIMPointSymbol"!==f.data.symbol.type&&(e=1);const i=yield j.rasterizeCIMSymbolAsync(f,m,c,d,{scaleFactor:e,style:u}),r=document.createElement("canvas");r.width=i.imageData.width,r.height=i.imageData.height,r.getContext("2d").putImageData(i.imageData,0,0);let s=r.width/e,y=r.height/e;if(null!=n&&(null==(null==a?void 0:a.scale)||(null==a?void 0:a.scale))){const x=s/y;s=x<=1?Math.ceil(t*x):t,y=x<=1?t:Math.ceil(t/x)}const p=new Image(s,y);return p.src=r.toDataURL(),null!=h&&(p.style.opacity=`${h}`),o&&o.appendChild(p),p}),B.apply(this,arguments)}}}]);