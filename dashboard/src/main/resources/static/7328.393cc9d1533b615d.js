"use strict";(self.webpackChunkdashboard=self.webpackChunkdashboard||[]).push([[7328],{62855:(te,L,e)=>{e.d(L,{E:()=>N});class D{constructor(l={}){this._options=l}toQueryParams(l){if(!l)return null;const j=l.toJSON(),M={};return Object.keys(j).forEach(t=>{const p=this._options[t];if(p){const r="boolean"!=typeof p&&p.name?p.name:t,E="boolean"!=typeof p&&p.getter?p.getter(j):j[t];null!=E&&(M[r]=(m=>{if(!Array.isArray(m))return!1;const[l]=m;return"number"==typeof l||"string"==typeof l})(E)?E.join(","):"object"==typeof E?JSON.stringify(E):E)}else M[t]=j[t]},this),M}}function N(m){return new D(m)}},27569:(te,L,e)=>{e.d(L,{et:()=>me,ef:()=>_e,bI:()=>fe,mT:()=>ve,Wf:()=>he});var n=e(61921),D=e(40662),N=e(22795),m=e(60305),l=e(69140),j=e(89225),M=e(38953),t=e(60046),p=e(54792),r=e(9077),V=(e(67474),e(57025),e(33870),e(42442)),oe=e(85071),_=e(13637),b=e(9836);const h=(0,b.wY)()({esriCentimeters:"centimeters",esriDecimalDegrees:"decimal-degrees",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriPoints:"points",esriYards:"yards"}),A=((0,b.wY)()({esriNAUCentimeters:"centimeters",esriNAUDecimalDegrees:"decimal-degrees",esriNAUDecimeters:"decimeters",esriNAUFeet:"feet",esriNAUInches:"inches",esriNAUKilometers:"kilometers",esriNAUMeters:"meters",esriNAUMiles:"miles",esriNAUMillimeters:"millimeters",esriNAUNauticalMiles:"nautical-miles",esriNAUPoints:"points",esriNAUYards:"yards"}),(0,b.wY)()({esriDOTComplete:"complete",esriDOTCompleteNoEvents:"complete-no-events",esriDOTInstructionsOnly:"instructions-only",esriDOTStandard:"standard",esriDOTSummaryOnly:"summary-only"}),(0,b.wY)()({esriNAOutputLineNone:"none",esriNAOutputLineStraight:"straight",esriNAOutputLineTrueShape:"true-shape",esriNAOutputLineTrueShapeWithMeasure:"true-shape-with-measure"}),(0,b.wY)()({esriNAOutputPolygonNone:"none",esriNAOutputPolygonSimplified:"simplified",esriNAOutputPolygonDetailed:"detailed"}),(0,b.wY)()({esriNFSBAllowBacktrack:"allow-backtrack",esriNFSBAtDeadEndsOnly:"at-dead-ends-only",esriNFSBNoBacktrack:"no-backtrack",esriNFSBAtDeadEndsAndIntersections:"at-dead-ends-and-intersections"})),$=((0,b.wY)()({esriNATravelDirectionFromFacility:"from-facility",esriNATravelDirectionToFacility:"to-facility"}),(0,b.wY)()({esriNATimeOfDayNotUsed:"not-used",esriNATimeOfDayUseAsStartTime:"start",esriNATimeOfDayUseAsEndTime:"end"}),(0,b.wY)()({AUTOMOBILE:"automobile",TRUCK:"truck",WALK:"walk",OTHER:"other"}));var F;let u=F=class extends p.wq{constructor(s){super(s),this.attributeParameterValues=null,this.description=null,this.distanceAttributeName=null,this.id=null,this.impedanceAttributeName=null,this.name=null,this.restrictionAttributeNames=null,this.simplificationTolerance=null,this.simplificationToleranceUnits=null,this.timeAttributeName=null,this.type=null,this.useHierarchy=null,this.uturnAtJunctions=null}clone(){return new F((0,oe.d9)({attributeParameterValues:this.attributeParameterValues,description:this.description,distanceAttributeName:this.distanceAttributeName,id:this.id,impedanceAttributeName:this.impedanceAttributeName,name:this.name,restrictionAttributeNames:this.restrictionAttributeNames,simplificationTolerance:this.simplificationTolerance,simplificationToleranceUnits:this.simplificationToleranceUnits,timeAttributeName:this.timeAttributeName,type:this.type,useHierarchy:this.useHierarchy,uturnAtJunctions:this.uturnAtJunctions}))}};(0,t._)([(0,r.Cb)({type:[Object],json:{write:!0}})],u.prototype,"attributeParameterValues",void 0),(0,t._)([(0,r.Cb)({type:String,json:{write:!0}})],u.prototype,"description",void 0),(0,t._)([(0,r.Cb)({type:String,json:{write:!0}})],u.prototype,"distanceAttributeName",void 0),(0,t._)([(0,r.Cb)({type:String,json:{write:!0}})],u.prototype,"id",void 0),(0,t._)([(0,r.Cb)({type:String,json:{write:!0}})],u.prototype,"impedanceAttributeName",void 0),(0,t._)([(0,r.Cb)({type:String,json:{write:!0}})],u.prototype,"name",void 0),(0,t._)([(0,r.Cb)({type:[String],json:{write:!0}})],u.prototype,"restrictionAttributeNames",void 0),(0,t._)([(0,r.Cb)({type:Number,json:{write:!0}})],u.prototype,"simplificationTolerance",void 0),(0,t._)([(0,_.J)(h)],u.prototype,"simplificationToleranceUnits",void 0),(0,t._)([(0,r.Cb)({type:String,json:{write:!0}})],u.prototype,"timeAttributeName",void 0),(0,t._)([(0,_.J)($)],u.prototype,"type",void 0),(0,t._)([(0,r.Cb)({type:Boolean,json:{write:!0}})],u.prototype,"useHierarchy",void 0),(0,t._)([(0,_.J)(A)],u.prototype,"uturnAtJunctions",void 0),u=F=(0,t._)([(0,V.j)("esri.rest.support.TravelMode")],u);var c=u;let f=class extends p.wq{constructor(s){super(s),this.currentVersion=null,this.defaultTravelMode=null,this.directionsLanguage=null,this.directionsSupportedLanguages=null,this.directionsTimeAttribute=null,this.hasZ=null,this.impedance=null,this.networkDataset=null,this.supportedTravelModes=null}};(0,t._)([(0,r.Cb)()],f.prototype,"currentVersion",void 0),(0,t._)([(0,r.Cb)()],f.prototype,"defaultTravelMode",void 0),(0,t._)([(0,r.Cb)()],f.prototype,"directionsLanguage",void 0),(0,t._)([(0,r.Cb)()],f.prototype,"directionsSupportedLanguages",void 0),(0,t._)([(0,r.Cb)()],f.prototype,"directionsTimeAttribute",void 0),(0,t._)([(0,r.Cb)()],f.prototype,"hasZ",void 0),(0,t._)([(0,r.Cb)()],f.prototype,"impedance",void 0),(0,t._)([(0,r.Cb)()],f.prototype,"networkDataset",void 0),(0,t._)([(0,r.Cb)({type:[c]})],f.prototype,"supportedTravelModes",void 0),f=(0,t._)([(0,V.j)("esri.rest.support.NetworkServiceDescription")],f);var re=f,Z=e(83459),v=e(67424),U=e(51201),W=e(91619),w=e(23878);let G=class extends p.wq{constructor(s){super(s),this.directions=null,this.route=null,this.routeName=null,this.stops=null}};(0,t._)([(0,r.Cb)({type:w.Z,json:{write:!0}})],G.prototype,"directions",void 0),(0,t._)([(0,r.Cb)({type:Z.Z,json:{write:!0}})],G.prototype,"route",void 0),(0,t._)([(0,r.Cb)({type:String,json:{write:!0}})],G.prototype,"routeName",void 0),(0,t._)([(0,r.Cb)({type:[Z.Z],json:{write:!0}})],G.prototype,"stops",void 0),G=(0,t._)([(0,V.j)("esri.rest.support.RouteResult")],G);var ce=G;function ie(s){return s&&U.default.fromJSON(s).features.map(o=>o)}let P=class extends p.wq{constructor(s){super(s),this.barriers=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.routeResults=null}readPointBarriers(s,o){return ie(o.barriers||o.pointBarriers)}readPolylineBarriers(s){return ie(s)}readPolygonBarriers(s){return ie(s)}};(0,t._)([(0,r.Cb)({aliasOf:"pointBarriers"})],P.prototype,"barriers",void 0),(0,t._)([(0,r.Cb)({type:[W.Z]})],P.prototype,"messages",void 0),(0,t._)([(0,r.Cb)({type:[Z.Z]})],P.prototype,"pointBarriers",void 0),(0,t._)([(0,v.r)("pointBarriers",["barriers","pointBarriers"])],P.prototype,"readPointBarriers",null),(0,t._)([(0,r.Cb)({type:[Z.Z]})],P.prototype,"polylineBarriers",void 0),(0,t._)([(0,v.r)("polylineBarriers")],P.prototype,"readPolylineBarriers",null),(0,t._)([(0,r.Cb)({type:[Z.Z]})],P.prototype,"polygonBarriers",void 0),(0,t._)([(0,v.r)("polygonBarriers")],P.prototype,"readPolygonBarriers",null),(0,t._)([(0,r.Cb)({type:[ce]})],P.prototype,"routeResults",void 0),P=(0,t._)([(0,V.j)("esri.rest.support.RouteResultsContainer")],P);var ye=P;function me(s,o,i,d){d[i]=[o.length,o.length+s.length],s.forEach(a=>{o.push(a.geometry)})}function _e(s,o){for(let i=0;i<o.length;i++){const d=s[o[i]];if(d&&d.length)for(const a of d)a.z=void 0}console.log("The remote Network Analysis service is powered by a network dataset which is not Z-aware.\nZ-coordinates of the input geometry are ignored.")}function ve(s){const o=[],i=[],{directions:d=[],routes:{features:a=[],spatialReference:K=null}={},stops:{features:I=[],spatialReference:X=null}={},barriers:B,polygonBarriers:H,polylineBarriers:z,messages:pe}=s.data,x="esri.tasks.RouteTask.NULL_ROUTE_NAME";let T,Q,k=!0;const q=a&&K||I&&X||B&&B.spatialReference||H&&H.spatialReference||z&&z.spatialReference;d.forEach(y=>{o.push(T=y.routeName),i[T]={directions:y}}),a.forEach(y=>{-1===o.indexOf(T=y.attributes.Name)&&(o.push(T),i[T]={}),(0,m.pC)(y.geometry)&&(y.geometry.spatialReference=q),i[T].route=y}),I.forEach(y=>{Q=y.attributes,-1===o.indexOf(T=Q.RouteName||x)&&(o.push(T),i[T]={}),T!==x&&(k=!1),(0,m.pC)(y.geometry)&&(y.geometry.spatialReference=q),null==i[T].stops&&(i[T].stops=[]),i[T].stops.push(y)}),I.length>0&&!0===k&&(i[o[0]].stops=i[x].stops,delete i[x],o.splice(o.indexOf(x),1));const se=o.map(y=>(i[y].routeName=y===x?null:y,i[y]));return ye.fromJSON({routeResults:se,pointBarriers:B,polygonBarriers:H,polylineBarriers:z,messages:pe})}function he(s,o){for(let i=0;i<o.length;i++){const d=s[o[i]];if(d&&d.length)for(const a of d)if((0,m.pC)(a)&&a.hasZ)return!0}return!1}function fe(s,o,i){return ne.apply(this,arguments)}function ne(){return(ne=(0,n.Z)(function*(s,o,i){if(!s)throw new N.Z("network-service:missing-url","Url to Network service is missing");const d=(0,M.lA)({f:"json",token:o},i),{data:a}=yield(0,D.default)(s,d);a.supportedTravelModes||(a.supportedTravelModes=[]);for(let B=0;B<a.supportedTravelModes.length;B++)a.supportedTravelModes[B].id||(a.supportedTravelModes[B].id=a.supportedTravelModes[B].itemId);const K=a.currentVersion>=10.4?Te(s,o,i):ge(s,i),{defaultTravelMode:I,supportedTravelModes:X}=yield K;return a.defaultTravelMode=I,a.supportedTravelModes=X,re.fromJSON(a)})).apply(this,arguments)}function ge(s,o){return ae.apply(this,arguments)}function ae(){return(ae=(0,n.Z)(function*(s,o){var i,d;const a=(0,M.lA)({f:"json"},o),{data:K}=yield(0,D.default)(s.replace(/\/rest\/.*$/i,"/info"),a);if(!K||!K.owningSystemUrl)return{supportedTravelModes:[],defaultTravelMode:null};const{owningSystemUrl:I}=K,X=(0,j.Qj)(I)+"/sharing/rest/portals/self",{data:B}=yield(0,D.default)(X,a),H=(0,l.hS)("helperServices.routingUtilities.url",B);if(!H)return{supportedTravelModes:[],defaultTravelMode:null};const z=(0,M.en)(I),pe=/\/solve$/i.test(z.path)?"Route":/\/solveclosestfacility$/i.test(z.path)?"ClosestFacility":"ServiceAreas",x=(0,M.lA)({f:"json",serviceName:pe},o),T=(0,j.Qj)(H)+"/GetTravelModes/execute",Q=yield(0,D.default)(T,x),k=[];let q=null;if(null!=Q&&null!=(i=Q.data)&&null!=(d=i.results)&&d.length){const y=Q.data.results;for(const ee of y){var se;if("supportedTravelModes"===ee.paramName){if(null!=(se=ee.value)&&se.features)for(const{attributes:de}of ee.value.features)if(de){const Me=JSON.parse(de.TravelMode);k.push(Me)}}else"defaultTravelMode"===ee.paramName&&(q=ee.value)}}return{supportedTravelModes:k,defaultTravelMode:q}})).apply(this,arguments)}function Te(s,o,i){return le.apply(this,arguments)}function le(){return(le=(0,n.Z)(function*(s,o,i){try{const d=(0,M.lA)({f:"json",token:o},i),a=(0,j.Qj)(s)+"/retrieveTravelModes",{data:{supportedTravelModes:K,defaultTravelMode:I}}=yield(0,D.default)(a,d);return{supportedTravelModes:K,defaultTravelMode:I}}catch(d){throw new N.Z("network-service:retrieveTravelModes","Could not get to the NAServer's retrieveTravelModes.",{error:d})}})).apply(this,arguments)}},23878:(te,L,e)=>{e.d(L,{Z:()=>b});var n=e(60046),N=(e(73513),e(83459)),m=e(60305),l=e(9077),p=(e(67474),e(57025),e(33870),e(67424)),r=e(42442),E=e(51201),Y=e(82059),ue=e(56703),V=e(27640),oe=e(27876);let _=class extends E.default{constructor(h){super(h),this.extent=null,this.features=null,this.geometryType="polyline",this.routeId=null,this.routeName=null,this.totalDriveTime=null,this.totalLength=null,this.totalTime=null}readFeatures(h,R){(h||[]).forEach(g=>{this._decompressFeatureGeometry(g,R.summary.envelope.spatialReference)});const S=ue.Z.fromJSON(R.spatialReference);return h.map(g=>{const O=N.Z.fromJSON(g),A=(0,m.pC)(g.geometry)&&g.geometry.spatialReference;return O.geometry&&!A&&((0,m.Wg)(O.geometry).spatialReference=S),O.strings=g.strings,O.events=(g.events||[]).map(C=>{const J=new N.Z({geometry:new V.Z({x:C.point.x,y:C.point.y,z:C.point.z,hasZ:void 0!==C.point.z,spatialReference:(0,m.pC)(g.geometry)&&g.geometry.spatialReference}),attributes:{ETA:C.ETA,arriveTimeUTC:C.arriveTimeUTC}});return J.strings=C.strings,J}),O})}get mergedGeometry(){if(!this.features)return null;const h=this.features.map(({geometry:S})=>(0,m.Wg)(S)),R=this.get("extent.spatialReference");return this._mergePolylinesToSinglePath(h,R)}get strings(){return this.features.map(({strings:h})=>h)}_decompressFeatureGeometry(h,R){h.geometry=this._decompressGeometry(h.compressedGeometry,R)}_decompressGeometry(h,R){let S=0,g=0,O=0,A=0;const C=[];let J,$,F,u,c,f,re,Z,v=0,U=0,W=0;if(c=h.match(/((\+|\-)[^\+\-\|]+|\|)/g),c||(c=[]),0===parseInt(c[v],32)){v=2;const w=parseInt(c[v],32);v++,f=parseInt(c[v],32),v++,1&w&&(U=c.indexOf("|")+1,re=parseInt(c[U],32),U++),2&w&&(W=c.indexOf("|",U)+1,Z=parseInt(c[W],32),W++)}else f=parseInt(c[v],32),v++;for(;v<c.length&&"|"!==c[v];){J=parseInt(c[v],32)+S,v++,S=J,$=parseInt(c[v],32)+g,v++,g=$;const w=[J/f,$/f];U&&(u=parseInt(c[U],32)+O,U++,O=u,w.push(u/re)),W&&(F=parseInt(c[W],32)+A,W++,A=F,w.push(F/Z)),C.push(w)}return{paths:[C],hasZ:U>0,hasM:W>0,spatialReference:R}}_mergePolylinesToSinglePath(h,R){let S=[];(h||[]).forEach(A=>{A.paths.forEach(C=>{S=S.concat(C)})});const g=[];let O=[0,0];return S.forEach(A=>{A[0]===O[0]&&A[1]===O[1]||(g.push(A),O=A)}),new oe.Z({paths:[g]},R)}};(0,n._)([(0,l.Cb)({type:Y.Z,json:{read:{source:"summary.envelope"}}})],_.prototype,"extent",void 0),(0,n._)([(0,l.Cb)()],_.prototype,"features",void 0),(0,n._)([(0,p.r)("features")],_.prototype,"readFeatures",null),(0,n._)([(0,l.Cb)()],_.prototype,"geometryType",void 0),(0,n._)([(0,l.Cb)({readOnly:!0})],_.prototype,"mergedGeometry",null),(0,n._)([(0,l.Cb)()],_.prototype,"routeId",void 0),(0,n._)([(0,l.Cb)()],_.prototype,"routeName",void 0),(0,n._)([(0,l.Cb)({value:null,readOnly:!0})],_.prototype,"strings",null),(0,n._)([(0,l.Cb)({json:{read:{source:"summary.totalDriveTime"}}})],_.prototype,"totalDriveTime",void 0),(0,n._)([(0,l.Cb)({json:{read:{source:"summary.totalLength"}}})],_.prototype,"totalLength",void 0),(0,n._)([(0,l.Cb)({json:{read:{source:"summary.totalTime"}}})],_.prototype,"totalTime",void 0),_=(0,n._)([(0,r.j)("esri.rest.support.DirectionsFeatureSet")],_);var b=_},37221:(te,L,e)=>{e.d(L,{Z:()=>E});var n=e(60046),D=e(9836),N=e(54792),m=e(9077),t=(e(67474),e(57025),e(33870),e(42442));const p=new D.Xn({esriJobMessageTypeInformative:"informative",esriJobMessageTypeProcessDefinition:"process-definition",esriJobMessageTypeProcessStart:"process-start",esriJobMessageTypeProcessStop:"process-stop",esriJobMessageTypeWarning:"warning",esriJobMessageTypeError:"error",esriJobMessageTypeEmpty:"empty",esriJobMessageTypeAbort:"abort"});let r=class extends N.wq{constructor(Y){super(Y),this.description=null,this.type=null}};(0,n._)([(0,m.Cb)({type:String,json:{write:!0}})],r.prototype,"description",void 0),(0,n._)([(0,m.Cb)({type:String,json:{read:p.read,write:p.write}})],r.prototype,"type",void 0),r=(0,n._)([(0,t.j)("esri.rest.support.GPMessage")],r);var E=r},91619:(te,L,e)=>{e.d(L,{Z:()=>E});var n=e(60046),D=e(9836),N=e(9077),M=(e(67474),e(57025),e(33870),e(42442)),t=e(37221);const p=new D.Xn({0:"informative",1:"process-definition",2:"process-start",3:"process-stop",50:"warning",100:"error",101:"empty",200:"abort"});let r=class extends t.Z{constructor(Y){super(Y),this.type=null}};(0,n._)([(0,N.Cb)({type:String,json:{read:p.read,write:p.write}})],r.prototype,"type",void 0),r=(0,n._)([(0,M.j)("esri.rest.support.NAMessage")],r);var E=r}}]);